<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>Chapter 03: Operators</title>
<!-- 2015-03-18 Wed 17:27 -->
<meta  http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta  name="generator" content="Org-mode" />
<meta  name="author" content="your name" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center; }
  .todo   { font-family: monospace; color: red; }
  .done   { color: green; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  pre.src-sh:before    { content: 'sh'; }
  pre.src-bash:before  { content: 'sh'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-R:before     { content: 'R'; }
  pre.src-perl:before  { content: 'Perl'; }
  pre.src-java:before  { content: 'Java'; }
  pre.src-sql:before   { content: 'SQL'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.right  { text-align: center;  }
  th.left   { text-align: center;   }
  th.center { text-align: center; }
  td.right  { text-align: right;  }
  td.left   { text-align: left;   }
  td.center { text-align: center; }
  dt { font-weight: bold; }
  .footpara:nth-child(2) { display: inline; }
  .footpara { display: block; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  /*]]>*/-->
</style>

         <link href="http://fonts.googleapis.com/css?family=Droid+Sans+Mono|Galdeano|Open+Sans:600italic,400,600|Roboto+Condensed:400,700" rel="stylesheet" type="text/css">
         <link rel="stylesheet" type="text/css" href="/static/css/main.css"/>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2013 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="org-div-home-and-up">
 <a accesskey="h" href="http://harrifeng.github.io/sitemap.html"> UP </a>
 |
 <a accesskey="H" href="http://harrifeng.github.io/index.html"> HOME </a>
</div><div id="preamble" class="status">

         <div id="header">
            <div id="header-top">
                <div id="blog-title">Harrifeng's Path</div>
                <div id="blog-sub-title">纸上得来终觉浅,绝知此事要Coding</div>
            </div>
            <div id="nav">
                <ul>
                    <li><a href="/">首页</a></li>
                    <li><a href="/about.html">About Me</a></li>
                    <li>
                    </li>
                </ul>
            </div>
         </div>
</div>
<div id="content">
<h1 class="title">Chapter 03: Operators</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">Operators</a>
<ul>
<li><a href="#sec-1-1">Simpler print statements</a></li>
<li><a href="#sec-1-2">Using Java operators</a></li>
<li><a href="#sec-1-3">Precedence</a></li>
<li><a href="#sec-1-4">Assignment</a>
<ul>
<li><a href="#sec-1-4-1">Aliasing during method calls</a></li>
</ul>
</li>
<li><a href="#sec-1-5">Mathematical operators</a>
<ul>
<li><a href="#sec-1-5-1">Unary minus and plus operators</a></li>
</ul>
</li>
<li><a href="#sec-1-6">Auto increment and decrement</a></li>
<li><a href="#sec-1-7">Relational operators</a></li>
<li><a href="#sec-1-8">Logical operators</a>
<ul>
<li><a href="#sec-1-8-1">Short-circuiting</a></li>
</ul>
</li>
<li><a href="#sec-1-9">Literals</a>
<ul>
<li><a href="#sec-1-9-1">Exponential notation</a></li>
</ul>
</li>
<li><a href="#sec-1-10">Bitwise operators</a></li>
<li><a href="#sec-1-11">Shift operators</a></li>
<li><a href="#sec-1-12">Ternary if-else operator</a></li>
<li><a href="#sec-1-13">String operator + and +=</a></li>
<li><a href="#sec-1-14">Common pitfalls when using operators</a></li>
<li><a href="#sec-1-15">Casting Operators</a>
<ul>
<li><a href="#sec-1-15-1">Truncation and rounding</a></li>
<li><a href="#sec-1-15-2">Promotion</a></li>
</ul>
</li>
<li><a href="#sec-1-16">Java has no "sizeof"</a></li>
<li><a href="#sec-1-17">A compendium of operators</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1">Operators</h2>
<div class="outline-text-2" id="text-1">
</div><div id="outline-container-sec-1-1" class="outline-3">
<h3 id="sec-1-1">Simpler print statements</h3>
<div class="outline-text-3" id="text-1-1">
<ul class="org-ul">
<li>TIJ设计了一种使用net.mindview.util.Print.*来替代System.out.println的方法.我
们不采用
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-1-2" class="outline-3">
<h3 id="sec-1-2">Using Java operators</h3>
<div class="outline-text-3" id="text-1-2">
<ul class="org-ul">
<li>基本和c++一致
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-1-3" class="outline-3">
<h3 id="sec-1-3">Precedence</h3>
<div class="outline-text-3" id="text-1-3">
<ul class="org-ul">
<li>也和c++一致,记得自己不太肯定的时候加括号就好了.
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-1-4" class="outline-3">
<h3 id="sec-1-4">Assignment</h3>
<div class="outline-text-3" id="text-1-4">
<ul class="org-ul">
<li>如果赋值的对象是primitive的话,那么和c++没什么区别
</li>
<li>如果赋值对象是object的话,因为在java里面我们只能处理reference.那么赋值其实就
是类似c++里面的指针指向的地址改变,也就是说c=d,意味着c和d都指向同一个object
<div class="org-src-container">

<pre class="src src-java"><span style="color: #AE5825;">package</span> org.hfeng.tij4.<span style="color: #86453A;">operators</span>;

<span style="color: #AE5825;">class</span> <span style="color: #C6B032; font-style: italic;">Tank</span> {
    <span style="color: #C6B032; font-style: italic;">int</span> <span style="color: #46657B;">level</span>;
}
<span style="color: #AE5825;">public</span> <span style="color: #AE5825;">class</span> <span style="color: #C6B032; font-style: italic;">Assignment</span> {
    <span style="color: #AE5825;">public</span> <span style="color: #AE5825;">static</span> <span style="color: #C6B032; font-style: italic;">void</span> <span style="color: #C6B032;">main</span>(<span style="color: #C6B032; font-style: italic;">String</span>[] <span style="color: #46657B;">args</span>) {
        <span style="color: #C6B032; font-style: italic;">Tank</span> <span style="color: #46657B;">t1</span> = <span style="color: #AE5825;">new</span> <span style="color: #C6B032; font-style: italic;">Tank</span>();
        <span style="color: #C6B032; font-style: italic;">Tank</span> <span style="color: #46657B;">t2</span> = <span style="color: #AE5825;">new</span> <span style="color: #C6B032; font-style: italic;">Tank</span>();
        t1.level = 9;
        t2.level = 47;
        System.out.println(<span style="color: #5A7644;">"1:t1.level:"</span> + t1.level + <span style="color: #5A7644;">", t2.level:"</span> + t2.level);

        t1 = t2;
        System.out.println(<span style="color: #5A7644;">"2:t1.level:"</span> + t1.level + <span style="color: #5A7644;">", t2.level:"</span> + t2.level);

        t1.level = 27;
        System.out.println(<span style="color: #5A7644;">"3:t1.level:"</span> + t1.level + <span style="color: #5A7644;">", t2.level:"</span> + t2.level);
    }
}

<span style="color: #4C565D;">////////////////////////////////////////////////////</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">&lt;===================OUTPUT===================&gt; //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">1:t1.level:9, t2.level:47                      //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">2:t1.level:47, t2.level:47                     //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">3:t1.level:27, t2.level:27                     //</span>
<span style="color: #4C565D;">////////////////////////////////////////////////////</span>
</pre>
</div>
</li>
<li>这种现象叫做aliasing,而且是java对待object的最常用方法.
</li>
</ul>
</div>
<div id="outline-container-sec-1-4-1" class="outline-4">
<h4 id="sec-1-4-1">Aliasing during method calls</h4>
<div class="outline-text-4" id="text-1-4-1">
<ul class="org-ul">
<li>当你往一个当对象里面传递object的时候aliasing也会发生:虽然你的ref会有一个替
身,但是你实际指向的object还是有可能被改变. 这其实也就是我们前面说的,java的
pass-by-value, 但是java的非内置类型value就是一个"指针".
<div class="org-src-container">

<pre class="src src-java"><span style="color: #AE5825;">class</span> <span style="color: #C6B032; font-style: italic;">Letter</span> {
    <span style="color: #C6B032; font-style: italic;">char</span> <span style="color: #46657B;">c</span>;
}
<span style="color: #AE5825;">public</span> <span style="color: #AE5825;">class</span> <span style="color: #C6B032; font-style: italic;">PassObject</span> {
    <span style="color: #AE5825;">static</span> <span style="color: #C6B032; font-style: italic;">void</span> <span style="color: #C6B032;">f</span>(<span style="color: #C6B032; font-style: italic;">Letter</span> <span style="color: #46657B;">y</span>) {
        y.c = <span style="color: #5A7644;">'z'</span>;
    }

    <span style="color: #AE5825;">public</span> <span style="color: #AE5825;">static</span> <span style="color: #C6B032; font-style: italic;">void</span> <span style="color: #C6B032;">main</span>(<span style="color: #C6B032; font-style: italic;">String</span>[] <span style="color: #46657B;">args</span>) {
        <span style="color: #C6B032; font-style: italic;">Letter</span> <span style="color: #46657B;">x</span> = <span style="color: #AE5825;">new</span> <span style="color: #C6B032; font-style: italic;">Letter</span>();
        x.c = <span style="color: #5A7644;">'a'</span>;
        System.out.println(<span style="color: #5A7644;">"1:x.c: "</span> +  x.c);
        f(x);
        System.out.println(<span style="color: #5A7644;">"2:x.c: "</span> + x.c );
    }
}

<span style="color: #4C565D;">////////////////////////////////////////////////////</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">&lt;===================OUTPUT===================&gt; //</span>
<span style="color: #4C565D;">//  </span><span style="color: #333B40; font-style: italic;">Output===&gt;:                                   //</span>
<span style="color: #4C565D;">//  </span><span style="color: #333B40; font-style: italic;">1: x.c: a                                     //</span>
<span style="color: #4C565D;">//  </span><span style="color: #333B40; font-style: italic;">2: x.c: z                                     //</span>
<span style="color: #4C565D;">////////////////////////////////////////////////////</span>
</pre>
</div>
</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-sec-1-5" class="outline-3">
<h3 id="sec-1-5">Mathematical operators</h3>
<div class="outline-text-3" id="text-1-5">
<ul class="org-ul">
<li>四则运算也没有什么新意
<div class="org-src-container">

<pre class="src src-java"><span style="color: #AE5825;">package</span> org.hfeng.tij4.<span style="color: #86453A;">operators</span>;

<span style="color: #AE5825;">import</span> <span style="color: #86453A;">java</span>.<span style="color: #86453A;">util</span>.<span style="color: #C6B032; font-style: italic;">Random</span>;

<span style="color: #AE5825;">public</span> <span style="color: #AE5825;">class</span> <span style="color: #C6B032; font-style: italic;">MathOps</span> {
    <span style="color: #AE5825;">public</span> <span style="color: #AE5825;">static</span> <span style="color: #C6B032; font-style: italic;">void</span> <span style="color: #C6B032;">main</span>(<span style="color: #C6B032; font-style: italic;">String</span>[] <span style="color: #46657B;">args</span>) {
        <span style="color: #4C565D;">//</span><span style="color: #333B40; font-style: italic;">Create a seeded random number generator:</span>
        <span style="color: #C6B032; font-style: italic;">Random</span> <span style="color: #46657B;">rand</span> = <span style="color: #AE5825;">new</span> <span style="color: #C6B032; font-style: italic;">Random</span>(47);
        <span style="color: #C6B032; font-style: italic;">int</span> <span style="color: #46657B;">i</span>, <span style="color: #46657B;">j</span>, <span style="color: #46657B;">k</span>;
        <span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">Choose value from 1 to 100;</span>
        j = rand.nextInt(100) + 1;
        System.out.println(<span style="color: #5A7644;">"j: "</span> + j);
        k = rand.nextInt(100) + 1;
        System.out.println(<span style="color: #5A7644;">"k: "</span> + k);
        i = j + k;
        System.out.println(<span style="color: #5A7644;">"j + k : "</span> + i);

        i = j - k;
        System.out.println(<span style="color: #5A7644;">"j - k : "</span> + i);

        i = j * k;
        System.out.println(<span style="color: #5A7644;">"j * k : "</span> + i);

        i = j / k;
        System.out.println(<span style="color: #5A7644;">"j / k : "</span> + i);

        i = j % k;
        System.out.println(<span style="color: #5A7644;">"j % k : "</span> + i);

        <span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">Floating-point number tests:</span>
        <span style="color: #C6B032; font-style: italic;">float</span> <span style="color: #46657B;">u</span>, <span style="color: #46657B;">v</span>, <span style="color: #46657B;">w</span>;

        v = rand.nextFloat();
        System.out.println(<span style="color: #5A7644;">"v: "</span> + v);

        w = rand.nextFloat();
        System.out.println(<span style="color: #5A7644;">"w: "</span> + w);

        u = v + w;
        System.out.println(<span style="color: #5A7644;">"v + w: "</span> + u);

        u = v - w;
        System.out.println(<span style="color: #5A7644;">"v - w: "</span> + u);

        u = v * w;
        System.out.println(<span style="color: #5A7644;">"v * w: "</span> + u);

        u = v / w;
        System.out.println(<span style="color: #5A7644;">"v / w: "</span> + u);

        <span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">The folllowing also works for char, byte, short,int, long, and double</span>
        u += v;
        System.out.println(<span style="color: #5A7644;">"u +=v: "</span> + u);

        u -= v;
        System.out.println(<span style="color: #5A7644;">"u -=v: "</span> + u);

        u *= v;
        System.out.println(<span style="color: #5A7644;">"u *=v: "</span> + u);

        u /= v;
        System.out.println(<span style="color: #5A7644;">"u /=v: "</span> + u);
    }
}

<span style="color: #4C565D;">////////////////////////////////////////////////////</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">&lt;===================OUTPUT===================&gt; //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">j: 59                                          //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">k: 56                                          //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">j + k : 115                                    //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">j - k : 3                                      //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">j * k : 3304                                   //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">j / k : 1                                      //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">j % k : 3                                      //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">v: 0.5309454                                   //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">w: 0.0534122                                   //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">v + w: 0.5843576                               //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">v - w: 0.47753322                              //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">v * w: 0.028358962                             //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">v / w: 9.940527                                //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">u +=v: 10.471473                               //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">u -=v: 9.940527                                //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">u *=v: 5.2778773                               //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">u /=v: 9.940527                                //</span>
<span style="color: #4C565D;">////////////////////////////////////////////////////</span>
</pre>
</div>
</li>
<li>这个例子咱们用了到了Random, 如果我们不设置seed的话,系统默认会使用current
time作为seed
</li>
</ul>
</div>
<div id="outline-container-sec-1-5-1" class="outline-4">
<h4 id="sec-1-5-1">Unary minus and plus operators</h4>
<div class="outline-text-4" id="text-1-5-1">
<ul class="org-ul">
<li>'+'和'-'做符号用的时候,记得加个括号,更容易辨识
</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-sec-1-6" class="outline-3">
<h3 id="sec-1-6">Auto increment and decrement</h3>
<div class="outline-text-3" id="text-1-6">
<ul class="org-ul">
<li>也是老生常谈了,pre和post的区别
<div class="org-src-container">

<pre class="src src-java"><span style="color: #AE5825;">package</span> org.hfeng.tij4.<span style="color: #86453A;">operators</span>;

<span style="color: #AE5825;">public</span> <span style="color: #AE5825;">class</span> <span style="color: #C6B032; font-style: italic;">AutoInc</span> {
    <span style="color: #AE5825;">public</span> <span style="color: #AE5825;">static</span> <span style="color: #C6B032; font-style: italic;">void</span> <span style="color: #C6B032;">main</span>(<span style="color: #C6B032; font-style: italic;">String</span>[] <span style="color: #46657B;">args</span>) {
        <span style="color: #C6B032; font-style: italic;">int</span> <span style="color: #46657B;">i</span> = 1;
        System.out.println(<span style="color: #5A7644;">"i:"</span> + i);
        System.out.println(<span style="color: #5A7644;">"++i:"</span> + ++i);
        System.out.println(<span style="color: #5A7644;">"i++:"</span> + i++);

        System.out.println(<span style="color: #5A7644;">"i:"</span> + i);
        System.out.println(<span style="color: #5A7644;">"--i:"</span> + --i);
        System.out.println(<span style="color: #5A7644;">"i--:"</span> + i--);

        System.out.println(<span style="color: #5A7644;">"i:"</span> + i);
    }
}

<span style="color: #4C565D;">////////////////////////////////////////////////////</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">&lt;===================OUTPUT===================&gt; //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">i:1                                            //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">++i:2                                          //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">i++:2                                          //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">i:3                                            //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">--i:2                                          //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">i--:2                                          //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">i:1                                            //</span>
<span style="color: #4C565D;">////////////////////////////////////////////////////</span>
</pre>
</div>
</li>
<li>顺便说一句,面试常考的题目就是++i和i++哪个效率高,正确的答案是:
<ul class="org-ul">
<li>i++有可能会比++i要慢(或者说++i不可能比i++慢), 因为i的旧的值可能要存储起来
以便为后面的程序所使用
</li>
<li>现代的编译器(或者说CPU)都会把++i的情况进行优化
</li>
<li>但是我们还是推荐使用++i.这才是正确的使用方法
</li>
<li>i++其实是为极为特殊的情况下才使用的(我们保存一个值,增加了它,然后还想用它
刚才的值), 如果单纯使用i++其实是一个浪费:我们拷贝一个数的值,然后给这个数
加一,然后再把原来存才原始值扔掉&#x2026;多余了两步操作.
</li>
</ul>
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-1-7" class="outline-3">
<h3 id="sec-1-7">Relational operators</h3>
<div class="outline-text-3" id="text-1-7">
<ul class="org-ul">
<li>relational operator操作的结果是产生boolean result,其方法也是和C++差不多,
但是Java因为是一个reference的世界.所以relational operator比较的其实是两个
ref的值,也就是两个对象的内存地址,那肯定是不一样的
<div class="org-src-container">

<pre class="src src-java"><span style="color: #AE5825;">package</span> org.hfeng.tij4.<span style="color: #86453A;">operators</span>;

<span style="color: #AE5825;">public</span> <span style="color: #AE5825;">class</span> <span style="color: #C6B032; font-style: italic;">Equivalence</span> {
    <span style="color: #AE5825;">public</span> <span style="color: #AE5825;">static</span> <span style="color: #C6B032; font-style: italic;">void</span> <span style="color: #C6B032;">main</span>(<span style="color: #C6B032; font-style: italic;">String</span>[] <span style="color: #46657B;">args</span>) {
        <span style="color: #C6B032; font-style: italic;">Integer</span> <span style="color: #46657B;">n1</span> = <span style="color: #AE5825;">new</span> <span style="color: #C6B032; font-style: italic;">Integer</span>(47);
        <span style="color: #C6B032; font-style: italic;">Integer</span> <span style="color: #46657B;">n2</span> = <span style="color: #AE5825;">new</span> <span style="color: #C6B032; font-style: italic;">Integer</span>(42);

        System.out.println(n1 == n2);
        System.out.println(n1 != n2);
    }
}

<span style="color: #4C565D;">////////////////////////////////////////////////////</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">&lt;===================OUTPUT===================&gt; //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">false                                          //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">true                                           //</span>
<span style="color: #4C565D;">////////////////////////////////////////////////////</span>
</pre>
</div>
</li>
<li>如果我们想比较两个object的"内涵"是不是一样呢?我们就需要函数equals()
<div class="org-src-container">

<pre class="src src-java"><span style="color: #AE5825;">package</span> org.hfeng.tij4.<span style="color: #86453A;">operators</span>;

<span style="color: #AE5825;">public</span> <span style="color: #AE5825;">class</span> <span style="color: #C6B032; font-style: italic;">EqualsMethod</span> {
    <span style="color: #AE5825;">public</span> <span style="color: #AE5825;">static</span> <span style="color: #C6B032; font-style: italic;">void</span> <span style="color: #C6B032;">main</span>(<span style="color: #C6B032; font-style: italic;">String</span>[] <span style="color: #46657B;">args</span>) {
        <span style="color: #C6B032; font-style: italic;">Integer</span> <span style="color: #46657B;">n1</span> = <span style="color: #AE5825;">new</span> <span style="color: #C6B032; font-style: italic;">Integer</span>(47);
        <span style="color: #C6B032; font-style: italic;">Integer</span> <span style="color: #46657B;">n2</span> = <span style="color: #AE5825;">new</span> <span style="color: #C6B032; font-style: italic;">Integer</span>(47);
        System.out.println(n1.equals(n2));
    }
}

<span style="color: #4C565D;">////////////////////////////////////////////////////</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">&lt;===================OUTPUT===================&gt; //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">true                                           //</span>
<span style="color: #4C565D;">////////////////////////////////////////////////////</span>
</pre>
</div>
</li>
<li>但是世界不是总那么美好..如果你自己创建了class,没有override equals的话,情况
就是直接返回false, 因为equals的默认的行为就是比较reference.
<div class="org-src-container">

<pre class="src src-java"><span style="color: #AE5825;">package</span> org.hfeng.tij4.<span style="color: #86453A;">operators</span>;

<span style="color: #AE5825;">class</span> <span style="color: #C6B032; font-style: italic;">Value</span> {
    <span style="color: #C6B032; font-style: italic;">int</span> <span style="color: #46657B;">i</span>;
}

<span style="color: #AE5825;">public</span> <span style="color: #AE5825;">class</span> <span style="color: #C6B032; font-style: italic;">EqualsMethod2</span> {
    <span style="color: #AE5825;">public</span> <span style="color: #AE5825;">static</span> <span style="color: #C6B032; font-style: italic;">void</span> <span style="color: #C6B032;">main</span>(<span style="color: #C6B032; font-style: italic;">String</span>[] <span style="color: #46657B;">args</span>) {
        <span style="color: #C6B032; font-style: italic;">Value</span> <span style="color: #46657B;">v1</span> = <span style="color: #AE5825;">new</span> <span style="color: #C6B032; font-style: italic;">Value</span>();
        <span style="color: #C6B032; font-style: italic;">Value</span> <span style="color: #46657B;">v2</span> = <span style="color: #AE5825;">new</span> <span style="color: #C6B032; font-style: italic;">Value</span>();

        v1.i = v2.i = 100;
        System.out.println(v1.equals(v2));
    }
}

<span style="color: #4C565D;">////////////////////////////////////////////////////</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">&lt;===================OUTPUT===================&gt; //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">false                                          //</span>
<span style="color: #4C565D;">////////////////////////////////////////////////////</span>
</pre>
</div>
</li>
<li>大部分的Java类库都会实现equals()所以我们可以方便的比较内容,而不是reference
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-1-8" class="outline-3">
<h3 id="sec-1-8">Logical operators</h3>
<div class="outline-text-3" id="text-1-8">
<ul class="org-ul">
<li>java的逻辑操作和c++一样,只不过"非零整数"无法再作为逻辑上的true, "零"也无法
再作为false
<div class="org-src-container">

<pre class="src src-java"><span style="color: #AE5825;">package</span> org.hfeng.tij4.<span style="color: #86453A;">operators</span>;

<span style="color: #AE5825;">import</span> <span style="color: #86453A;">java</span>.<span style="color: #86453A;">util</span>.<span style="color: #C6B032; font-style: italic;">Random</span>;

<span style="color: #AE5825;">public</span> <span style="color: #AE5825;">class</span> <span style="color: #C6B032; font-style: italic;">Bool</span> {
    <span style="color: #AE5825;">public</span> <span style="color: #AE5825;">static</span> <span style="color: #C6B032; font-style: italic;">void</span> <span style="color: #C6B032;">main</span>(<span style="color: #C6B032; font-style: italic;">String</span>[] <span style="color: #46657B;">args</span>) {
        <span style="color: #C6B032; font-style: italic;">Random</span> <span style="color: #46657B;">rand</span> = <span style="color: #AE5825;">new</span> <span style="color: #C6B032; font-style: italic;">Random</span>(47);
        <span style="color: #C6B032; font-style: italic;">int</span> <span style="color: #46657B;">i</span> = rand.nextInt(100);
        <span style="color: #C6B032; font-style: italic;">int</span> <span style="color: #46657B;">j</span> = rand.nextInt(100);

        System.out.println(<span style="color: #5A7644;">"i = "</span> + i);
        System.out.println(<span style="color: #5A7644;">"j = "</span> + j);
        System.out.println(<span style="color: #5A7644;">"(i &gt; j) = "</span> + (i &gt; j));
        System.out.println(<span style="color: #5A7644;">"(i &lt; j) = "</span> + (i &lt; <span style="color: #C6B032; font-style: italic;">j</span>));
        System.out.println(<span style="color: #5A7644;">"(i &gt;= j) = "</span> + (i &gt;= j));
        System.out.println(<span style="color: #5A7644;">"(i &lt;= j) = "</span> + (i &lt;= j));
        System.out.println(<span style="color: #5A7644;">"(i == j) = "</span> + (i == j));
        System.out.println(<span style="color: #5A7644;">"(i != j) = "</span> + (i != j));
        System.out.println(<span style="color: #5A7644;">"((i &lt; 10) &amp;&amp; (j &lt; 10)) ="</span> + ((i &lt; 10) &amp;&amp; (j &lt; 10)));
        System.out.println(<span style="color: #5A7644;">"((i &lt; 10) || (j &lt; 10)) ="</span> + ((i &lt; 10) || (j &lt; 10)));
    }
}

<span style="color: #4C565D;">////////////////////////////////////////////////////</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">&lt;===================OUTPUT===================&gt; //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">i = 58                                         //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">j = 55                                         //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">(i &gt; j) = true                                 //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">(i &lt; j) = false                                //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">(i &gt;= j) = true                                //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">(i &lt;= j) = false                               //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">(i == j) = false                               //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">(i != j) = true                                //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">((i &lt; 10) &amp;&amp; (j &lt; 10)) =false                  //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">((i &lt; 10) || (j &lt; 10)) =false                  //</span>
<span style="color: #4C565D;">////////////////////////////////////////////////////</span>
</pre>
</div>
</li>
</ul>
</div>
<div id="outline-container-sec-1-8-1" class="outline-4">
<h4 id="sec-1-8-1">Short-circuiting</h4>
<div class="outline-text-4" id="text-1-8-1">
<ul class="org-ul">
<li>有些情况下,你会遇到叫做"short-circuiting"的情况,就是并不是所有的expression
都会去evaluated, 比如下面的例子,前面出现了false,那么false &amp;&amp;后面的expression
就完全不会去evaluate了.
<div class="org-src-container">

<pre class="src src-java"><span style="color: #AE5825;">package</span> org.hfeng.tij4.<span style="color: #86453A;">operators</span>;

<span style="color: #AE5825;">public</span> <span style="color: #AE5825;">class</span> <span style="color: #C6B032; font-style: italic;">ShortCircuit</span> {
    <span style="color: #AE5825;">static</span> <span style="color: #C6B032; font-style: italic;">boolean</span> <span style="color: #C6B032;">test1</span>(<span style="color: #C6B032; font-style: italic;">int</span> <span style="color: #46657B;">val</span>) {
        System.out.println(<span style="color: #5A7644;">"test1("</span> + val + <span style="color: #5A7644;">")"</span>);
        System.out.println(<span style="color: #5A7644;">"result: "</span> + (val &lt; 1));
        <span style="color: #AE5825;">return</span> val &lt; 1;
    }

    <span style="color: #AE5825;">static</span> <span style="color: #C6B032; font-style: italic;">boolean</span> <span style="color: #C6B032;">test2</span>(<span style="color: #C6B032; font-style: italic;">int</span> <span style="color: #46657B;">val</span>) {
        System.out.println(<span style="color: #5A7644;">"test2("</span> + val + <span style="color: #5A7644;">")"</span>);
        System.out.println(<span style="color: #5A7644;">"result: "</span> + (val &lt; 2));
        <span style="color: #AE5825;">return</span> val &lt; 2;
    }

    <span style="color: #AE5825;">static</span> <span style="color: #C6B032; font-style: italic;">boolean</span> <span style="color: #C6B032;">test3</span>(<span style="color: #C6B032; font-style: italic;">int</span> <span style="color: #46657B;">val</span>) {
        System.out.println(<span style="color: #5A7644;">"test3("</span> + val + <span style="color: #5A7644;">")"</span>);
        System.out.println(<span style="color: #5A7644;">"result: "</span> + (val &lt; 3));
        <span style="color: #AE5825;">return</span> val &lt; 3;
    }

    <span style="color: #AE5825;">public</span> <span style="color: #AE5825;">static</span> <span style="color: #C6B032; font-style: italic;">void</span> <span style="color: #C6B032;">main</span>(<span style="color: #C6B032; font-style: italic;">String</span>[] <span style="color: #46657B;">args</span>) {
        <span style="color: #C6B032; font-style: italic;">boolean</span> <span style="color: #46657B;">b</span> = test1(0) &amp;&amp; test2(2) &amp;&amp; test3(2);
        System.out.println(<span style="color: #5A7644;">"expression is "</span> + b);
    }
}

<span style="color: #4C565D;">////////////////////////////////////////////////////</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">&lt;===================OUTPUT===================&gt; //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">test1(0)                                       //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">result: true                                   //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">test2(2)                                       //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">result: false                                  //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">expression is false                            //</span>
<span style="color: #4C565D;">////////////////////////////////////////////////////</span>
</pre>
</div>
</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-sec-1-9" class="outline-3">
<h3 id="sec-1-9">Literals</h3>
<div class="outline-text-3" id="text-1-9">
<ul class="org-ul">
<li>有时候,需要在数字之外,增加一些辅助的字符来让编译器知道你的数据类型
<div class="org-src-container">

<pre class="src src-java"><span style="color: #AE5825;">package</span> org.hfeng.tij4.<span style="color: #86453A;">operators</span>;

<span style="color: #AE5825;">public</span> <span style="color: #AE5825;">class</span> <span style="color: #C6B032; font-style: italic;">Literals</span> {
    <span style="color: #AE5825;">public</span> <span style="color: #AE5825;">static</span> <span style="color: #C6B032; font-style: italic;">void</span> <span style="color: #C6B032;">main</span>(<span style="color: #C6B032; font-style: italic;">String</span>[] <span style="color: #46657B;">args</span>) {
        <span style="color: #C6B032; font-style: italic;">int</span> <span style="color: #46657B;">i1</span> = 0x2f; <span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">Hexadecimal (lowercase)</span>
        System.out.println(<span style="color: #5A7644;">"i1: "</span> + Integer.toBinaryString(i1));

        <span style="color: #C6B032; font-style: italic;">int</span> <span style="color: #46657B;">i2</span> = 0x2F; <span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">Hexadecimal (uppercase)</span>
        System.out.println(<span style="color: #5A7644;">"i2: "</span> + Integer.toBinaryString(i2));

        <span style="color: #C6B032; font-style: italic;">int</span> <span style="color: #46657B;">i3</span> = 0177; <span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">Octal (leading zero)</span>
        System.out.println(<span style="color: #5A7644;">"i3: "</span> + Integer.toBinaryString(i3));

        <span style="color: #C6B032; font-style: italic;">char</span> <span style="color: #46657B;">c</span> = 0xffff; <span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">max char hex value</span>
        System.out.println(<span style="color: #5A7644;">"c:"</span> + Integer.toBinaryString(c));

        <span style="color: #C6B032; font-style: italic;">byte</span> <span style="color: #46657B;">b</span> = 0x7f; <span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">max byte hex value</span>
        System.out.println(<span style="color: #5A7644;">"b:"</span> + Integer.toBinaryString(b));

        <span style="color: #C6B032; font-style: italic;">short</span> <span style="color: #46657B;">s</span> = 0x7fff; <span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">max short hex value</span>
        System.out.println(<span style="color: #5A7644;">"s:"</span> + Integer.toBinaryString(s));

        <span style="color: #C6B032; font-style: italic;">long</span> <span style="color: #46657B;">n1</span> = 200L; <span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">long suffix</span>
        <span style="color: #C6B032; font-style: italic;">long</span> <span style="color: #46657B;">n2</span> = 200l; <span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">long suffix (but can be confusing)</span>
        <span style="color: #C6B032; font-style: italic;">long</span> <span style="color: #46657B;">n3</span> = 200;

        <span style="color: #C6B032; font-style: italic;">float</span> <span style="color: #46657B;">f1</span> = 1;
        <span style="color: #C6B032; font-style: italic;">float</span> <span style="color: #46657B;">f2</span> = 1F; <span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">float suffix</span>
        <span style="color: #C6B032; font-style: italic;">float</span> <span style="color: #46657B;">f3</span> = 1f; <span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">float suffix</span>

        <span style="color: #C6B032; font-style: italic;">double</span> <span style="color: #46657B;">d1</span> = 1d; <span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">doubled suffix</span>
        <span style="color: #C6B032; font-style: italic;">double</span> <span style="color: #46657B;">d2</span> = 1D; <span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">dobbled suffix</span>
    }
}

<span style="color: #4C565D;">////////////////////////////////////////////////////</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">&lt;===================OUTPUT===================&gt; //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">i1: 101111                                     //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">i2: 101111                                     //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">i3: 1111111                                    //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">c:1111111111111111                             //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">b:1111111                                      //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">s:111111111111111                              //</span>
<span style="color: #4C565D;">////////////////////////////////////////////////////</span>
</pre>
</div>
</li>
</ul>
</div>
<div id="outline-container-sec-1-9-1" class="outline-4">
<h4 id="sec-1-9-1">Exponential notation</h4>
<div class="outline-text-4" id="text-1-9-1">
<ul class="org-ul">
<li>Java遵循了C的规定,e代表是10为底的指数,而不是2.718,使用方法如下
<div class="org-src-container">

<pre class="src src-java"><span style="color: #AE5825;">public</span> <span style="color: #AE5825;">class</span> <span style="color: #C6B032; font-style: italic;">Exponents</span> {
    <span style="color: #AE5825;">public</span> <span style="color: #AE5825;">static</span> <span style="color: #C6B032; font-style: italic;">void</span> <span style="color: #C6B032;">main</span>(<span style="color: #C6B032; font-style: italic;">String</span>[] <span style="color: #46657B;">args</span>) {
        <span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">uppercase and lowercase 'e' are the same</span>
        <span style="color: #C6B032; font-style: italic;">float</span> <span style="color: #46657B;">expFloat</span> = 1.39e-43f;
        expFloat = 1.39E-43f;
        System.out.println(expFloat);
        <span style="color: #C6B032; font-style: italic;">double</span> <span style="color: #46657B;">expDouble</span> = 47e47d; <span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">'d' is optional</span>
        <span style="color: #C6B032; font-style: italic;">double</span> <span style="color: #46657B;">expDouble2</span> = 47e47; <span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">Automatically double</span>
        System.out.println(expDouble);
    }
}
<span style="color: #4C565D;">////////////////</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">Output===&gt; //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">1.39E-43   //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">4.7E48     //</span>
<span style="color: #4C565D;">////////////////</span>
</pre>
</div>
</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-sec-1-10" class="outline-3">
<h3 id="sec-1-10">Bitwise operators</h3>
<div class="outline-text-3" id="text-1-10">
<ul class="org-ul">
<li>对bit的操作和c一样还是那四个:
<ul class="org-ul">
<li>AND(&amp;)
</li>
<li>OR(|)
</li>
<li>XOR(^)
</li>
<li>NOT(~)
</li>
</ul>
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-1-11" class="outline-3">
<h3 id="sec-1-11">Shift operators</h3>
<div class="outline-text-3" id="text-1-11">
<ul class="org-ul">
<li>Java首先增加了一个叫做unsigned right shift的东西(三个'&gt;', &gt;&gt;&gt;),就是不管数字
是不是有符号的我直接在左边补齐0
</li>
<li>下面是一个&gt;&gt;&gt;的例子,我们会发现这个short和byte的&gt;&gt;&gt;好像不管用(长度没变).这是
因为:
<ul class="org-ul">
<li>这两个类型每次使用的时候都会'首先'转换成int,
</li>
<li>&gt;&gt;&gt;10个之后呢,再返回赋值给b(或者s)的时候,会被truncated,所以结果还是-1
</li>
<li>最后一个没有,就成功显示了.因为最后没有再赋值回b(或者s)这一步
</li>
</ul>
<div class="org-src-container">

<pre class="src src-java"><span style="color: #AE5825;">package</span> org.hfeng.tij4.<span style="color: #86453A;">operators</span>;

<span style="color: #AE5825;">public</span> <span style="color: #AE5825;">class</span> <span style="color: #C6B032; font-style: italic;">URShift</span> {
    <span style="color: #AE5825;">public</span> <span style="color: #AE5825;">static</span> <span style="color: #C6B032; font-style: italic;">void</span> <span style="color: #C6B032;">main</span>(<span style="color: #C6B032; font-style: italic;">String</span>[] <span style="color: #46657B;">args</span>) {
        <span style="color: #C6B032; font-style: italic;">int</span> <span style="color: #46657B;">i</span> = -1;
        System.out.println(Integer.toBinaryString(i));

        i &gt;&gt;&gt;= 10;
        System.out.println(Integer.toBinaryString(i));

        <span style="color: #C6B032; font-style: italic;">long</span> <span style="color: #46657B;">l</span> = -1;
        System.out.println(Long.toBinaryString(l));

        l &gt;&gt;&gt;= 10;
        System.out.println(Long.toBinaryString(l));

        <span style="color: #C6B032; font-style: italic;">short</span> <span style="color: #46657B;">s</span> = -1;
        System.out.println(Integer.toBinaryString(s));

        s &gt;&gt;&gt;= 10;
        System.out.println(Integer.toBinaryString(s));

        <span style="color: #C6B032; font-style: italic;">byte</span> <span style="color: #46657B;">b</span> = -1;
        System.out.println(Integer.toBinaryString(b));

        b &gt;&gt;&gt;= 10;
        System.out.println(Integer.toBinaryString(b));

        b = -1;
        System.out.println(Integer.toBinaryString(b));
        System.out.println(Integer.toBinaryString(b&gt;&gt;&gt;10));


    }
}

<span style="color: #4C565D;">//////////////////////////////////////////////////////////////////////</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">&lt;===================OUTPUT===================&gt;                   //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">11111111111111111111111111111111                                 //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">1111111111111111111111                                           //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">1111111111111111111111111111111111111111111111111111111111111111 //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">111111111111111111111111111111111111111111111111111111           //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">11111111111111111111111111111111                                 //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">11111111111111111111111111111111                                 //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">11111111111111111111111111111111                                 //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">11111111111111111111111111111111                                 //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">11111111111111111111111111111111                                 //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">1111111111111111111111                                           //</span>
<span style="color: #4C565D;">//////////////////////////////////////////////////////////////////////</span>
</pre>
</div>
</li>
<li>Java还继承了带符号的转移&gt;&gt;:
<ul class="org-ul">
<li>如果是负数,那么就在高位插入1
</li>
<li>如果是正数,那么就在高位插入0
</li>
</ul>
</li>
<li>Java当然还得继承&gt;&gt;的对应操作&lt;&lt;, 它是位移bit向左,最右无脑插入0
</li>
<li>对于int来说,每次只能shift 5位,而long可以shift 6位
<div class="org-src-container">

<pre class="src src-java"><span style="color: #AE5825;">package</span> org.hfeng.tij4.<span style="color: #86453A;">operators</span>;

<span style="color: #AE5825;">import</span> <span style="color: #86453A;">java</span>.<span style="color: #86453A;">util</span>.<span style="color: #C6B032; font-style: italic;">Random</span>;

<span style="color: #AE5825;">public</span> <span style="color: #AE5825;">class</span> <span style="color: #C6B032; font-style: italic;">BitManipulation</span> {
    <span style="color: #AE5825;">public</span> <span style="color: #AE5825;">static</span> <span style="color: #C6B032; font-style: italic;">void</span> <span style="color: #C6B032;">main</span>(<span style="color: #C6B032; font-style: italic;">String</span>[] <span style="color: #46657B;">args</span>) {
        <span style="color: #C6B032; font-style: italic;">Random</span> <span style="color: #46657B;">rand</span> = <span style="color: #AE5825;">new</span> <span style="color: #C6B032; font-style: italic;">Random</span>(47);
        <span style="color: #C6B032; font-style: italic;">int</span> <span style="color: #46657B;">i</span> = rand.nextInt();
        <span style="color: #C6B032; font-style: italic;">int</span> <span style="color: #46657B;">j</span> = rand.nextInt();
        printBinaryInt(<span style="color: #5A7644;">"-1"</span>, -1);
        printBinaryInt(<span style="color: #5A7644;">"+1"</span>, +1);

        <span style="color: #C6B032; font-style: italic;">int</span> <span style="color: #46657B;">maxpos</span> = 2147483647;
        printBinaryInt(<span style="color: #5A7644;">"maxpos"</span>, maxpos);
        <span style="color: #C6B032; font-style: italic;">int</span> <span style="color: #46657B;">maxneg</span> = -2147483648;
        printBinaryInt(<span style="color: #5A7644;">"maxneg"</span>, maxneg);

        printBinaryInt(<span style="color: #5A7644;">"i"</span>, i);
        printBinaryInt(<span style="color: #5A7644;">"~i"</span>, ~i);
        printBinaryInt(<span style="color: #5A7644;">"-i"</span>, -i);
        printBinaryInt(<span style="color: #5A7644;">"j"</span>, j);

        printBinaryInt(<span style="color: #5A7644;">"(i&amp;j)"</span>, (i&amp;j));
        printBinaryInt(<span style="color: #5A7644;">"(i|j)"</span>, (i|j));
        printBinaryInt(<span style="color: #5A7644;">"(i^j)"</span>, (i^j));
        printBinaryInt(<span style="color: #5A7644;">"(i &lt;&lt; 5)"</span>, (i &lt;&lt; 5));
        printBinaryInt(<span style="color: #5A7644;">"(i &gt;&gt; 5)"</span>, (i &gt;&gt; 5));
        printBinaryInt(<span style="color: #5A7644;">"((~i)&gt;&gt;5)"</span>, ((~i)&gt;&gt;5));
        printBinaryInt(<span style="color: #5A7644;">"(i &gt;&gt; 5)"</span>, (i &gt;&gt; 5));
        printBinaryInt(<span style="color: #5A7644;">"((~i)&gt;&gt;5)"</span>, ((~i)&gt;&gt;5));

        <span style="color: #C6B032; font-style: italic;">long</span> <span style="color: #46657B;">l</span> = rand.nextLong();
        <span style="color: #C6B032; font-style: italic;">long</span> <span style="color: #46657B;">m</span> = rand.nextLong();
        printBinaryLong(<span style="color: #5A7644;">"-1L"</span>, -1L);
        printBinaryLong(<span style="color: #5A7644;">"+1L"</span>, +1L);

        <span style="color: #C6B032; font-style: italic;">long</span> <span style="color: #46657B;">ll</span> = 9223372036854775807L;
        printBinaryLong(<span style="color: #5A7644;">"maxpos"</span>, ll);
        <span style="color: #C6B032; font-style: italic;">long</span> <span style="color: #46657B;">lln</span> = -9223372036854775807L;
        printBinaryLong(<span style="color: #5A7644;">"maxneg"</span>, lln);

        printBinaryLong(<span style="color: #5A7644;">"l"</span>, l);
        printBinaryLong(<span style="color: #5A7644;">"~l"</span>, ~l);
        printBinaryLong(<span style="color: #5A7644;">"-l"</span>, -l);
        printBinaryLong(<span style="color: #5A7644;">"m"</span>, m);

        printBinaryLong(<span style="color: #5A7644;">"(l&amp;m)"</span>, (l&amp;m));
        printBinaryLong(<span style="color: #5A7644;">"(l|m)"</span>, (l|m));
        printBinaryLong(<span style="color: #5A7644;">"(l^m)"</span>, (l^m));
        printBinaryLong(<span style="color: #5A7644;">"(l &lt;&lt; 5)"</span>, (l &lt;&lt; 5));
        printBinaryLong(<span style="color: #5A7644;">"(l &gt;&gt; 5)"</span>, (l &gt;&gt; 5));
        printBinaryLong(<span style="color: #5A7644;">"((~l)&gt;&gt;5)"</span>, ((~l)&gt;&gt;5));
        printBinaryLong(<span style="color: #5A7644;">"(l &gt;&gt; 5)"</span>, (l &gt;&gt; 5));
        printBinaryLong(<span style="color: #5A7644;">"((~l)&gt;&gt;5)"</span>, ((~l)&gt;&gt;5));
    }

    <span style="color: #AE5825;">private</span> <span style="color: #AE5825;">static</span> <span style="color: #C6B032; font-style: italic;">void</span> <span style="color: #C6B032;">printBinaryInt</span>(<span style="color: #C6B032; font-style: italic;">String</span> <span style="color: #46657B;">s</span>, <span style="color: #C6B032; font-style: italic;">int</span> <span style="color: #46657B;">i</span>) {
        System.out.println(s + <span style="color: #5A7644;">", int: "</span> + i + <span style="color: #5A7644;">", binary: \n"</span> +
                           Integer.toBinaryString(i));
    }

    <span style="color: #AE5825;">private</span> <span style="color: #AE5825;">static</span> <span style="color: #C6B032; font-style: italic;">void</span> <span style="color: #C6B032;">printBinaryLong</span>(<span style="color: #C6B032; font-style: italic;">String</span> <span style="color: #46657B;">s</span>, <span style="color: #C6B032; font-style: italic;">long</span> <span style="color: #46657B;">i</span>) {
        System.out.println(s + <span style="color: #5A7644;">", long: "</span> + i + <span style="color: #5A7644;">", binary: \n"</span> +
                           Long.toBinaryString(i));
    }
}

<span style="color: #4C565D;">//////////////////////////////////////////////////////////////////////</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">&lt;===================OUTPUT===================&gt;                   //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">-1, int: -1, binary:                                             //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">11111111111111111111111111111111                                 //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">+1, int: 1, binary:                                              //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">1                                                                //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">maxpos, int: 2147483647, binary:                                 //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">1111111111111111111111111111111                                  //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">maxneg, int: -2147483648, binary:                                //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">10000000000000000000000000000000                                 //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">i, int: -1172028779, binary:                                     //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">10111010001001000100001010010101                                 //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">~i, int: 1172028778, binary:                                     //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">1000101110110111011110101101010                                  //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">-i, int: 1172028779, binary:                                     //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">1000101110110111011110101101011                                  //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">j, int: 1717241110, binary:                                      //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">1100110010110110000010100010110                                  //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">(i&amp;j), int: 570425364, binary:                                   //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">100010000000000000000000010100                                   //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">(i|j), int: -25213033, binary:                                   //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">11111110011111110100011110010111                                 //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">(i^j), int: -595638397, binary:                                  //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">11011100011111110100011110000011                                 //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">(i &lt;&lt; 5), int: 1149784736, binary:                               //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">1000100100010000101001010100000                                  //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">(i &gt;&gt; 5), int: -36625900, binary:                                //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">11111101110100010010001000010100                                 //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">((~i)&gt;&gt;5), int: 36625899, binary:                                //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">10001011101101110111101011                                       //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">(i &gt;&gt; 5), int: -36625900, binary:                                //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">11111101110100010010001000010100                                 //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">((~i)&gt;&gt;5), int: 36625899, binary:                                //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">10001011101101110111101011                                       //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">-1L, long: -1, binary:                                           //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">1111111111111111111111111111111111111111111111111111111111111111 //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">+1L, long: 1, binary:                                            //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">1                                                                //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">maxpos, long: 9223372036854775807, binary:                       //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">111111111111111111111111111111111111111111111111111111111111111  //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">maxneg, long: -9223372036854775807, binary:                      //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">1000000000000000000000000000000000000000000000000000000000000001 //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">l, long: -8652529054300476342, binary:                           //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">1000011111101100000010101010101100001101101011000110110001001010 //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">~l, long: 8652529054300476341, binary:                           //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">111100000010011111101010101010011110010010100111001001110110101  //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">-l, long: 8652529054300476342, binary:                           //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">111100000010011111101010101010011110010010100111001001110110110  //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">m, long: 2955289354441303771, binary:                            //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">10100100000011010011000000001010010011111101111010011011011011   //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">(l&amp;m), long: 72066398748419146, binary:                          //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">100000000000010000000001000000001101001000010010001001010        //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">(l|m), long: -5769306098607591717, binary:                       //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">1010111111101111010011101010101110011111111111111110111011011011 //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">(l^m), long: -5841372497356010863, binary:                       //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">1010111011101111010001101010100110011110010110111100101010010001 //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">(l &lt;&lt; 5), long: -179768631971968704, binary:                     //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">1111110110000001010101010110000110110101100011011000100101000000 //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">(l &gt;&gt; 5), long: -270391532946889886, binary:                     //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">1111110000111111011000000101010101011000011011010110001101100010 //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">((~l)&gt;&gt;5), long: 270391532946889885, binary:                     //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">1111000000100111111010101010100111100100101001110010011101       //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">(l &gt;&gt; 5), long: -270391532946889886, binary:                     //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">1111110000111111011000000101010101011000011011010110001101100010 //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">((~l)&gt;&gt;5), long: 270391532946889885, binary:                     //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">1111000000100111111010101010100111100100101001110010011101       //</span>
<span style="color: #4C565D;">//////////////////////////////////////////////////////////////////////</span>
</pre>
</div>
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-1-12" class="outline-3">
<h3 id="sec-1-12">Ternary if-else operator</h3>
<div class="outline-text-3" id="text-1-12">
<ul class="org-ul">
<li>这也是c语言的遗产吧
<div class="org-src-container">

<pre class="src src-java"><span style="color: #AE5825;">package</span> org.hfeng.tij4.<span style="color: #86453A;">operators</span>;

<span style="color: #AE5825;">public</span> <span style="color: #AE5825;">class</span> <span style="color: #C6B032; font-style: italic;">TernaryIfElse</span> {
    <span style="color: #AE5825;">static</span> <span style="color: #C6B032; font-style: italic;">int</span> <span style="color: #C6B032;">ternary</span>(<span style="color: #C6B032; font-style: italic;">int</span> <span style="color: #46657B;">i</span>) {
        <span style="color: #AE5825;">return</span> i &lt; 10 ? i * 100 : i * 10;
    }

    <span style="color: #AE5825;">static</span> <span style="color: #C6B032; font-style: italic;">int</span> <span style="color: #C6B032;">standardIfElese</span>(<span style="color: #C6B032; font-style: italic;">int</span> <span style="color: #46657B;">i</span>) {
        <span style="color: #AE5825;">if</span> (i &lt; 10) {
            <span style="color: #AE5825;">return</span> i * 100;
        } <span style="color: #AE5825;">else</span> {
            <span style="color: #AE5825;">return</span> i * 10;
        }
    }

    <span style="color: #AE5825;">public</span> <span style="color: #AE5825;">static</span> <span style="color: #C6B032; font-style: italic;">void</span> <span style="color: #C6B032;">main</span>(<span style="color: #C6B032; font-style: italic;">String</span>[] <span style="color: #46657B;">args</span>) {
        System.out.println(ternary(9));
        System.out.println(ternary(10));
        System.out.println(standardIfElese(9));
        System.out.println(standardIfElese(10));
    }
}

<span style="color: #4C565D;">////////////////////////////////////////////////////</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">&lt;===================OUTPUT===================&gt; //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">900                                            //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">100                                            //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">900                                            //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">100                                            //</span>
<span style="color: #4C565D;">////////////////////////////////////////////////////</span>
</pre>
</div>
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-1-13" class="outline-3">
<h3 id="sec-1-13">String operator + and +=</h3>
<div class="outline-text-3" id="text-1-13">
<ul class="org-ul">
<li>如果+或者+=的两头有一头是String的话,那么剩下的一半自动本转换为String
<div class="org-src-container">

<pre class="src src-java"><span style="color: #AE5825;">package</span> org.hfeng.tij4.<span style="color: #86453A;">operators</span>;

<span style="color: #AE5825;">public</span> <span style="color: #AE5825;">class</span> <span style="color: #C6B032; font-style: italic;">StringOperators</span> {
    <span style="color: #AE5825;">public</span> <span style="color: #AE5825;">static</span> <span style="color: #C6B032; font-style: italic;">void</span> <span style="color: #C6B032;">main</span>(<span style="color: #C6B032; font-style: italic;">String</span>[] <span style="color: #46657B;">args</span>) {
        <span style="color: #C6B032; font-style: italic;">int</span> <span style="color: #46657B;">x</span> = 0, <span style="color: #46657B;">y</span> = 1, <span style="color: #46657B;">z</span> = 2;
        <span style="color: #C6B032; font-style: italic;">String</span> <span style="color: #46657B;">s</span> = <span style="color: #5A7644;">"x, y, z "</span>;
        System.out.println(s + x + y + z);     <span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">example 1</span>
        System.out.println(x + <span style="color: #5A7644;">" "</span> + s);       <span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">example 2</span>
        System.out.println(y + z + <span style="color: #5A7644;">" "</span> + s);   <span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">example 3</span>
        s += <span style="color: #5A7644;">"(summed) = "</span>;
        System.out.println(s + (x + y + z));   <span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">example 4</span>
        System.out.println(<span style="color: #5A7644;">""</span> + x);            <span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">example 5</span>
    }
}

<span style="color: #4C565D;">////////////////////////////////////////////////////</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">&lt;===================OUTPUT===================&gt; //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">x, y, z 012                                    //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">0 x, y, z                                      //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">3 x, y, z                                      //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">x, y, z (summed) = 3                           //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">0                                              //</span>
<span style="color: #4C565D;">////////////////////////////////////////////////////</span>
</pre>
</div>
<ul class="org-ul">
<li>例子1: 我们x一旦和s接触就变成了String,后面就接连变成String
</li>
<li>例子2: x 在前但是+后面是" ",还是变成了String
</li>
<li>例子3: y+z在前面先计算,所以不是12,而是3出现
</li>
<li>例子4: 可以通过()来改变计算顺序
</li>
<li>例子5: 这个是Integer.toString()的简化版
</li>
</ul>
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-1-14" class="outline-3">
<h3 id="sec-1-14">Common pitfalls when using operators</h3>
<div class="outline-text-3" id="text-1-14">
<ul class="org-ul">
<li>c/c++里面常犯的两个错误,java在编译阶段就察觉到了,会抛出异常
<ol class="org-ol">
<li>while(x=y) 的错误, java里面只能用boolean类型作为while等逻辑的参数, 赋值
语句x=y显然不行
</li>
<li>if (a &amp; b) 的错误. &amp;被误认为是&amp;&amp;的使用,也被java的编译器盯上了
</li>
</ol>
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-1-15" class="outline-3">
<h3 id="sec-1-15">Casting Operators</h3>
<div class="outline-text-3" id="text-1-15">
<ul class="org-ul">
<li>java通常情况下会自动casting,比如你把int赋给float,java会自动帮你casting, 明
确的cast只是为了让代码更明显,或者强制某些并不一定cast的例子
<div class="org-src-container">

<pre class="src src-java"><span style="color: #AE5825;">public</span> <span style="color: #AE5825;">class</span> <span style="color: #C6B032; font-style: italic;">Casting</span> {
    <span style="color: #AE5825;">public</span> <span style="color: #AE5825;">static</span> <span style="color: #C6B032; font-style: italic;">void</span> <span style="color: #C6B032;">main</span>(<span style="color: #C6B032; font-style: italic;">String</span>[] <span style="color: #46657B;">args</span>) {
        <span style="color: #C6B032; font-style: italic;">int</span> <span style="color: #46657B;">i</span> = 200;
        <span style="color: #C6B032; font-style: italic;">long</span> <span style="color: #46657B;">lng</span> = (<span style="color: #C6B032; font-style: italic;">long</span>)i;
        lng = i;  <span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">"widening," so cast not really required</span>
        <span style="color: #C6B032; font-style: italic;">long</span> <span style="color: #46657B;">lng2</span> = (<span style="color: #C6B032; font-style: italic;">long</span>)200;
        lng2 = 200;
        <span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">A "narrowing conversion":</span>
        i = (<span style="color: #C6B032; font-style: italic;">int</span>)lng2; <span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">Cast required</span>
    }
}
</pre>
</div>
</li>
<li>在c/c++里面casting是会导致很多头疼的问题的,对于java来说,不存在这个问题,只是
在某些"narrowing conversion"的时候,可能会丢失数据(这也是为什么你要explicit
的指出问题的原因)
</li>
</ul>
</div>
<div id="outline-container-sec-1-15-1" class="outline-4">
<h4 id="sec-1-15-1">Truncation and rounding</h4>
<div class="outline-text-4" id="text-1-15-1">
<ul class="org-ul">
<li>float和double转换成int的时候,会丢失小数部分
<div class="org-src-container">

<pre class="src src-java"><span style="color: #AE5825;">package</span> org.hfeng.tij4.<span style="color: #86453A;">operators</span>;

<span style="color: #AE5825;">public</span> <span style="color: #AE5825;">class</span> <span style="color: #C6B032; font-style: italic;">CastingNumbers</span> {
    <span style="color: #AE5825;">public</span> <span style="color: #AE5825;">static</span> <span style="color: #C6B032; font-style: italic;">void</span> <span style="color: #C6B032;">main</span>(<span style="color: #C6B032; font-style: italic;">String</span>[] <span style="color: #46657B;">args</span>) {
        <span style="color: #C6B032; font-style: italic;">double</span> <span style="color: #46657B;">above</span> = 0.7, <span style="color: #46657B;">below</span> = 0.4;
        <span style="color: #C6B032; font-style: italic;">float</span> <span style="color: #46657B;">fabove</span> = 0.7f, <span style="color: #46657B;">fbelow</span> = 0.4f;
        System.out.println(<span style="color: #5A7644;">"(int)above: "</span> + (<span style="color: #C6B032; font-style: italic;">int</span>)above);
        System.out.println(<span style="color: #5A7644;">"(int)below: "</span> + (<span style="color: #C6B032; font-style: italic;">int</span>)below);
        System.out.println(<span style="color: #5A7644;">"(int)fabove: "</span> + (<span style="color: #C6B032; font-style: italic;">int</span>)fabove);
        System.out.println(<span style="color: #5A7644;">"(int)fbelow: "</span> + (<span style="color: #C6B032; font-style: italic;">int</span>)fbelow);
    }
}

<span style="color: #4C565D;">////////////////////////////////////////////////////</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">&lt;===================OUTPUT===================&gt; //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">(int)above: 0                                  //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">(int)below: 0                                  //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">(int)fabove: 0                                 //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">(int)fbelow: 0                                 //</span>
<span style="color: #4C565D;">////////////////////////////////////////////////////</span>
</pre>
</div>
</li>
<li>四舍五入这种事情,只有使用Math.round来实现
<div class="org-src-container">

<pre class="src src-java"><span style="color: #AE5825;">package</span> org.hfeng.tij4.<span style="color: #86453A;">operators</span>;

<span style="color: #AE5825;">public</span> <span style="color: #AE5825;">class</span> <span style="color: #C6B032; font-style: italic;">RoundingNumbers</span> {
    <span style="color: #AE5825;">public</span> <span style="color: #AE5825;">static</span> <span style="color: #C6B032; font-style: italic;">void</span> <span style="color: #C6B032;">main</span>(<span style="color: #C6B032; font-style: italic;">String</span>[] <span style="color: #46657B;">args</span>) {

        <span style="color: #C6B032; font-style: italic;">double</span> <span style="color: #46657B;">above</span> = 0.7, <span style="color: #46657B;">below</span> = 0.4;
        <span style="color: #C6B032; font-style: italic;">float</span> <span style="color: #46657B;">fabove</span> = 0.7f, <span style="color: #46657B;">fbelow</span> = 0.4f;
        System.out.println(<span style="color: #5A7644;">"Math.round(above): "</span> + Math.round(above));
        System.out.println(<span style="color: #5A7644;">"Math.round(below): "</span> + Math.round(below));
        System.out.println(<span style="color: #5A7644;">"Math.round(fabove): "</span> + Math.round(fabove));
        System.out.println(<span style="color: #5A7644;">"Math.round(fbelow): "</span> + Math.round(fbelow));

    }
}

<span style="color: #4C565D;">////////////////////////////////////////////////////</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">&lt;===================OUTPUT===================&gt; //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">Math.round(above): 1                           //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">Math.round(below): 0                           //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">Math.round(fabove): 1                          //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">Math.round(fbelow): 0                          //</span>
<span style="color: #4C565D;">////////////////////////////////////////////////////</span>
</pre>
</div>
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-1-15-2" class="outline-4">
<h4 id="sec-1-15-2">Promotion</h4>
<div class="outline-text-4" id="text-1-15-2">
<ul class="org-ul">
<li>你会发现你对精度小于int的类型(char, byte, short),我们对他们math,或者bitwise
操作的时候,它们总会先转换成int.所以在如果你想让他再赋值会较小的type你得进行cast
</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-sec-1-16" class="outline-3">
<h3 id="sec-1-16">Java has no "sizeof"</h3>
<div class="outline-text-3" id="text-1-16">
<ul class="org-ul">
<li>Java的所有int都是32bit,无须区sizeof问询
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-1-17" class="outline-3">
<h3 id="sec-1-17">A compendium of operators</h3>
<div class="outline-text-3" id="text-1-17">
<ul class="org-ul">
<li>java也是会溢出的.从它把integer设计成32bit开始,这个问题就无法避免了
<div class="org-src-container">

<pre class="src src-java"><span style="color: #AE5825;">package</span> org.hfeng.tij4.<span style="color: #86453A;">operators</span>;

<span style="color: #AE5825;">public</span> <span style="color: #AE5825;">class</span> <span style="color: #C6B032; font-style: italic;">Overflow</span> {
    <span style="color: #AE5825;">public</span> <span style="color: #AE5825;">static</span> <span style="color: #C6B032; font-style: italic;">void</span> <span style="color: #C6B032;">main</span>(<span style="color: #C6B032; font-style: italic;">String</span>[] <span style="color: #46657B;">args</span>) {
        <span style="color: #C6B032; font-style: italic;">int</span> <span style="color: #46657B;">big</span> = <span style="color: #86453A;">Integer</span>.MAX_VALUE;
        System.out.println(<span style="color: #5A7644;">"big = "</span> + big);
        <span style="color: #C6B032; font-style: italic;">int</span> <span style="color: #46657B;">bigger</span> = big * 4;
        System.out.println(<span style="color: #5A7644;">"bigger = "</span> + bigger);
    }
}

<span style="color: #4C565D;">////////////////////////////////////////////////////</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">&lt;===================OUTPUT===================&gt; //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">big = 2147483647                               //</span>
<span style="color: #4C565D;">// </span><span style="color: #333B40; font-style: italic;">bigger = -4                                    //</span>
<span style="color: #4C565D;">////////////////////////////////////////////////////</span>
</pre>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">

         <!-- Disqus Comment BEGIN -->
          <div id="disqus_thread"></div>
          <script type="text/javascript">
              var disqus_shortname = 'harrifeng';

              (function() {
                  var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
              })();
          </script>
          <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

         <!-- Disqus Comment END -->
</div>
</body>
</html>
