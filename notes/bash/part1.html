<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>Part 1: learning the Shell</title>
<!-- 2014-03-04 Tue 22:18 -->
<meta  http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta  name="generator" content="Org-mode" />
<meta  name="author" content="your name" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center; }
  .todo   { font-family: monospace; color: red; }
  .done   { color: green; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  pre.src-sh:before    { content: 'sh'; }
  pre.src-bash:before  { content: 'sh'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-R:before     { content: 'R'; }
  pre.src-perl:before  { content: 'Perl'; }
  pre.src-java:before  { content: 'Java'; }
  pre.src-sql:before   { content: 'SQL'; }

  table { border-collapse:collapse; }
  td, th { vertical-align:top;  }
  th.right  { text-align: center;  }
  th.left   { text-align: center;   }
  th.center { text-align: center; }
  td.right  { text-align: right;  }
  td.left   { text-align: left;   }
  td.center { text-align: center; }
  dt { font-weight: bold; }
  .footpara:nth-child(2) { display: inline; }
  .footpara { display: block; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  /*]]>*/-->
</style>

         <link href="http://fonts.googleapis.com/css?family=Droid+Sans+Mono|Galdeano|Open+Sans:600italic,400,600|Roboto+Condensed:400,700" rel="stylesheet" type="text/css">
         <link rel="stylesheet" type="text/css" href="/static/css/main.css"/>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2013 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
<script type="text/javascript" src="http://orgmode.org/mathjax/MathJax.js"></script>
<script type="text/javascript">
<!--/*--><![CDATA[/*><!--*/
    MathJax.Hub.Config({
        // Only one of the two following lines, depending on user settings
        // First allows browser-native MathML display, second forces HTML/CSS
        //  config: ["MMLorHTML.js"], jax: ["input/TeX"],
            jax: ["input/TeX", "output/HTML-CSS"],
        extensions: ["tex2jax.js","TeX/AMSmath.js","TeX/AMSsymbols.js",
                     "TeX/noUndefined.js"],
        tex2jax: {
            inlineMath: [ ["\\(","\\)"] ],
            displayMath: [ ['$$','$$'], ["\\[","\\]"], ["\\begin{displaymath}","\\end{displaymath}"] ],
            skipTags: ["script","noscript","style","textarea","pre","code"],
            ignoreClass: "tex2jax_ignore",
            processEscapes: false,
            processEnvironments: true,
            preview: "TeX"
        },
        showProcessingMessages: true,
        displayAlign: "center",
        displayIndent: "2em",

        "HTML-CSS": {
             scale: 100,
             availableFonts: ["STIX","TeX"],
             preferredFont: "TeX",
             webFont: "TeX",
             imageFont: "TeX",
             showMathMenu: true,
        },
        MMLorHTML: {
             prefer: {
                 MSIE:    "MML",
                 Firefox: "MML",
                 Opera:   "HTML",
                 other:   "HTML"
             }
        }
    });
/*]]>*///-->
</script>
</head>
<body>
<div id="org-div-home-and-up">
 <a accesskey="h" href="http://harrifeng.github.io/sitemap.html"> UP </a>
 |
 <a accesskey="H" href="http://harrifeng.github.io/index.html"> HOME </a>
</div><div id="preamble" class="status">

         <div id="header">
            <div id="header-top">
                <div id="blog-title">Harrifeng's Path</div>
                <div id="blog-sub-title">纸上得来终觉浅,绝知此事要Coding</div>
            </div>
            <div id="nav">
                <ul>
                    <li><a href="/">首页</a></li>
                    <li><a href="/notes.html">读书笔记</a></li>
                    <li><a href="/about.html">About</a></li>
                    <li><a href="/atom.xml">RSS</a></li>
                    <li>
                    </li>
                </ul>
            </div>
         </div>
</div>
<div id="content">
<h1 class="title">Part 1: learning the Shell</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">What is the shell</a>
<ul>
<li><a href="#sec-1-1">Terminal Emulators</a></li>
<li><a href="#sec-1-2">Your First keystrokes</a>
<ul>
<li><a href="#sec-1-2-1">Command History</a></li>
<li><a href="#sec-1-2-2">Cursor Movement</a></li>
</ul>
</li>
<li><a href="#sec-1-3">Try Some Simple Commands</a></li>
<li><a href="#sec-1-4">Ending a Terminal Session</a></li>
</ul>
</li>
<li><a href="#sec-2">Navigation</a>
<ul>
<li><a href="#sec-2-1">Understanding the Filesystem Tree</a></li>
<li><a href="#sec-2-2">The Current Working Directory</a></li>
<li><a href="#sec-2-3">Listing the Contents of a Directory</a></li>
<li><a href="#sec-2-4">Changing the Current Working Directory</a>
<ul>
<li><a href="#sec-2-4-1">Absolute pathnames</a></li>
<li><a href="#sec-2-4-2">Relative Pathnames</a></li>
<li><a href="#sec-2-4-3">Some helpful Shortcuts</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#sec-3">Exploring The System</a>
<ul>
<li><a href="#sec-3-1">More Fun with ls</a>
<ul>
<li><a href="#sec-3-1-1">Options and Arguments</a></li>
<li><a href="#sec-3-1-2">A Longer Look at Long Format</a></li>
</ul>
</li>
<li><a href="#sec-3-2">Determining a File's Type with file</a></li>
<li><a href="#sec-3-3">Viewing File contents with less</a></li>
<li><a href="#sec-3-4">A Guided Tour</a>
<ul>
<li><a href="#sec-3-4-1">Symbolic Links</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#sec-4">Manipulating Files And Directories</a>
<ul>
<li><a href="#sec-4-1">Wildcards</a></li>
<li><a href="#sec-4-2">mkdir-Create Directories</a></li>
<li><a href="#sec-4-3">cp-Copy Files and Directories</a></li>
<li><a href="#sec-4-4">mv-Move and Rename Files</a></li>
<li><a href="#sec-4-5">rm-Remove Files and Directories</a></li>
<li><a href="#sec-4-6">ln-Create Links</a>
<ul>
<li><a href="#sec-4-6-1">Hard links</a></li>
</ul>
</li>
<li><a href="#sec-4-7">Let's Build a Playground</a></li>
</ul>
</li>
<li><a href="#sec-5">Working With Commands</a>
<ul>
<li><a href="#sec-5-1">What Exactly Are Commands?</a></li>
<li><a href="#sec-5-2">Identifying Commans</a>
<ul>
<li><a href="#sec-5-2-1">type-Display a Command's Type</a></li>
<li><a href="#sec-5-2-2">which-Display an Executable's Location</a></li>
</ul>
</li>
<li><a href="#sec-5-3">Getting a Command's Documentation</a>
<ul>
<li><a href="#sec-5-3-1">help-Get Help for Shell Builtins</a></li>
<li><a href="#sec-5-3-2">&#x2013;help-Display Usage Information</a></li>
<li><a href="#sec-5-3-3">man-Display a Program's Manual Page</a></li>
<li><a href="#sec-5-3-4">apropos-Display Appropriate Commands</a></li>
<li><a href="#sec-5-3-5">whatis-Display a Very Brief Description of a Command</a></li>
</ul>
</li>
<li><a href="#sec-5-4">Creating Your Own Commands with alias</a></li>
</ul>
</li>
<li><a href="#sec-6">Redirection</a>
<ul>
<li><a href="#sec-6-1">Standard Input, Output, and Error</a>
<ul>
<li><a href="#sec-6-1-1">Redirecting Standard Output</a></li>
<li><a href="#sec-6-1-2">Redirecting Standard Error</a></li>
<li><a href="#sec-6-1-3">Redirecting Standard Output and Standard Error to One File</a></li>
<li><a href="#sec-6-1-4">Disposing of Unwanted Output</a></li>
<li><a href="#sec-6-1-5">Redirecting Standard Input</a></li>
</ul>
</li>
<li><a href="#sec-6-2">Pipelines</a>
<ul>
<li><a href="#sec-6-2-1">Filters</a></li>
<li><a href="#sec-6-2-2">uniq-Report or Omit Repeated Lines</a></li>
<li><a href="#sec-6-2-3">wc-Print Line, Word and Byte Counts</a></li>
<li><a href="#sec-6-2-4">grep-Print Lines Matching a Pattern</a></li>
<li><a href="#sec-6-2-5">head/tail-Print First/Last Part of Files</a></li>
<li><a href="#sec-6-2-6">tee-Read from Stdin and Output to Stdout and Files</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1">What is the shell</h2>
<div class="outline-text-2" id="text-1">
<ul class="org-ul">
<li>当我们说到command line的时候,我们其实是说的shell. shell是一个从键盘接受信息
传递给操作系统的程序.Linux默认的shell是bash
</li>
</ul>
</div>
<div id="outline-container-sec-1-1" class="outline-3">
<h3 id="sec-1-1">Terminal Emulators</h3>
<div class="outline-text-3" id="text-1-1">
<ul class="org-ul">
<li>如果我们使用GUI界面的话,我们还要使用terminal emulator来和shell进行联系.KDE
里面使用的是konsole, GNOME使用的是gnome-terminal
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-1-2" class="outline-3">
<h3 id="sec-1-2">Your First keystrokes</h3>
<div class="outline-text-3" id="text-1-2">
<ul class="org-ul">
<li>打开terminal emulator,应该是如下这个样子的
<div class="org-src-container">

<pre class="src src-sh">lvtest@auto-inst:~$
</pre>
</div>
</li>
<li>$(dollar sign)代表一般用户, #(hash mark)代表超级用户.
</li>
</ul>
</div>
<div id="outline-container-sec-1-2-1" class="outline-4">
<h4 id="sec-1-2-1">Command History</h4>
<div class="outline-text-4" id="text-1-2-1">
<ul class="org-ul">
<li>上下键可以选择上一条下一条命令,一遍最少会保存500条历史
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-1-2-2" class="outline-4">
<h4 id="sec-1-2-2">Cursor Movement</h4>
<div class="outline-text-4" id="text-1-2-2">
<ul class="org-ul">
<li>左右键,可以让光标左右移动
</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-sec-1-3" class="outline-3">
<h3 id="sec-1-3">Try Some Simple Commands</h3>
<div class="outline-text-3" id="text-1-3">
<ul class="org-ul">
<li>date是日期命令
<div class="org-src-container">

<pre class="src src-sh">lvtest@auto-inst:~$ date
Wed Feb 26 16:13:11 CST 2014
</pre>
</div>
</li>
<li>cal是日历命令
<div class="org-src-container">

<pre class="src src-sh">lvtest@auto-inst:~$ cal
   February 2014
Su Mo Tu We Th Fr Sa
                   1
 2  3  4  5  6  7  8
 9 10 11 12 13 14 15
16 17 18 19 20 21 22
23 24 25 26 27 28
</pre>
</div>
</li>
<li>df可以查看当前驱动器下面的剩余空间
<div class="org-src-container">

<pre class="src src-sh">lvtest@auto-inst:~$ df
Filesystem     1K-blocks    Used Available Use% Mounted on
/dev/sda1       40120704 1944148  36131884   6% /
none                   4       0         4   0% /sys/fs/cgroup
udev              496420       4    496416   1% /dev
tmpfs             101188     296    100892   1% /run
none                5120       0      5120   0% /run/lock
none              505932       0    505932   0% /run/shm
none              102400       0    102400   0% /run/user
</pre>
</div>
</li>
<li>free产科内存的剩余
<div class="org-src-container">

<pre class="src src-sh">lvtest@auto-inst:~$ free
             total       used       free     shared    buffers     cached
Mem:       1011868     227332     784536          0      21464      78256
-/+ buffers/cache:     127612     884256
Swap:      1046524          0    1046524
</pre>
</div>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-1-4" class="outline-3">
<h3 id="sec-1-4">Ending a Terminal Session</h3>
<div class="outline-text-3" id="text-1-4">
<ul class="org-ul">
<li>我们使用exit来结束一个terminal session
</li>
<li>除了我们上面说的terminal emulator, Linux还会在GUI的背后运行一些terminal
session.叫做virtual terminal,我们可以通过CTRL+ALT+F1~F6来调用,返回GUI
桌面使用ALT-F7
</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-sec-2" class="outline-2">
<h2 id="sec-2">Navigation</h2>
<div class="outline-text-2" id="text-2">
</div><div id="outline-container-sec-2-1" class="outline-3">
<h3 id="sec-2-1">Understanding the Filesystem Tree</h3>
<div class="outline-text-3" id="text-2-1">
<ul class="org-ul">
<li>和windows一样,linux也是采用了树形结构的文件系统.第一个文件夹叫做root 文件夹(/)
</li>
<li>和windows不一样的是:windows为每一个分区准备了一个单独的"文件系统树", 对于Linux
来说,无论有多少设备,都只有一套"文件系统树", 额外的设备是通过"mount"的形式来放在
某个文件夹下面的
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-2-2" class="outline-3">
<h3 id="sec-2-2">The Current Working Directory</h3>
<div class="outline-text-3" id="text-2-2">
<ul class="org-ul">
<li>我们的shell当前无论如何都会在某个文件夹下,使用pwd来表示
<div class="org-src-container">

<pre class="src src-sh">lvtest@auto-inst:~/tmp$ pwd
/home/lvtest/tmp
</pre>
</div>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-2-3" class="outline-3">
<h3 id="sec-2-3">Listing the Contents of a Directory</h3>
<div class="outline-text-3" id="text-2-3">
<ul class="org-ul">
<li>当前文件夹下的内容使用ls
<div class="org-src-container">

<pre class="src src-sh">lvtest@auto-inst:~/tmp$ ls
a.out  printf.c  testsig.c  unpbook
</pre>
</div>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-2-4" class="outline-3">
<h3 id="sec-2-4">Changing the Current Working Directory</h3>
<div class="outline-text-3" id="text-2-4">
</div><div id="outline-container-sec-2-4-1" class="outline-4">
<h4 id="sec-2-4-1">Absolute pathnames</h4>
<div class="outline-text-4" id="text-2-4-1">
<ul class="org-ul">
<li>我们使用以"/"开头的绝对文件路名来cd到相应文件夹
<div class="org-src-container">

<pre class="src src-sh">lvtest@auto-inst:~/tmp$ cd /usr/bin
lvtest@auto-inst:/usr/bin$ pwd
/usr/bin
</pre>
</div>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-2-4-2" class="outline-4">
<h4 id="sec-2-4-2">Relative Pathnames</h4>
<div class="outline-text-4" id="text-2-4-2">
<ul class="org-ul">
<li>相对路径就是从pwd开始如何找到下一级,其中"."是当前文件夹".."是上层文件夹
<div class="org-src-container">

<pre class="src src-sh">lvtest@auto-inst:/usr$ pwd
/usr
lvtest@auto-inst:/usr$ cd ./bin
lvtest@auto-inst:/usr/bin$ pwd
/usr/bin
</pre>
</div>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-2-4-3" class="outline-4">
<h4 id="sec-2-4-3">Some helpful Shortcuts</h4>
<div class="outline-text-4" id="text-2-4-3">
<ul class="org-ul">
<li>一些有用的cd快捷键
<table border="2" cellspacing="0" cellpadding="6" rules="all" frame="border">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left">Shortcut</th>
<th scope="col" class="left">Result</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left">cd</td>
<td class="left">Changes the working directory to your home directory</td>
</tr>

<tr>
<td class="left">cd -</td>
<td class="left">Changes the working directory to the previous working</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">directory</td>
</tr>

<tr>
<td class="left">cd ~username</td>
<td class="left">Changes the working directory to the home directory</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">of theusername.</td>
</tr>
</tbody>
</table>
<div class="org-src-container">

<pre class="src src-sh">lvtest@auto-inst:/usr/bin$ pwd
/usr/bin
lvtest@auto-inst:/usr/bin$ cd
lvtest@auto-inst:~$ pwd
/home/lvtest
lvtest@auto-inst:~$ cd -
/usr/bin
lvtest@auto-inst:/usr/bin$ pwd
/usr/bin
lvtest@auto-inst:/usr/bin$ cd ~lvtest
lvtest@auto-inst:~$ pwd
/home/lvtest
</pre>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>

<div id="outline-container-sec-3" class="outline-2">
<h2 id="sec-3">Exploring The System</h2>
<div class="outline-text-2" id="text-3">
</div><div id="outline-container-sec-3-1" class="outline-3">
<h3 id="sec-3-1">More Fun with ls</h3>
<div class="outline-text-3" id="text-3-1">
<ul class="org-ul">
<li>ls 不仅仅可以列出当前文件夹的内容,还可以列出其他文件夹的内容,甚至多个文件夹的内容
<div class="org-src-container">

<pre class="src src-sh">lvtest@auto-inst:~$ ls /usr
bin  games  include  lib  local  sbin  share  src
lvtest@auto-inst:~$ ls ~ /usr
/home/lvtest:
authorized_keys  backupssh  test  tmp

/usr:
bin  games  include  lib  local  sbin  share  src
</pre>
</div>
</li>
</ul>
</div>
<div id="outline-container-sec-3-1-1" class="outline-4">
<h4 id="sec-3-1-1">Options and Arguments</h4>
<div class="outline-text-4" id="text-3-1-1">
<ul class="org-ul">
<li>我们的命令都是由如下三部分组成的
<pre class="example">
command -options arguments
</pre>
</li>
<li>ls就支持-l这种"单字母"参数,而且单字母参数可以写在一块,效果叠加,还支持通过
"&#x2013;"来增加long options
<div class="org-src-container">

<pre class="src src-sh">lvtest@auto-inst:~$ ls -l
total 16
-rwx------ 1 lvtest lvtest  802 Oct 24 15:05 authorized_keys
drwx------ 2 lvtest lvtest 4096 Oct 24 15:05 backupssh
drwxrwxr-x 3 lvtest lvtest 4096 Oct 24 16:45 test
drwxrwxr-x 3 lvtest lvtest 4096 Feb 21 16:33 tmp
lvtest@auto-inst:~$ ls -lt
total 16
drwxrwxr-x 3 lvtest lvtest 4096 Feb 21 16:33 tmp
drwxrwxr-x 3 lvtest lvtest 4096 Oct 24 16:45 test
-rwx------ 1 lvtest lvtest  802 Oct 24 15:05 authorized_keys
drwx------ 2 lvtest lvtest 4096 Oct 24 15:05 backupssh
lvtest@auto-inst:~$ ls -lt --reverse
total 16
drwx------ 2 lvtest lvtest 4096 Oct 24 15:05 backupssh
-rwx------ 1 lvtest lvtest  802 Oct 24 15:05 authorized_keys
drwxrwxr-x 3 lvtest lvtest 4096 Oct 24 16:45 test
drwxrwxr-x 3 lvtest lvtest 4096 Feb 21 16:33 tmp
</pre>
</div>
</li>
<li>下面就来总结一下ls的参数
<table border="2" cellspacing="0" cellpadding="6" rules="all" frame="border">


<colgroup>
<col  class="left" />

<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left">Option</th>
<th scope="col" class="left">Long Option</th>
<th scope="col" class="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left">-a</td>
<td class="left">&#x2013;all</td>
<td class="left">List all files, even hidden files</td>
</tr>

<tr>
<td class="left">-d</td>
<td class="left">&#x2013;directory</td>
<td class="left">if No -d dpecified, ls will list the contents</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">&#xa0;</td>
<td class="left">of directory. with -d, ls will list the</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">&#xa0;</td>
<td class="left">directory itself</td>
</tr>

<tr>
<td class="left">-F</td>
<td class="left">&#x2013;classify</td>
<td class="left">This option will append an indicator character</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">&#xa0;</td>
<td class="left">to the end of each listed name(for example, a</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">&#xa0;</td>
<td class="left">forward slash for directory)</td>
</tr>

<tr>
<td class="left">-h</td>
<td class="left">&#x2013;human-readable</td>
<td class="left">in long format listing(with -l), display the</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">&#xa0;</td>
<td class="left">sizes in human-readable format rather than in</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">&#xa0;</td>
<td class="left">bytes</td>
</tr>

<tr>
<td class="left">-l</td>
<td class="left">&#xa0;</td>
<td class="left">Display result in long format</td>
</tr>

<tr>
<td class="left">-r</td>
<td class="left">&#x2013;reverse</td>
<td class="left">Display the results in reverse order</td>
</tr>

<tr>
<td class="left">-S</td>
<td class="left">&#xa0;</td>
<td class="left">Sort result by file size</td>
</tr>

<tr>
<td class="left">-t</td>
<td class="left">&#xa0;</td>
<td class="left">Sort by modification time</td>
</tr>
</tbody>
</table>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-3-1-2" class="outline-4">
<h4 id="sec-3-1-2">A Longer Look at Long Format</h4>
<div class="outline-text-4" id="text-3-1-2">
<ul class="org-ul">
<li>下面是一个long listing的例子
<div class="org-src-container">

<pre class="src src-sh">lvtest@auto-inst:~/tmp$ ls -l
total 24
-rwxrwxr-x  1 lvtest lvtest 8522 Feb 21 16:33 a.out
-rw-rw-r--  1 lvtest lvtest  222 Feb 21 16:33 printf.c
-rw-rw-r--  1 lvtest lvtest 1042 Feb 19 18:09 testsig.c
drwxrwxr-x 40 lvtest lvtest 4096 Feb 20 16:48 unpbook
</pre>
</div>
</li>
<li>我们以最后一行来分析long listing
<table border="2" cellspacing="0" cellpadding="6" rules="all" frame="border">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left">Field</td>
<td class="left">Meaning</td>
</tr>

<tr>
<td class="left">drwxrwxr-x</td>
<td class="left">first character indicates the type fo file. "-"-&gt; regular file</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">"d"-&gt; directory next three characters"rwx"-&gt;access rights for</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">file's owner, next three characters"rwx"-&gt;access rights for</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">file's group, final thress"r-x" for everyone else</td>
</tr>

<tr>
<td class="left">40</td>
<td class="left">File's number of hard links</td>
</tr>

<tr>
<td class="left">lvtest</td>
<td class="left">The user naemfo the file's owner</td>
</tr>

<tr>
<td class="left">lvtest</td>
<td class="left">The name of the group that owns the file</td>
</tr>

<tr>
<td class="left">4096</td>
<td class="left">Size of the file in bytes</td>
</tr>

<tr>
<td class="left">Feb 20 16:48</td>
<td class="left">Date and time of the file's last modification</td>
</tr>

<tr>
<td class="left">unpbook</td>
<td class="left">Name of the file</td>
</tr>
</tbody>
</table>
</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-sec-3-2" class="outline-3">
<h3 id="sec-3-2">Determining a File's Type with file</h3>
<div class="outline-text-3" id="text-3-2">
<ul class="org-ul">
<li>我们可以用file命令来判断文件类型
<div class="org-src-container">

<pre class="src src-sh">lvtest@auto-inst:~/tmp$ file printf.c
printf.c: C source, ASCII text
</pre>
</div>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-3-3" class="outline-3">
<h3 id="sec-3-3">Viewing File contents with less</h3>
<div class="outline-text-3" id="text-3-3">
<ul class="org-ul">
<li>我们可以使用less来查看text类型的文件, 期间所有的操作和VI一样!, 可以按h来查
看帮助
<div class="org-src-container">

<pre class="src src-sh">lvtest@auto-inst:~/tmp$ less printf.c
WARNING: terminal is not fully functional
<span style="color: #AEE239;">printf.c</span>  (press RETURN)
<span style="color: #505C63;">#</span><span style="color: #505C63;">include &lt;stdio.h&gt;</span>

int main(int argc, char *argv[])
{
    int ii = 0x01020304;
    int i = 0;
    char* ptr = &amp;ii;
    <span style="color: #A7DBD8;">for</span> (i = 0; i &lt; 4; i++) {
        <span style="color: #F38630;">printf</span>(<span style="color: #F8F8F0;">"%x\n"</span>, *ptr);
        ptr++;
    }

    <span style="color: #A7DBD8;">return</span> 0;
}
<span style="color: #AEE239;">printf.c</span> (END)
</pre>
</div>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-3-4" class="outline-3">
<h3 id="sec-3-4">A Guided Tour</h3>
<div class="outline-text-3" id="text-3-4">
<ul class="org-ul">
<li>我们在移动位置的时候,有很多时候要用到绝对路径,下面就是一些绝对路径的意义
<table border="2" cellspacing="0" cellpadding="6" rules="all" frame="border">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left">Directory</td>
<td class="left">Comments</td>
</tr>

<tr>
<td class="left">//</td>
<td class="left">The root directory, where everything begins</td>
</tr>

<tr>
<td class="left">/bin</td>
<td class="left">Contains binaries must be present for system to boot and run</td>
</tr>

<tr>
<td class="left">/boot</td>
<td class="left">Contains Linux Kernel, initial RAM disk image</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">/boot/grub/grub.conf-&gt;used to configure the boot loader</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">/boot/vmlinuz, the Linux kernel</td>
</tr>

<tr>
<td class="left">/dev</td>
<td class="left">Contains device nodes, nodes are also file</td>
</tr>

<tr>
<td class="left">/etc</td>
<td class="left">Contains system-wide configuration files</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">/etc/crontab-&gt;defines when automated job will run</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">/etc/fstab-&gt;a table of storage devices and their associated</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">mount points</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">/etc/passwd, a list of the user accounts</td>
</tr>

<tr>
<td class="left">/home</td>
<td class="left">Every user has one directory in /home</td>
</tr>

<tr>
<td class="left">/lib</td>
<td class="left">Contains shared library files used by the core system programs,</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">like the DLLs in Windows</td>
</tr>

<tr>
<td class="left">/lost+found</td>
<td class="left">Unless somethign really bad has happened to your system, this</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">directory will reman empty</td>
</tr>

<tr>
<td class="left">/media</td>
<td class="left">On modern Linux system, it will contain the mount pionts for</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">removable media such as USB, CD-ROM, that are mounted</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">automatically at insertion</td>
</tr>

<tr>
<td class="left">/mnt</td>
<td class="left">On older Linux systems, /mnt directory conatins mount points</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">for removable devices that habe been mounted manually</td>
</tr>

<tr>
<td class="left">/opt</td>
<td class="left">The /opt directory is used to install "optional" software</td>
</tr>

<tr>
<td class="left">/proc</td>
<td class="left">/proc is not a real filesystem. it is a virtual filesystem</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">maintained by the Linx kernel. The files are readable and will</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">give you a picture of how the kernel sees your computer</td>
</tr>

<tr>
<td class="left">/root</td>
<td class="left">home directory for the root account</td>
</tr>

<tr>
<td class="left">/sbin</td>
<td class="left">This directory conains "system" binaries. These are programs</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">that perform vital system tasks that are generally reserved</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">for the superuser</td>
</tr>

<tr>
<td class="left">/tmp</td>
<td class="left">Intended for staorage of temporary, transient files.</td>
</tr>

<tr>
<td class="left">/usr</td>
<td class="left">This directory is likely the largest one on a Linux system. It</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">contains all the programs and support files used by regular</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">users</td>
</tr>

<tr>
<td class="left">/usr/bin</td>
<td class="left">containst the executable programs installed by your Linux</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">distribution. It is common for this directory to hold thousands</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">of programs</td>
</tr>

<tr>
<td class="left">/usr/lib</td>
<td class="left">The shared libraries for the programs in /usr/bin</td>
</tr>

<tr>
<td class="left">/usr/local</td>
<td class="left">The /usr/local tree is where programs that are not included with</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">your distribution but are intended for system-wide use are</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">installed. Programs compiled from source code are normally</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">installed in /usr/local/bin</td>
</tr>

<tr>
<td class="left">/usr/sbin</td>
<td class="left">Contains more system administration programs</td>
</tr>

<tr>
<td class="left">/usr/share</td>
<td class="left">/usr/share contains all the shared data used by  programs in</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">/usr/bin. This includes things like defult configuration files,</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">icons, screen backgrounds, sound files, etc</td>
</tr>

<tr>
<td class="left">/usr/share/oc</td>
<td class="left">Most packages installed on the system will include some kind of</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">documentation files organized by package</td>
</tr>

<tr>
<td class="left">/var</td>
<td class="left">With the exception of /tmp and /home, the directories we showd</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">here keep their content static, in other words, their contents</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">are not changed. /var directory tree is where data that is</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">likely to chagne is stored. Various databases, spoll files, user</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">mail, for example</td>
</tr>

<tr>
<td class="left">/val/log</td>
<td class="left">/var/log contains log files, records of various sytem activity.</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">The most useful one is /var/log/messages, in some system, only</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">superuser can view log file</td>
</tr>
</tbody>
</table>
</li>
</ul>
</div>
<div id="outline-container-sec-3-4-1" class="outline-4">
<h4 id="sec-3-4-1">Symbolic Links</h4>
<div class="outline-text-4" id="text-3-4-1">
<ul class="org-ul">
<li>在ls 的long format里面,如果第一个不是"-"或者"d", 而是"l"的话,就是symbolic links
<div class="org-src-container">

<pre class="src src-sh">lrwxrwxrwx  1 root root    17 Feb 20  2013 libip4tc.so.0 -&gt; libip4tc.so.0.0.0
</pre>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>


<div id="outline-container-sec-4" class="outline-2">
<h2 id="sec-4">Manipulating Files And Directories</h2>
<div class="outline-text-2" id="text-4">
</div><div id="outline-container-sec-4-1" class="outline-3">
<h3 id="sec-4-1">Wildcards</h3>
<div class="outline-text-3" id="text-4-1">
<ul class="org-ul">
<li>因为shell经常使用文件名, 通配符为shell提供了一种快速定位"一组"文件的方法.下
面是主要通配符
<table border="2" cellspacing="0" cellpadding="6" rules="all" frame="border">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left">Wildcard</th>
<th scope="col" class="left">Matches</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left">*</td>
<td class="left">Any characters</td>
</tr>

<tr>
<td class="left">?</td>
<td class="left">Any single character</td>
</tr>

<tr>
<td class="left">[characters]</td>
<td class="left">Any character that is a member of the set characters</td>
</tr>

<tr>
<td class="left">[!characters]</td>
<td class="left">Any character that is not a member of the set characters</td>
</tr>

<tr>
<td class="left">[\[:class:]\]</td>
<td class="left">Any character that is a member of the specified class</td>
</tr>

<tr>
<td class="left">[:alnum:]</td>
<td class="left">Any alphanumeric character</td>
</tr>

<tr>
<td class="left">[:alpha:]</td>
<td class="left">Any alphabetic character</td>
</tr>

<tr>
<td class="left">[:digit:]</td>
<td class="left">Any numeral</td>
</tr>

<tr>
<td class="left">[:lower:]</td>
<td class="left">Any lowercase letter</td>
</tr>

<tr>
<td class="left">[:upper:]</td>
<td class="left">Any uppercase letter</td>
</tr>
</tbody>
</table>
</li>
<li>下面是通配符例子
<table border="2" cellspacing="0" cellpadding="6" rules="all" frame="border">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left">Pattern</th>
<th scope="col" class="left">Matches</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left">*</td>
<td class="left">All files</td>
</tr>

<tr>
<td class="left">g*</td>
<td class="left">Any file beginning with g</td>
</tr>

<tr>
<td class="left">b*.txt</td>
<td class="left">Any file beginning weith b followed by any characters and</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">characters and ending with .txt</td>
</tr>

<tr>
<td class="left">Data??</td>
<td class="left">Any file beginning with Data followed by exactly three chars</td>
</tr>

<tr>
<td class="left">[abc]*</td>
<td class="left">Any file beginning with either a, b, or c</td>
</tr>

<tr>
<td class="left">BACKUP.[0-9][0-9][0-9]</td>
<td class="left">Any file beginning weith BACKUP. followed by exactly 2 nums</td>
</tr>

<tr>
<td class="left">[\[:upper:\]]*</td>
<td class="left">Any file beginning with an uppercase letter</td>
</tr>

<tr>
<td class="left">[![:digit:]]*</td>
<td class="left">Any file not beginning with a number</td>
</tr>

<tr>
<td class="left">*[[:lower:]123]</td>
<td class="left">Any file ending with a lowercase letter or num 1, 2, 3</td>
</tr>
</tbody>
</table>
<div class="org-src-container">

<pre class="src src-sh">lvtest@auto-inst:~/tmp/ttt/wc$ ls *
12.txt  23.txt  ABC.txt  BACKUP.123  Datafhr  abc.txt  bca.txt  g1.txt  g2.txt
lvtest@auto-inst:~/tmp/ttt/wc$ ls g*
g1.txt  g2.txt
lvtest@auto-inst:~/tmp/ttt/wc$ ls b*.txt
bca.txt
lvtest@auto-inst:~/tmp/ttt/wc$ ls Data???
Datafhr
lvtest@auto-inst:~/tmp/ttt/wc$ ls [abc]*
abc.txt  bca.txt
lvtest@auto-inst:~/tmp/ttt/wc$ ls BACKUP.[0-9][0-9][0-9]
BACKUP.123
lvtest@auto-inst:~/tmp/ttt/wc$ ls [[:upper:]]*
ABC.txt  BACKUP.123  Datafhr
lvtest@auto-inst:~/tmp/ttt/wc$ ls [![:digit:]]*
ABC.txt  BACKUP.123  Datafhr  abc.txt  bca.txt  g1.txt  g2.txt
lvtest@auto-inst:~/tmp/ttt/wc$ ls *[[:lower:]123]
12.txt  23.txt  ABC.txt  BACKUP.123  Datafhr  abc.txt  bca.txt  g1.txt  g2.txt
</pre>
</div>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-4-2" class="outline-3">
<h3 id="sec-4-2">mkdir-Create Directories</h3>
<div class="outline-text-3" id="text-4-2">
<ul class="org-ul">
<li>mkdir是建立文件夹的命令
<div class="org-src-container">

<pre class="src src-sh">lvtest@auto-inst:~/tmp/ttt/mk$ ls
lvtest@auto-inst:~/tmp/ttt/mk$ mkdir dir1 dir2 dir3
lvtest@auto-inst:~/tmp/ttt/mk$ ls
dir1  dir2  dir3
</pre>
</div>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-4-3" class="outline-3">
<h3 id="sec-4-3">cp-Copy Files and Directories</h3>
<div class="outline-text-3" id="text-4-3">
<ul class="org-ul">
<li>cp的用法主要就是下面三种
<div class="org-src-container">

<pre class="src src-sh">lvtest@auto-inst:~/tmp/ttt/mk$ ls
dir1  dir2  dir3  f1  f2  f3  f4
lvtest@auto-inst:~/tmp/ttt/mk$ cp f1 f5
lvtest@auto-inst:~/tmp/ttt/mk$ ls
dir1  dir2  dir3  f1  f2  f3  f4  f5
lvtest@auto-inst:~/tmp/ttt/mk$ cp f1 dir1
lvtest@auto-inst:~/tmp/ttt/mk$ find .
<span style="color: #F38630;">.</span>
./f5
./dir3
./dir2
./f3
./f2
./f4
./f1
./dir1
./dir1/f1
lvtest@auto-inst:~/tmp/ttt/mk$ cp f2 f3 f4 f5 dir2
lvtest@auto-inst:~/tmp/ttt/mk$ find .
<span style="color: #F38630;">.</span>
./f5
./dir3
./dir2
./dir2/f5
./dir2/f3
./dir2/f2
./dir2/f4
./f3
./f2
./f4
./f1
./dir1
./dir1/f1
</pre>
</div>
</li>
<li>cp的参数主要有
<table border="2" cellspacing="0" cellpadding="6" rules="all" frame="border">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left">Option</th>
<th scope="col" class="left">Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left">-a, &#x2013;archive</td>
<td class="left">Copy the files and directories with all their attributes</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">It is default attributes for the user performing the copy</td>
</tr>

<tr>
<td class="left">-i, &#x2013;interactive</td>
<td class="left">If this option is not specified, cp will silently</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">overwrite files</td>
</tr>

<tr>
<td class="left">-r, &#x2013;recursive</td>
<td class="left">Recursively copy directories and their contesnts</td>
</tr>

<tr>
<td class="left">-u, &#x2013;update</td>
<td class="left">copy only files that either don't exist or are newer</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">than the existing corresponding files in the destination</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">directory</td>
</tr>

<tr>
<td class="left">-v, &#x2013;verbose</td>
<td class="left">Display informative messages</td>
</tr>
</tbody>
</table>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-4-4" class="outline-3">
<h3 id="sec-4-4">mv-Move and Rename Files</h3>
<div class="outline-text-3" id="text-4-4">
<ul class="org-ul">
<li>mv 和copy从参数和使用方面都是一样的.要注意的是,比如, mv a b, 如果a,b在一个
文件夹下,那么mv就等同于rename了
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-4-5" class="outline-3">
<h3 id="sec-4-5">rm-Remove Files and Directories</h3>
<div class="outline-text-3" id="text-4-5">
<ul class="org-ul">
<li>rm就是删除某个item.和前面的mv,copy使用方法一样,多了一个"-f, &#x2013;force"参数,忽
略文件不存在的提示.
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-4-6" class="outline-3">
<h3 id="sec-4-6">ln-Create Links</h3>
<div class="outline-text-3" id="text-4-6">
</div><div id="outline-container-sec-4-6-1" class="outline-4">
<h4 id="sec-4-6-1">Hard links</h4>
<div class="outline-text-4" id="text-4-6-1">
<ul class="org-ul">
<li>创建hard link的方法为 ln file link, 注意先写file再写link, hard link只能link
普通文件,不能link其他, hard link有如下缺点:
<ul class="org-ul">
<li>不能link其他partition的文件
</li>
<li>不能link文件夹
</li>
</ul>
<div class="org-src-container">

<pre class="src src-sh">lvtest@auto-inst:~/tmp/ttt/hs$ ls
f1
lvtest@auto-inst:~/tmp/ttt/hs$ ln f1 hard-link
lvtest@auto-inst:~/tmp/ttt/hs$ ls
f1  hard-link
lvtest@auto-inst:~/tmp/ttt/hs$ ls -al
total 8
drwxrwxr-x 2 lvtest lvtest 4096 Feb 27 18:58 .
drwxrwxr-x 6 lvtest lvtest 4096 Feb 27 18:58 ..
-rw-rw-r-- 2 lvtest lvtest    0 Feb 27 18:58 f1
-rw-rw-r-- 2 lvtest lvtest    0 Feb 27 18:58 hard-link
</pre>
</div>
</li>
<li>创建Symbolic Link的方法是ln -s item link, symbolic link不仅仅能link普通文
件, 也可以link文件夹等.
<div class="org-src-container">

<pre class="src src-sh">lvtest@auto-inst:~/tmp/ttt/hs$ ls
f1  hard-link
lvtest@auto-inst:~/tmp/ttt/hs$ ln -s f1 soft-link
lvtest@auto-inst:~/tmp/ttt/hs$ ls -al
total 8
drwxrwxr-x 2 lvtest lvtest 4096 Feb 27 19:03 .
drwxrwxr-x 6 lvtest lvtest 4096 Feb 27 18:58 ..
-rw-rw-r-- 2 lvtest lvtest    0 Feb 27 18:58 f1
-rw-rw-r-- 2 lvtest lvtest    0 Feb 27 18:58 hard-link
lrwxrwxrwx 1 lvtest lvtest    2 Feb 27 19:03 soft-link -&gt; f1
</pre>
</div>
</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-sec-4-7" class="outline-3">
<h3 id="sec-4-7">Let's Build a Playground</h3>
<div class="outline-text-3" id="text-4-7">
<ul class="org-ul">
<li>hard link和symbolic link的区别在于hard link不会创建一个新的inode,而是两个文
件使用一个inode,使用ls -i可以创建这个inode
<div class="org-src-container">

<pre class="src src-sh">lvtest@auto-inst:~/tmp/ttt/hs$ ls -li
total 0
134897 -rw-rw-r-- 2 lvtest lvtest 0 Feb 27 18:58 f1
134897 -rw-rw-r-- 2 lvtest lvtest 0 Feb 27 18:58 hard-link
134898 lrwxrwxrwx 1 lvtest lvtest 2 Feb 27 19:03 soft-link -&gt; f1
</pre>
</div>
</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-sec-5" class="outline-2">
<h2 id="sec-5">Working With Commands</h2>
<div class="outline-text-2" id="text-5">
</div><div id="outline-container-sec-5-1" class="outline-3">
<h3 id="sec-5-1">What Exactly Are Commands?</h3>
<div class="outline-text-3" id="text-5-1">
<ul class="org-ul">
<li>一个命令其实质上可能会是下面四种中的一种:
<ul class="org-ul">
<li>An executable program: 所有的在/usr/bin下面的可执行程序都是这种, which的
结果就是/usr/bin
</li>
<li>A command build into the shell itself:是shell自带的. which的结果是空,
比如cd
</li>
<li>A shell function
</li>
<li>An alias: 在其他命令的基础上自己简单改变的命令,比如ll, which ll也是空的
</li>
</ul>
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-5-2" class="outline-3">
<h3 id="sec-5-2">Identifying Commans</h3>
<div class="outline-text-3" id="text-5-2">
</div><div id="outline-container-sec-5-2-1" class="outline-4">
<h4 id="sec-5-2-1">type-Display a Command's Type</h4>
<div class="outline-text-4" id="text-5-2-1">
<ul class="org-ul">
<li>我们可以用type命令来判断命令的类型:
<div class="org-src-container">

<pre class="src src-sh">lvtest@auto-inst:~$ type type
<span style="color: #F38630;">type</span> is a shell builtin
lvtest@auto-inst:~$ type ls
ls is aliased to <span style="color: #fa8072;">`ls --color=auto'</span>
<span style="color: #fa8072;">lvtest@auto-inst:~$ type cp</span>
<span style="color: #fa8072;">cp is /bin/cp</span>
</pre>
</div>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-5-2-2" class="outline-4">
<h4 id="sec-5-2-2">which-Display an Executable's Location</h4>
<div class="outline-text-4" id="text-5-2-2">
<ul class="org-ul">
<li>有时候我们一个可执行程序会有多个版本,which可以判断系统默认的使用哪个, which
还只能作用在executable程序,对于builtin的程序不管用
<div class="org-src-container">

<pre class="src src-sh">lvtest@auto-inst:~$ which ls
/bin/ls
lvtest@auto-inst:~$ which cd
</pre>
</div>
</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-sec-5-3" class="outline-3">
<h3 id="sec-5-3">Getting a Command's Documentation</h3>
<div class="outline-text-3" id="text-5-3">
</div><div id="outline-container-sec-5-3-1" class="outline-4">
<h4 id="sec-5-3-1">help-Get Help for Shell Builtins</h4>
<div class="outline-text-4" id="text-5-3-1">
<ul class="org-ul">
<li>help + buildin command的话可以查看其文档
<div class="org-src-container">

<pre class="src src-sh">lvtest@auto-inst:~$ help cd
<span style="color: #F38630;">cd</span>: cd [-L|[-P [-e]]] [dir]
    Change the shell working directory.

    Change the current directory to DIR.  The default DIR is the value of the
    HOME shell variable.

    The variable CDPATH defines the search path for the directory containing
    DIR.  Alternative directory names<span style="color: #A7DBD8;"> in</span> CDPATH are separated by a colon (:)<span style="color: #F38630;">.</span>
    A null directory name is the same as the current directory.  If DIR begins
    with a slash (/), then CDPATH is not used.

    If the directory is not found, and the shell option <span style="color: #fa8072;">`cdable_vars' is set,</span>
<span style="color: #fa8072;">    the word is assumed to be  a variable name.  If that variable has a value,</span>
<span style="color: #fa8072;">    its value is used for DIR.</span>

<span style="color: #fa8072;">    Options:</span>
<span style="color: #fa8072;">        -L  force symbolic links to be followed</span>
<span style="color: #fa8072;">        -P  use the physical directory structure without following symbolic</span>
<span style="color: #fa8072;">        links</span>
<span style="color: #fa8072;">        -e  if the -P option is supplied, and the current working directory</span>
<span style="color: #fa8072;">        cannot be determined successfully, exit with a non-zero status</span>

<span style="color: #fa8072;">    The default is to follow symbolic links, as if `</span>-L<span style="color: #F8F8F0;">' were specified.</span>

<span style="color: #F8F8F0;">    Exit Status:</span>
<span style="color: #F8F8F0;">    Returns 0 if the directory is changed, and if $PWD is set successfully when</span>
<span style="color: #F8F8F0;">    -P is used; non-zero otherwise.</span>
</pre>
</div>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-5-3-2" class="outline-4">
<h4 id="sec-5-3-2">&#x2013;help-Display Usage Information</h4>
<div class="outline-text-4" id="text-5-3-2">
<ul class="org-ul">
<li>buildin的可以使用help,那么如果是executable的话,help就不管用了,但是默认这种
命令会加一个&#x2013;help参数(executable最开始都是c语言写的,c语言自然对于位于自己exe
后面的参数,当然好分析了)
<div class="org-src-container">

<pre class="src src-sh">lvtest@auto-inst:~$ type mkdir
mkdir is /bin/mkdir
lvtest@auto-inst:~$ help mkdir
bash: help: no help topics match <span style="color: #fa8072;">`mkdir'.  Try `</span><span style="color: #F38630;">help</span> help<span style="color: #F8F8F0;">' or `man -k mkdir'</span> or <span style="color: #fa8072;">`info mkdir'.</span>
<span style="color: #fa8072;">lvtest@auto-inst:~$ mkdir --help</span>
<span style="color: #fa8072;">Usage: mkdir [OPTION]... DIRECTORY...</span>
<span style="color: #fa8072;">Create the DIRECTORY(ies), if they do not already exist.</span>

<span style="color: #fa8072;">Mandatory arguments to long options are mandatory for short options too.</span>
<span style="color: #fa8072;">  -m, --mode=MODE   set file mode (as in chmod), not a=rwx - umask</span>
<span style="color: #fa8072;">  -p, --parents     no error if existing, make parent directories as needed</span>
<span style="color: #fa8072;">  -v, --verbose     print a message for each created directory</span>
<span style="color: #fa8072;">  -Z, --context=CTX  set the SELinux security context of each created</span>
<span style="color: #fa8072;">                      directory to CTX</span>
<span style="color: #fa8072;">      --help     display this help and exit</span>
<span style="color: #fa8072;">      --version  output version information and exit</span>

<span style="color: #fa8072;">Report mkdir bugs to bug-coreutils@gnu.org</span>
<span style="color: #fa8072;">GNU coreutils home page: <a href="http://www.gnu.org/software/coreutils/&gt;
General help using GNU software: &lt;http://www.gnu.org/gethelp/&gt;
Report mkdir translation bugs to &lt;http://translationproject.org/team/">&lt;http://www.gnu.org/software/coreutils/&gt;</a></span><a href="http://www.gnu.org/software/coreutils/&gt;
General help using GNU software: &lt;http://www.gnu.org/gethelp/&gt;
Report mkdir translation bugs to &lt;http://translationproject.org/team/">
</a><span style="color: #fa8072;"><a href="http://www.gnu.org/software/coreutils/&gt;
General help using GNU software: &lt;http://www.gnu.org/gethelp/&gt;
Report mkdir translation bugs to &lt;http://translationproject.org/team/">General help using GNU software: &lt;http://www.gnu.org/gethelp/&gt;</a></span><a href="http://www.gnu.org/software/coreutils/&gt;
General help using GNU software: &lt;http://www.gnu.org/gethelp/&gt;
Report mkdir translation bugs to &lt;http://translationproject.org/team/">
</a><span style="color: #fa8072;"><a href="http://www.gnu.org/software/coreutils/&gt;
General help using GNU software: &lt;http://www.gnu.org/gethelp/&gt;
Report mkdir translation bugs to &lt;http://translationproject.org/team/">Report mkdir translation bugs to &lt;http://translationproject.org/team/&gt;</a></span>
<span style="color: #fa8072;">For complete documentation, run: info coreutils 'mkdir invocation'</span>
</pre>
</div>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-5-3-3" class="outline-4">
<h4 id="sec-5-3-3">man-Display a Program's Manual Page</h4>
<div class="outline-text-4" id="text-5-3-3">
<ul class="org-ul">
<li>对于buildin的命令,前置的查看方法是help cmd,对于executable(开始都是c语言写
的)来说,前置的查看方法是man ls
</li>
<li>由于一个executable通常都是c语言写的,而这些命令都有c语言的相应函数(甚至是system
call),所以我们有如下的常用默认显示类别
<table border="2" cellspacing="0" cellpadding="6" rules="all" frame="border">


<colgroup>
<col  class="right" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="right">Section</th>
<th scope="col" class="left">Contents</th>
</tr>
</thead>
<tbody>
<tr>
<td class="right">1</td>
<td class="left">User commands</td>
</tr>

<tr>
<td class="right">2</td>
<td class="left">Programming interfaces for kernel system calls</td>
</tr>

<tr>
<td class="right">3</td>
<td class="left">Programming interfaces to the C library</td>
</tr>

<tr>
<td class="right">4</td>
<td class="left">Special files such as device nodes and drivers</td>
</tr>

<tr>
<td class="right">5</td>
<td class="left">File formats</td>
</tr>

<tr>
<td class="right">6</td>
<td class="left">Games and amusements such as screensavers</td>
</tr>

<tr>
<td class="right">7</td>
<td class="left">Miscellaneous</td>
</tr>

<tr>
<td class="right">8</td>
<td class="left">System administration commands</td>
</tr>
</tbody>
</table>
</li>
<li>类别的使用方法是把类别序号放在man和cmd之间
<div class="org-src-container">

<pre class="src src-sh">lvtest@auto-inst:~$ man 5 passwd
<span style="color: #AEE239;">PASSWD</span>(5)                File Formats and Conversions                PASSWD(5)
</pre>
</div>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-5-3-4" class="outline-4">
<h4 id="sec-5-3-4">apropos-Display Appropriate Commands</h4>
<div class="outline-text-4" id="text-5-3-4">
<ul class="org-ul">
<li>可以看成是bash的google
<div class="org-src-container">

<pre class="src src-sh">lvtest@auto-inst:~$ apropos mkdir
<span style="color: #AEE239;">mkdir</span> (1)            - make directories
<span style="color: #AEE239;">mkdir</span> (2)            - create a directory
<span style="color: #AEE239;">mkdirat</span> (2)          - create a directory relative to a directory file descri...
</pre>
</div>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-5-3-5" class="outline-4">
<h4 id="sec-5-3-5">whatis-Display a Very Brief Description of a Command</h4>
<div class="outline-text-4" id="text-5-3-5">
<ul class="org-ul">
<li>whatis 就是bash的百度百科
<div class="org-src-container">

<pre class="src src-sh">lvtest@auto-inst:~$ whatis ls
<span style="color: #AEE239;">ls</span> (1)               - list directory contents
</pre>
</div>
</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-sec-5-4" class="outline-3">
<h3 id="sec-5-4">Creating Your Own Commands with alias</h3>
<div class="outline-text-3" id="text-5-4">
<ul class="org-ul">
<li>我们可以使用alias来重新组合一个命令
<div class="org-src-container">

<pre class="src src-sh">lvtest@auto-inst:~$ alias <span style="color: #FD971F;">foo</span>=<span style="color: #F8F8F0;">'cd /usr; ls; cd -'</span>
lvtest@auto-inst:~$ which foo
lvtest@auto-inst:~$ type foo
foo is aliased to <span style="color: #fa8072;">`cd /usr; ls; cd -'</span>
<span style="color: #fa8072;">lvtest@auto-inst:~$ foo</span>
<span style="color: #fa8072;">bin  games  include  lib  local  sbin  share  src</span>
<span style="color: #fa8072;">/home/lvtest</span>
</pre>
</div>
</li>
<li>使用unalias来去掉这个命令的alias
<div class="org-src-container">

<pre class="src src-sh">lvtest@auto-inst:~$ unalias foo
lvtest@auto-inst:~$ type foo
bash: type: foo: not found
</pre>
</div>
</li>
<li>使用alias不加参数的话,会列举系统上面所有的alias
<div class="org-src-container">

<pre class="src src-sh">lvtest@auto-inst:~$ alias
<span style="color: #F38630;">alias</span> <span style="color: #FD971F;">alert</span>=<span style="color: #F8F8F0;">'notify-send --urgency=low -i "$([ $? = 0 ] &amp;&amp; echo terminal || echo error)" "$(</span><span style="color: #fa8072;">history</span><span style="color: #F8F8F0;">|tail -n1|sed -e '\''s/^\s*[0-9]\+\s*//;s/[;&amp;|]\s*alert$//'\'')"'</span>
<span style="color: #F38630;">alias</span> <span style="color: #FD971F;">egrep</span>=<span style="color: #F8F8F0;">'egrep --color=auto'</span>
<span style="color: #F38630;">alias</span> <span style="color: #FD971F;">fgrep</span>=<span style="color: #F8F8F0;">'fgrep --color=auto'</span>
<span style="color: #F38630;">alias</span> <span style="color: #FD971F;">grep</span>=<span style="color: #F8F8F0;">'grep --color=auto'</span>
<span style="color: #F38630;">alias</span> <span style="color: #FD971F;">l</span>=<span style="color: #F8F8F0;">'ls -CF'</span>
<span style="color: #F38630;">alias</span> <span style="color: #FD971F;">la</span>=<span style="color: #F8F8F0;">'ls -A'</span>
<span style="color: #F38630;">alias</span> <span style="color: #FD971F;">ll</span>=<span style="color: #F8F8F0;">'ls -alF'</span>
<span style="color: #F38630;">alias</span> <span style="color: #FD971F;">ls</span>=<span style="color: #F8F8F0;">'ls --color=auto'</span>
</pre>
</div>
</li>
<li>alias命令只有在当前shell的生命期内有用,一旦关掉当前的terminal,这次alias的就
消失了.
</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-sec-6" class="outline-2">
<h2 id="sec-6">Redirection</h2>
<div class="outline-text-2" id="text-6">
</div><div id="outline-container-sec-6-1" class="outline-3">
<h3 id="sec-6-1">Standard Input, Output, and Error</h3>
<div class="outline-text-3" id="text-6-1">
<ul class="org-ul">
<li>bash程序都会和standard input,output,error相关联的,比如ls就是把结构发送到
standard output和standard error的.
</li>
</ul>
</div>
<div id="outline-container-sec-6-1-1" class="outline-4">
<h4 id="sec-6-1-1">Redirecting Standard Output</h4>
<div class="outline-text-4" id="text-6-1-1">
<ul class="org-ul">
<li>我们是通过&gt;将standard output转移到&gt;指向的"文件"(从头开始,会覆盖以前的内容)
<div class="org-src-container">

<pre class="src src-sh">bash-3.2$ ls /usr/bin/ &gt; ls-output.txt
bash-3.2$ ls -l ls-output.txt
-rw-r--r--  1 hfeng  staff  8911 Mar  4 20:43 ls-output.txt
bash-3.2$ ls /usr/bin/ &gt; ls-output.txt
bash-3.2$ ls -l ls-output.txt
-rw-r--r--  1 hfeng  staff  8911 Mar  4 20:43 ls-output.txt
</pre>
</div>
</li>
<li>我们是通过&gt;&gt;将standard output叠加转移到&gt;指向的"文件"(从尾开始,会保留以前的内容)
<div class="org-src-container">

<pre class="src src-sh">bash-3.2$ ls /usr/bin/ &gt;&gt; ls-output.txt
bash-3.2$ ls /usr/bin/ &gt;&gt; ls-output.txt
bash-3.2$ ls /usr/bin/ &gt;&gt; ls-output.txt
bash-3.2$ ls -l ls-output.txt
-rw-r--r--  1 hfeng  staff  26733 Mar  4 20:44 ls-output.txt
</pre>
</div>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-6-1-2" class="outline-4">
<h4 id="sec-6-1-2">Redirecting Standard Error</h4>
<div class="outline-text-4" id="text-6-1-2">
<ul class="org-ul">
<li>如果是redirect standard Error就稍微有点拐弯了,要借助file descriptor的概念,
一个程序产生的输出会输出到三个"文件"上面,他们也默认拥有前三个file descriptor:
0,1,2分别代表:stin, stdout, sterr,所以把sterr导入到某个文件的方法如下(注意
2和&gt;是在一块的):
<div class="org-src-container">

<pre class="src src-sh">bash-3.2$ ls -l /bin/usr 2&gt; ls-error.txt
bash-3.2$ cat ls-error.txt
ls: /bin/usr: No such file or directory
</pre>
</div>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-6-1-3" class="outline-4">
<h4 id="sec-6-1-3">Redirecting Standard Output and Standard Error to One File</h4>
<div class="outline-text-4" id="text-6-1-3">
<ul class="org-ul">
<li>有如下两种方法:
<ul class="org-ul">
<li>传统的方法,要转两次,利用了stdout的file descriptor为1
<div class="org-src-container">

<pre class="src src-sh">bash-3.2$ ls -l /bin/usr &gt; ls-output.txt 2&gt;&amp;1
bash-3.2$ cat ls-output.txt
ls: /bin/usr: No such file or directory
</pre>
</div>
</li>
<li>新版本bash支持如下方法(更简介)
<div class="org-src-container">

<pre class="src src-sh">bash-3.2$ ls -l /bin/usr &amp;&gt; ls-output.txt
bash-3.2$ cat ls-output.txt
ls: /bin/usr: No such file or directory
</pre>
</div>
</li>
</ul>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-6-1-4" class="outline-4">
<h4 id="sec-6-1-4">Disposing of Unwanted Output</h4>
<div class="outline-text-4" id="text-6-1-4">
<ul class="org-ul">
<li>如果我们不想要某些输出,我们可以redirect它们到一个特殊的文件
<div class="org-src-container">

<pre class="src src-sh">bash-3.2$ ls -l /bin/usr 2&gt; /dev/null
</pre>
</div>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-6-1-5" class="outline-4">
<h4 id="sec-6-1-5">Redirecting Standard Input</h4>
<div class="outline-text-4" id="text-6-1-5">
<ul class="org-ul">
<li>我们用"&gt;"把stdout转移到一个文件,其实我们还可以使用"&lt;"把文件内容作为standard
input,如下
<div class="org-src-container">

<pre class="src src-sh">bash-3.2$ cat &gt; lazy_dog.txt
The quick brown fox jumped over the lazy dog.
bash-3.2$ cat lazy_dog.txt
The quick brown fox jumped over the lazy dog.
bash-3.2$ cat &lt; lazy_dog.txt
The quick brown fox jumped over the lazy dog.
</pre>
</div>
</li>
<li>我们可以看到这里使用"&lt;"和不使用"&lt;",是没有什么区别的.但是也说明了&lt;的作用.
</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-sec-6-2" class="outline-3">
<h3 id="sec-6-2">Pipelines</h3>
<div class="outline-text-3" id="text-6-2">
<ul class="org-ul">
<li>管道是bash的重要概念,我们可以通过"|"把一个程序的stout redirect到另一个
程序的stdin
<div class="org-src-container">

<pre class="src src-sh">bash-3.2$ ls -l /usr/bin | less
</pre>
</div>
</li>
</ul>
</div>
<div id="outline-container-sec-6-2-1" class="outline-4">
<h4 id="sec-6-2-1">Filters</h4>
<div class="outline-text-4" id="text-6-2-1">
<ul class="org-ul">
<li>我们还可以在管道中间进行一些filter操作,比如sort一下
<div class="org-src-container">

<pre class="src src-sh">bash-3.2$ ls -l /usr/bin | more | less
</pre>
</div>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-6-2-2" class="outline-4">
<h4 id="sec-6-2-2">uniq-Report or Omit Repeated Lines</h4>
<div class="outline-text-4" id="text-6-2-2">
<ul class="org-ul">
<li>uniq是和sort配合最多的一个程序,它把重复的行只显示一次, 而加了-d参数以后,就
是只显示那些重复的行
<div class="org-src-container">

<pre class="src src-sh">bash-3.2$ cat test.txt
a
n
c
n
c
n
1
2
3
4
bash-3.2$ cat test.txt | sort | uniq
1
2
3
4
a
c
n
bash-3.2$ cat test.txt | sort | uniq -d
c
n
</pre>
</div>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-6-2-3" class="outline-4">
<h4 id="sec-6-2-3">wc-Print Line, Word and Byte Counts</h4>
<div class="outline-text-4" id="text-6-2-3">
<ul class="org-ul">
<li>wc会显示文件的1行数2word数3byte数
<div class="org-src-container">

<pre class="src src-sh">bash-3.2$ wc test.txt
      10      10      20 test.txt
</pre>
</div>
</li>
<li>我们可以用前面学过的几个参数来统计我们总共有多个个executable程序在/usr和
/usr/bin下面
<div class="org-src-container">

<pre class="src src-sh">bash-3.2$ ls /bin /usr/bin | sort | uniq | wc -l
    1078
</pre>
</div>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-6-2-4" class="outline-4">
<h4 id="sec-6-2-4">grep-Print Lines Matching a Pattern</h4>
<div class="outline-text-4" id="text-6-2-4">
<ul class="org-ul">
<li>grep是一个强大的命令,其主要就是"KMP"查找字符串,其使用格式是(注意如果没有
files的话,那么就是grep stin了)
<pre class="example">
grep pattern [file...]
</pre>
</li>
<li>grep的一个简单应用(-i ignore -v反向输出,等复杂的以后再研究)
<div class="org-src-container">

<pre class="src src-sh">bash-3.2$ ls /usr/bin | sort | uniq | grep zip
bunzip2
bzip2
bzip2recover
funzip
gunzip
gzip
unzip
unzipsfx
zip
zipcloak
zipdetails
zipdetails5.16
zipgrep
zipinfo
zipnote
zipsplit
</pre>
</div>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-6-2-5" class="outline-4">
<h4 id="sec-6-2-5">head/tail-Print First/Last Part of Files</h4>
<div class="outline-text-4" id="text-6-2-5">
<ul class="org-ul">
<li>head 可以看文件的前n(n可以指定默认是10)行, tail反之
<div class="org-src-container">

<pre class="src src-sh">bash-3.2$ head -n 5 ls-output.txt
2to3
2to3-
2to3-2.7
2to32.6
BuildStrings
bash-3.2$ tail -n 5 ls-output.txt
zipsplit
zless
zmore
znew
zprint
</pre>
</div>
</li>
<li>tail更重要的一个功能是在-f之后看log
<div class="org-src-container">

<pre class="src src-sh">bash-3.2$ tail -f /var/log/appstore.log
        <span style="color: #F8F8F0;">"os_updates_to_install_on_restart"</span> = <span style="color: #F8F8F0;">""</span>;
        result = pass;
        <span style="color: #F8F8F0;">"user_initiated"</span> = no;
        <span style="color: #F8F8F0;">"will_restart"</span> = no;
    }
Mar  4 20:29:34 hair.lan storeagent[263]: SoftwareMap: Software map rebuild took 0.0856 seconds for 0 records and produced: {
    }
Mar  4 20:29:34 hair.lan storeagent[263]: AutoUpdateOperation: Released BackgroundTask power assertion (returned 0)
......
</pre>
</div>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-6-2-6" class="outline-4">
<h4 id="sec-6-2-6">tee-Read from Stdin and Output to Stdout and Files</h4>
<div class="outline-text-4" id="text-6-2-6">
<ul class="org-ul">
<li>tee其实是提供了一种"T"型的管道,就是结果不仅仅是传递给tee后面指定的文件,而且
同时传递给了stdout(这样可以让管道继续叠加下去)
<div class="org-src-container">

<pre class="src src-sh">bash-3.2$ ls /usr/bin | grep zip | tee out-grep.txt | grep un
bunzip2
funzip
gunzip
unzip
unzipsfx
bash-3.2$ cat out-grep.txt
bunzip2
bzip2
bzip2recover
funzip
gunzip
gzip
unzip
unzipsfx
zip
zipcloak
zipdetails
zipdetails5.16
zipgrep
zipinfo
zipnote
zipsplit
</pre>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">

         <!-- Duoshuo Comment BEGIN -->
         <div class="ds-thread"></div>
         <script type="text/javascript">
             var duoshuoQuery = {short_name:"harrifeng"};
             (function() {
             var ds = document.createElement('script');
             ds.type = 'text/javascript';ds.async = true;
             ds.src = 'http://static.duoshuo.com/embed.js';
             ds.charset = 'UTF-8';
             (document.getElementsByTagName('head')[0]
             || document.getElementsByTagName('body')[0]).appendChild(ds);
             })();
         </script>
         <!-- Duoshuo Comment END -->
</div>
</body>
</html>
