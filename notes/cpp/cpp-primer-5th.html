<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>cpp-primer-5th</title>
<!-- 2015-06-06 ÖÜÁù 23:10 -->
<meta  http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta  name="generator" content="Org-mode" />
<meta  name="author" content="your name" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center; }
  .todo   { font-family: monospace; color: red; }
  .done   { color: green; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  pre.src-sh:before    { content: 'sh'; }
  pre.src-bash:before  { content: 'sh'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-R:before     { content: 'R'; }
  pre.src-perl:before  { content: 'Perl'; }
  pre.src-java:before  { content: 'Java'; }
  pre.src-sql:before   { content: 'SQL'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.right  { text-align: center;  }
  th.left   { text-align: center;   }
  th.center { text-align: center; }
  td.right  { text-align: right;  }
  td.left   { text-align: left;   }
  td.center { text-align: center; }
  dt { font-weight: bold; }
  .footpara:nth-child(2) { display: inline; }
  .footpara { display: block; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  /*]]>*/-->
</style>

         <link href="http://fonts.googleapis.com/css?family=Droid+Sans+Mono|Galdeano|Open+Sans:600italic,400,600|Roboto+Condensed:400,700" rel="stylesheet" type="text/css">
         <link rel="stylesheet" type="text/css" href="/static/css/main.css"/>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2013 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="org-div-home-and-up">
 <a accesskey="h" href="http://harrifeng.github.io/sitemap.html"> UP </a>
 |
 <a accesskey="H" href="http://harrifeng.github.io/index.html"> HOME </a>
</div><div id="preamble" class="status">

         <div id="header">
            <div id="header-top">
                <div id="blog-title">Harrifeng's Path</div>
                <div id="blog-sub-title">çº¸ä¸Šå¾—æ¥ç»ˆè§‰æµ…,ç»çŸ¥æ­¤äº‹è¦Coding</div>
            </div>
            <div id="nav">
                <ul>
                    <li><a href="/">é¦–é¡µ</a></li>
                    <li><a href="/about.html">About Me</a></li>
                    <li>
                    </li>
                </ul>
            </div>
         </div>
</div>
<div id="content">
<h1 class="title">cpp-primer-5th</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">Chapter 01: Getting Started</a>
<ul>
<li><a href="#sec-1-1">Writing a Simple C++ Program</a>
<ul>
<li><a href="#sec-1-1-1">Compiling and Executing Our Program</a></li>
</ul>
</li>
<li><a href="#sec-1-2">A First Look at Input/Output</a></li>
<li><a href="#sec-1-3">A Word about Comments</a></li>
<li><a href="#sec-1-4">Flow of Control</a></li>
<li><a href="#sec-1-5">Introducing Clases</a></li>
</ul>
</li>
<li><a href="#sec-2">Chapter 02: Variables and basic types</a>
<ul>
<li><a href="#sec-2-1">Primitive Build-in Types</a>
<ul>
<li><a href="#sec-2-1-1">Arithmetic Types</a></li>
<li><a href="#sec-2-1-2">Type Conversions</a></li>
</ul>
</li>
<li><a href="#sec-2-2">Variables</a>
<ul>
<li><a href="#sec-2-2-1">Variable Definitions</a></li>
<li><a href="#sec-2-2-2">Variable Declarations and Definitions</a></li>
<li><a href="#sec-2-2-3">Identifiers</a></li>
<li><a href="#sec-2-2-4">Scope of a Name</a></li>
</ul>
</li>
<li><a href="#sec-2-3">Compound Types</a>
<ul>
<li><a href="#sec-2-3-1">References</a></li>
<li><a href="#sec-2-3-2">Pointers</a></li>
<li><a href="#sec-2-3-3">Understanding Compound Type Declarations</a></li>
</ul>
</li>
<li><a href="#sec-2-4">const Qualifier</a>
<ul>
<li><a href="#sec-2-4-1">References to const</a></li>
<li><a href="#sec-2-4-2">Pointers and Const</a></li>
<li><a href="#sec-2-4-3">Top-Level const</a></li>
<li><a href="#sec-2-4-4">constexpr and Constant Expressions</a></li>
</ul>
</li>
<li><a href="#sec-2-5">Dealing with Types</a>
<ul>
<li><a href="#sec-2-5-1">Type Aliases</a></li>
<li><a href="#sec-2-5-2">The auto Type Specifier</a></li>
<li><a href="#sec-2-5-3">The decltype Type Specifier</a></li>
</ul>
</li>
<li><a href="#sec-2-6">Namespace using Declarations</a></li>
<li><a href="#sec-2-7">Library string Type</a>
<ul>
<li><a href="#sec-2-7-1">Defining and Initializing strings</a></li>
<li><a href="#sec-2-7-2">Operations on strings</a></li>
<li><a href="#sec-2-7-3">Dealing with the Characters in a string</a></li>
</ul>
</li>
<li><a href="#sec-2-8">Library vector Type</a>
<ul>
<li><a href="#sec-2-8-1">Defining and Initializing vectors</a></li>
<li><a href="#sec-2-8-2">Adding Elements to a vector</a></li>
<li><a href="#sec-2-8-3">Other vector Operations</a></li>
</ul>
</li>
<li><a href="#sec-2-9">Introducing Iterators</a>
<ul>
<li><a href="#sec-2-9-1">Using Iterators</a></li>
<li><a href="#sec-2-9-2">Iterator Arithmetic</a></li>
</ul>
</li>
<li><a href="#sec-2-10">Arrays</a>
<ul>
<li><a href="#sec-2-10-1">Defining and Initializing Built-in Arrays</a></li>
<li><a href="#sec-2-10-2">Access the Element of Array</a></li>
<li><a href="#sec-2-10-3">Pointers and Arrays</a></li>
<li><a href="#sec-2-10-4">C-Style Character Strings</a></li>
<li><a href="#sec-2-10-5">Interfacing to Older Code</a></li>
</ul>
</li>
<li><a href="#sec-2-11">Multidimensional Arrays</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1">Chapter 01: Getting Started</h2>
<div class="outline-text-2" id="text-1">
</div><div id="outline-container-sec-1-1" class="outline-3">
<h3 id="sec-1-1">Writing a Simple C++ Program</h3>
<div class="outline-text-3" id="text-1-1">
<ul class="org-ul">
<li>æ¯ä¸ªcppç¨‹åºéƒ½æœ‰ä¸€ä¸ªæˆ–è€…å¤šä¸ªfunction, è€Œä¸”å…¶ä¸­ä¸€ä¸ªfunctionçš„åå­—å¿…é¡»æ˜¯main,ä¸‹
é¢å°±æ˜¯ä¸€ä¸ªæœ€ç®€å•çš„cppç¨‹åº,ä»€ä¹ˆéƒ½ä¸åšå°±æ˜¯è¿”å›é›¶
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">main</span>() {
    <span style="color: #859900; font-weight: bold;">return</span> 0;
}
</pre>
</div>
</li>
<li>åœ¨å¤§å¤šæ•°ç³»ç»Ÿä¸­, è¿”å›å€¼ä¸º0æ„å‘³ç€success, è€Œnonzeroæ„å‘³ç€å¤±è´¥
</li>
</ul>
</div>
<div id="outline-container-sec-1-1-1" class="outline-4">
<h4 id="sec-1-1-1">Compiling and Executing Our Program</h4>
<div class="outline-text-4" id="text-1-1-1">
<ul class="org-ul">
<li>cppæ–‡ä»¶å¯ä»¥ä½¿ç”¨å¦‚ä¸‹çš„åç¼€:
<ul class="org-ul">
<li>cc
</li>
<li>cxx
</li>
<li>cpp
</li>
<li>cp
</li>
<li>C
</li>
</ul>
</li>
<li>åœ¨ç±»Unixç³»ç»Ÿä¸­,æˆ‘ä»¬ä½¿ç”¨å¦‚ä¸‹çš„ä¸€æ¡å‘½ä»¤æ¥æŠŠ"æºä»£ç "ç¼–è¯‘æˆ"å¯æ‰§è¡Œç¨‹åº"
<div class="org-src-container">

<pre class="src src-sh">CC prog1.cc
</pre>
</div>
</li>
<li>ç¼–è¯‘å®Œæˆçš„ç¨‹åº,ä¼šé»˜è®¤ä½¿ç”¨a.outè¿™ä¸ªåå­—(åœ¨windowsä¸Šé¢mingwç³»ç»Ÿç¼–è¯‘æˆa.exe)
</li>
<li>è¿è¡Œå°±ç›´æ¥è°ƒç”¨è¿™ä¸ªa.outå°±å¯ä»¥äº†.ä½¿ç”¨echo $?å¯ä»¥æŸ¥çœ‹mainå‡½æ•°çš„è¿”å›å€¼
<pre class="example">
c:/code/cpp-in-action/primer5/ch01 &gt;&gt;&gt; CC 01.cc
c:/code/cpp-in-action/primer5/ch01 &gt;&gt;&gt; ./a.exe
c:/code/cpp-in-action/primer5/ch01 &gt;&gt;&gt; echo $?
0
</pre>
</li>
<li>Windowsä¸Šé¢æ˜¯æŸ¥çœ‹ERRORLEVEL
<div class="org-src-container">

<pre class="src src-sh">&gt; echo %ERRORLEVEL%
0
</pre>
</div>
</li>
<li>å¦‚æœä½ ä¸æƒ³ä½¿ç”¨a.outæˆ–è€…a.exe,é‚£ä¹ˆå¯ä»¥ä½¿ç”¨-oå‚æ•°æŒ‡å®šè‡ªå·±çš„"å¯æ‰§è¡Œç¨‹åº"çš„å
å­—
<pre class="example">
c:/code/cpp-in-action/primer5/ch01 &gt;&gt;&gt; ls
01.cc
c:/code/cpp-in-action/primer5/ch01 &gt;&gt;&gt; g++ -o 01 01.cc
c:/code/cpp-in-action/primer5/ch01 &gt;&gt;&gt; ls
01.cc  01.exe
</pre>
</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-sec-1-2" class="outline-3">
<h3 id="sec-1-2">A First Look at Input/Output</h3>
<div class="outline-text-3" id="text-1-2">
<ul class="org-ul">
<li>cppæ˜¯é€šè¿‡ä¸€ä¸ªå«åšiostreamçš„standard libraryæ¥å¤„ç†IO.æ‰€è°“streamå°±æ˜¯ä¸€ç³»åˆ—çš„
ä»IOè®¾å¤‡è¯»å…¥æˆ–è¾“å‡ºçš„å­—ç¬¦ä¸²
</li>
<li>å¤„ç†IOçš„objectä¸»è¦æœ‰:
<ul class="org-ul">
<li>istreamç±»å‹çš„object : cinå¤„ç†è¾“å…¥
</li>
<li>ostreamç±»å‹çš„object : coutå¤„ç†è¾“å‡º
</li>
<li>ostreamç±»å‹çš„object : cerrå¤„ç†warningå’Œerrorçš„è¾“å‡º
</li>
<li>ostreamç±»å‹çš„object : clogå¤„ç†æ€»ç»“ä¿¡æ¯ç­‰
</li>
</ul>
</li>
<li>æˆ‘ä»¬ä¸‹é¢çœ‹ä¸€ä¸ªç»“åˆinputå’Œoutputçš„ä¾‹å­
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #268bd2;">#include</span> <span style="color: #2aa198;">&lt;iostream&gt;</span>

<span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">main</span>() {
    <span style="color: #268bd2; font-weight: bold;">std</span>::cout &lt;&lt; <span style="color: #2aa198;">"Enter two numbers:"</span> &lt;&lt; <span style="color: #268bd2; font-weight: bold;">std</span>::endl;
    <span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">v1</span> = 0, <span style="color: #268bd2;">v2</span> = 0;
    <span style="color: #268bd2; font-weight: bold;">std</span>::cin &gt;&gt; v1 &gt;&gt; v2;
    <span style="color: #268bd2; font-weight: bold;">std</span>::cout &lt;&lt; <span style="color: #2aa198;">"The sum of "</span> &lt;&lt; v1 &lt;&lt; <span style="color: #2aa198;">" and "</span> &lt;&lt; v2
              &lt;&lt; <span style="color: #2aa198;">" is "</span> &lt;&lt; v1 + v2 &lt;&lt; <span style="color: #268bd2; font-weight: bold;">std</span>::endl;
    <span style="color: #859900; font-weight: bold;">return</span> 0;
}

<span style="color: #93a1a1;">////////////////////////////////////////////////////</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">&lt;===================OUTPUT===================&gt; //</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">Enter two numbers:                             //</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">3 7                                            //</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">The sum of 3 and 7 is 10                       //</span>
<span style="color: #93a1a1;">////////////////////////////////////////////////////</span>
</pre>
</div>
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-1-3" class="outline-3">
<h3 id="sec-1-3">A Word about Comments</h3>
<div class="outline-text-3" id="text-1-3">
<ul class="org-ul">
<li>c++ å…¼å®¹cçš„`/**/`æ³¨é‡Šæ–¹å¼
</li>
<li>åŒæ—¶æä¾›äº†`//`çš„è¡Œæ³¨é‡Šæ–¹å¼
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-1-4" class="outline-3">
<h3 id="sec-1-4">Flow of Control</h3>
<div class="outline-text-3" id="text-1-4">
<ul class="org-ul">
<li>flow of controlå’Œå…¶ä»–çš„è¯­è¨€ç±»ä¼¼,æœ‰ä¸¤ç§:
<ul class="org-ul">
<li>çŸ¥é“å¾ªç¯æ¬¡æ•°çš„æ—¶å€™,ä½¿ç”¨for
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #268bd2;">#include</span> <span style="color: #2aa198;">&lt;iostream&gt;</span>

<span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">main</span>() {
    <span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">sum</span> = 0, <span style="color: #268bd2;">val</span> = 1;
    <span style="color: #859900; font-weight: bold;">for</span> (<span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">val</span> = 1; val &lt;= 10; ++val) {
        sum += val;
        ++val;
    }

    <span style="color: #268bd2; font-weight: bold;">std</span>::cout &lt;&lt; <span style="color: #2aa198;">"Sum of 1 to 10 inclusive is "</span>
              &lt;&lt; sum &lt;&lt; <span style="color: #268bd2; font-weight: bold;">std</span>::endl;
    <span style="color: #859900; font-weight: bold;">return</span> 0;
}

<span style="color: #93a1a1;">////////////////////////////////////////////////////</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">&lt;===================OUTPUT===================&gt; //</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">Sum of 1 to 10 inclusive is 55                 //</span>
<span style="color: #93a1a1;">////////////////////////////////////////////////////</span>
</pre>
</div>
</li>
<li>ä¸çŸ¥é“å…·ä½“å¾ªç¯æ¬¡æ•°çš„æ—¶å€™,ä½¿ç”¨while
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #268bd2;">#include</span> <span style="color: #2aa198;">&lt;iostream&gt;</span>

<span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">main</span>() {
    <span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">currVal</span> = 0, <span style="color: #268bd2;">val</span> = 0;

    <span style="color: #859900; font-weight: bold;">if</span> (<span style="color: #268bd2; font-weight: bold;">std</span>::cin &gt;&gt; currVal) {
        <span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">cnt</span> = 1;
        <span style="color: #859900; font-weight: bold;">while</span> (<span style="color: #268bd2; font-weight: bold;">std</span>::cin &gt;&gt; val) {
            <span style="color: #859900; font-weight: bold;">if</span> (val == currVal){
                ++cnt;
            } <span style="color: #859900; font-weight: bold;">else</span> {
                <span style="color: #268bd2; font-weight: bold;">std</span>::cout &lt;&lt; currVal &lt;&lt; <span style="color: #2aa198;">" occurs "</span>
                          &lt;&lt; cnt &lt;&lt; <span style="color: #2aa198;">" times"</span> &lt;&lt; <span style="color: #268bd2; font-weight: bold;">std</span>::endl;
                currVal = val;
                cnt = 1;
            }
        } <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">while loop ends here</span>
        <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">remember to print the count for the last value in the file</span>
        <span style="color: #268bd2; font-weight: bold;">std</span>::cout &lt;&lt; currVal &lt;&lt; <span style="color: #2aa198;">" occurs "</span>
                  &lt;&lt; cnt &lt;&lt; <span style="color: #2aa198;">" times"</span> &lt;&lt; <span style="color: #268bd2; font-weight: bold;">std</span>::endl;
    }
    <span style="color: #859900; font-weight: bold;">return</span> 0;
}

<span style="color: #93a1a1;">////////////////////////////////////////////////////</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">&lt;===================OUTPUT===================&gt; //</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">42 42 42 42 42 55 55 62 100 100 100            //</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">42 occurs 5 times                              //</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">55 occurs 2 times                              //</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">62 occurs 1 times                              //</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">100 occurs 3 times                             //</span>
<span style="color: #93a1a1;">////////////////////////////////////////////////////</span>
</pre>
</div>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-1-5" class="outline-3">
<h3 id="sec-1-5">Introducing Clases</h3>
<div class="outline-text-3" id="text-1-5">
<ul class="org-ul">
<li>åœ¨cppä¸­,æˆ‘ä»¬å¯ä»¥å®šä¹‰è‡ªå·±çš„ç±»å‹:é€šè¿‡å…³é”®å­—class. cppçš„ç‰¹ç‚¹æ˜¯,æˆ‘ä»¬è‡ªå·±å®šä¹‰çš„
ç±»å‹,å’Œå†…ç½®ç±»å‹æ‹¥æœ‰å‡ ä¹ä¸€æ ·çš„"æ€§è´¨"
</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-sec-2" class="outline-2">
<h2 id="sec-2">Chapter 02: Variables and basic types</h2>
<div class="outline-text-2" id="text-2">
</div><div id="outline-container-sec-2-1" class="outline-3">
<h3 id="sec-2-1">Primitive Build-in Types</h3>
<div class="outline-text-3" id="text-2-1">
<ul class="org-ul">
<li>cppå®šä¹‰çš„å†…ç½®ç±»å‹(primitive type)åŒ…æ‹¬äº†:
<ul class="org-ul">
<li>ç®—æœ¯ç±»å‹(arithmetic type)
</li>
<li>ç‰¹æ®Šç±»å‹(void)
</li>
</ul>
</li>
</ul>
</div>
<div id="outline-container-sec-2-1-1" class="outline-4">
<h4 id="sec-2-1-1">Arithmetic Types</h4>
<div class="outline-text-4" id="text-2-1-1">
<ul class="org-ul">
<li>ç®—æœ¯ç±»å‹åœ¨è§„èŒƒé‡Œé¢,åªç»™äº†"æœ€å°"size, å› ä¸ºæœºå™¨å­—ç¬¦å®½åº¦ä¸åŒ,æ‰€å¯¼è‡´çš„æœ€å¤§é•¿åº¦
å¹¶ä¸ç›¸åŒ.ä¸‹é¢æ˜¯è§„èŒƒè§„å®šçš„æœ€å°size
<table border="2" cellspacing="0" cellpadding="6" rules="all" frame="border">


<colgroup>
<col  class="left" />

<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left">Type</th>
<th scope="col" class="left">Meaning</th>
<th scope="col" class="left">Minimum Size</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left">bool</td>
<td class="left">boolean</td>
<td class="left">8 bits</td>
</tr>

<tr>
<td class="left">char</td>
<td class="left">character</td>
<td class="left">16 bits</td>
</tr>

<tr>
<td class="left">wchar_t</td>
<td class="left">wide character</td>
<td class="left">16 bits</td>
</tr>

<tr>
<td class="left">char16_t</td>
<td class="left">Unicode character</td>
<td class="left">16 bits</td>
</tr>

<tr>
<td class="left">char32_t</td>
<td class="left">Unicode character</td>
<td class="left">32 bits</td>
</tr>

<tr>
<td class="left">short</td>
<td class="left">short integer</td>
<td class="left">16 bits</td>
</tr>

<tr>
<td class="left">int</td>
<td class="left">integer</td>
<td class="left">16 bits</td>
</tr>

<tr>
<td class="left">long</td>
<td class="left">long integer</td>
<td class="left">32 bits</td>
</tr>

<tr>
<td class="left">long long</td>
<td class="left">long integer</td>
<td class="left">64 bits</td>
</tr>

<tr>
<td class="left">float</td>
<td class="left">single-precision floating-point</td>
<td class="left">6 significant digits</td>
</tr>

<tr>
<td class="left">double</td>
<td class="left">double-precision floating-point</td>
<td class="left">10 significant digits</td>
</tr>

<tr>
<td class="left">long double</td>
<td class="left">extended-precision floating-point</td>
<td class="left">10 significant digits</td>
</tr>
</tbody>
</table>
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-2-1-2" class="outline-4">
<h4 id="sec-2-1-2">Type Conversions</h4>
<div class="outline-text-4" id="text-2-1-2">
<ul class="org-ul">
<li>type conversionåœ¨cppä¸­æ˜¯éå¸¸å®¹æ˜“å‘ç”Ÿçš„,æ¯”å¦‚
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #b58900; font-style: italic;">bool</span> <span style="color: #268bd2;">b</span> = 42;               <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">b is true</span>
<span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">i</span> = b;                 <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">i has value 1</span>
i = 3.14;                  <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">i has value 3</span>
<span style="color: #b58900; font-style: italic;">double</span> <span style="color: #268bd2;">pi</span> = i;             <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">pi has value 3.0</span>
<span style="color: #b58900; font-style: italic;">unsigned</span> <span style="color: #b58900; font-style: italic;">char</span> <span style="color: #268bd2;">c</span> = -1;      <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">assuming 8-bit chars, c has value 255</span>
<span style="color: #b58900; font-style: italic;">signed</span> <span style="color: #b58900; font-style: italic;">char</span> <span style="color: #268bd2;">c2</span> = 256;      <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">assuming chars, the value of c2 is undefined</span>
</pre>
</div>
</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-sec-2-2" class="outline-3">
<h3 id="sec-2-2">Variables</h3>
<div class="outline-text-3" id="text-2-2">
</div><div id="outline-container-sec-2-2-1" class="outline-4">
<h4 id="sec-2-2-1">Variable Definitions</h4>
<div class="outline-text-4" id="text-2-2-1">
<ul class="org-ul">
<li>å˜é‡çš„å®šä¹‰å¾ˆç®€å•
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">sum</span> =0;
<span style="color: #b58900; font-style: italic;">Sales_item</span> <span style="color: #268bd2;">item</span>; <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">item has type Sales_item</span>
</pre>
</div>
</li>
<li>å¦‚æœä¸€ä¸ªå˜é‡åœ¨å®šä¹‰çš„æ—¶å€™è¿˜æœ‰æœ‰åˆå§‹å€¼,æˆ‘ä»¬å°±è¯´å®ƒè¢«initializedäº†
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">ok: price is defined and initialized before it is used to initialize discount</span>
<span style="color: #b58900; font-style: italic;">double</span> <span style="color: #268bd2;">price</span> = 109.99;

<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">ok: call applyDiscount and use the returen value to initialized salePrice</span>
<span style="color: #b58900; font-style: italic;">double</span> <span style="color: #268bd2;">salePrice</span> = applyDiscount(price, discount);
</pre>
</div>
</li>
<li>éœ€è¦æ³¨æ„çš„æ˜¯Initializationå’Œassignmentå¹¶ä¸ç›¸åŒ
<pre class="example">
Initialization happens when a variable is given a value when it is
created. Assignment obliterates an object's current value and replaces
that value with a new one.
</pre>
</li>
<li>initializationå­æ‰€ä»¥å¤æ‚,æ˜¯å› ä¸ºcppå®šä¹‰äº†å¾ˆå¤šç§"åˆç†çš„"æ–¹æ³•,æ¯”å¦‚,ä¸‹é¢å››ç§åˆ
å§‹åŒ–çš„æ–¹æ³•éƒ½æ˜¯åˆç†çš„
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">units_sold</span> = 0;
<span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">units_sold</span> = {0};
<span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">units_sold</span>{0};
<span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">units_sold</span>(0);
</pre>
</div>
</li>
<li>{}æ¥initializeçš„æ–¹å¼,æ˜¯c++11æ‰æ–°è¿‘å¼•å…¥çš„, åå­—å«åšlist initialization
</li>
<li>list initializationçœ‹ä¼¼ä¸å¸¸ç”¨,å´æœ‰ä¸€ä¸ªç‰¹æ®Šçš„ä½œç”¨:ç¼–è¯‘å™¨ä¼šæ£€æŸ¥åˆå§‹åŒ–æ˜¯å¦ä¼š
æŸå¤±ç²¾åº¦
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #268bd2;">#include</span> <span style="color: #2aa198;">&lt;iostream&gt;</span>

<span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">main</span>(<span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">argc</span>, <span style="color: #b58900; font-style: italic;">char</span> *<span style="color: #268bd2;">argv</span>[])
{
    <span style="color: #b58900; font-style: italic;">long</span> <span style="color: #b58900; font-style: italic;">double</span> <span style="color: #268bd2;">ld</span> = 3.14159;
    <span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">a</span>{ld};
    <span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">b</span> = {ld};
    <span style="color: #268bd2; font-weight: bold;">std</span>::cout &lt;&lt; a &lt;&lt; <span style="color: #268bd2; font-weight: bold;">std</span>::endl;
    <span style="color: #268bd2; font-weight: bold;">std</span>::cout &lt;&lt; b &lt;&lt; <span style="color: #268bd2; font-weight: bold;">std</span>::endl;
    <span style="color: #859900; font-weight: bold;">return</span> 0;
}


<span style="color: #93a1a1;">////////////////////////////////////////////////////</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">&lt;===================OUTPUT===================&gt; //</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">$ g++ -std=c++11 01.cc                         //</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">01.cc: In function 'int main(int, char**)':    //</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">01.cc:6:13: warning: narrowing conversion of   //</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">'ld' from 'long double' to 'int' inside { }    //</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">[-Wnarrowing]                                  //</span>
<span style="color: #93a1a1;">//      </span><span style="color: #93a1a1; font-style: italic;">int a{ld};                                //</span>
<span style="color: #93a1a1;">//              </span><span style="color: #93a1a1; font-style: italic;">^                                 //</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">01.cc:7:16: warning: narrowing conversion of   //</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">'ld' from 'long double' to 'int' inside { }    //</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">[-Wnarrowing]                                  //</span>
<span style="color: #93a1a1;">//      </span><span style="color: #93a1a1; font-style: italic;">int b = {ld};                             //</span>
<span style="color: #93a1a1;">//                 </span><span style="color: #93a1a1; font-style: italic;">^                              //</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">$ ./a.out                                      //</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">3                                              //</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">3                                              //</span>
<span style="color: #93a1a1;">////////////////////////////////////////////////////</span>
</pre>
</div>
</li>
<li>élist initializationé€šå¸¸æ˜¯ä½¿ç”¨'='æˆ–è€…(), éƒ½æ˜¯å¯ä»¥é€šè¿‡ç¼–è¯‘å¹¶ä¸”æ²¡æœ‰warningçš„
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #268bd2;">#include</span> <span style="color: #2aa198;">&lt;iostream&gt;</span>

<span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">main</span>(<span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">argc</span>, <span style="color: #b58900; font-style: italic;">char</span> *<span style="color: #268bd2;">argv</span>[])
{
    <span style="color: #b58900; font-style: italic;">long</span> <span style="color: #b58900; font-style: italic;">double</span> <span style="color: #268bd2;">ld</span> = 3.14159;
    <span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">c</span>(ld), <span style="color: #268bd2;">d</span> = ld;

    <span style="color: #268bd2; font-weight: bold;">std</span>::cout &lt;&lt; c &lt;&lt; <span style="color: #268bd2; font-weight: bold;">std</span>::endl;
    <span style="color: #268bd2; font-weight: bold;">std</span>::cout &lt;&lt; d &lt;&lt; <span style="color: #268bd2; font-weight: bold;">std</span>::endl;

    <span style="color: #859900; font-weight: bold;">return</span> 0;
}

<span style="color: #93a1a1;">////////////////////////////////////////////////////</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">&lt;===================OUTPUT===================&gt; //</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">$ g++ -std=c++11 02.cc                         //</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">$ ./a.out                                      //</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">3                                              //</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">3                                              //</span>
<span style="color: #93a1a1;">////////////////////////////////////////////////////</span>
</pre>
</div>
</li>
<li>å¦‚æœå£°æ˜çš„æ—¶å€™æ²¡æœ‰ç»™ä¸ä¸€ä¸ªinitializerçš„è¯,é‚£ä¹ˆä¼šè¢«ç»™ä¸ä¸€ä¸ªdefault value:
<ul class="org-ul">
<li>å¦‚æœæ˜¯built-inç±»å‹çš„è¯:
<ol class="org-ol">
<li>å®šä¹‰åœ¨function bodyä¹‹å¤–çš„,å…¨éƒ¨ä¼šè¢«åˆå§‹åŒ–ä¸ºzero
</li>
<li>å®šä¹‰åœ¨function bodyä¹‹å†…çš„,ä¼šè¢«è®¾ç½®ä¸ºunitializedçŠ¶æ€.local static
object(built-in type)æ˜¯å”¯ä¸€ä¸€ä¸ªç‰¹ä¾‹(è™½ç„¶åœ¨æŸä¸ªfunctioné‡Œé¢,ä½†æ˜¯åœ¨
å£°æ˜çš„æ—¶å€™,å¿…å®šåˆå§‹åŒ–ä¸º0äº†)
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #268bd2;">#include</span> <span style="color: #2aa198;">&lt;iostream&gt;</span>

<span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">count_calls</span>() {
    <span style="color: #859900; font-weight: bold;">static</span> <span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">count</span>;
    <span style="color: #859900; font-weight: bold;">return</span> ++count;
}

<span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">main</span>(<span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">argc</span>, <span style="color: #b58900; font-style: italic;">char</span> *<span style="color: #268bd2;">argv</span>[])
{
    <span style="color: #859900; font-weight: bold;">for</span> (<span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">i</span> = 0; i &lt; 3; i++) {
        <span style="color: #268bd2; font-weight: bold;">std</span>::cout &lt;&lt; count_calls() &lt;&lt; <span style="color: #268bd2; font-weight: bold;">std</span>::endl;
    }
    <span style="color: #859900; font-weight: bold;">return</span> 0;
}

<span style="color: #93a1a1;">////////////////////////////////////////////////////</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">&lt;===================OUTPUT===================&gt; //</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">1                                              //</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">2                                              //</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">3                                              //</span>
<span style="color: #93a1a1;">////////////////////////////////////////////////////</span>
</pre>
</div>
</li>
</ol>
</li>
<li>å¦‚æœä¸æ˜¯build-inç±»å‹çš„è¯:
<ol class="org-ol">
<li>å¦‚æœclassçš„å®šä¹‰å…è®¸æˆ‘ä»¬ä¸ä½¿ç”¨explicit initializerçš„è¯,å½“ç„¶å¯ä»¥ç›´æ¥å®š
ä¹‰è€Œä¸ç»™initializer
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #268bd2; font-weight: bold;">std</span>::<span style="color: #b58900; font-style: italic;">string</span> <span style="color: #268bd2;">empty</span>; <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">empty implicitly initialized to the empty string</span>
</pre>
</div>
</li>
<li>æœ‰äº›classéœ€è¦explicitly initialized,æ‰€ä»¥å¿…é¡»ç»™ä¸initializeræ‰å¯ä»¥.
</li>
</ol>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-2-2-2" class="outline-4">
<h4 id="sec-2-2-2">Variable Declarations and Definitions</h4>
<div class="outline-text-4" id="text-2-2-2">
<ul class="org-ul">
<li>ä¸ºäº†èƒ½å¤Ÿè®©ä¸åŒçš„æ–‡ä»¶æ¥å†™ä¸åŒçš„é€»è¾‘éƒ¨åˆ†.c++æ”¯æŒseparate compilation.ä¹Ÿå°±æ˜¯æŠŠ
ä¸€ä¸ªå¤§çš„ç¨‹åº,åˆ†æˆå¤šä¸ªä¸åŒçš„æ–‡ä»¶è¿›è¡Œç¼–è¯‘.
</li>
<li>ä¸ºäº†æ”¯æŒseparate compilation, cppåŒºåˆ†äº†ä»¥ä¸‹ä¸¤ä¸ªæ¦‚å¿µ:
<ul class="org-ul">
<li>å£°æ˜ (declaration) : å£°æ˜åªä¼šæŒ‡å‡ºå˜é‡çš„åå­—å’Œç±»å‹,ä¸ä¼šåˆ†é…å†…å­˜. å¯ä»¥ç®€å•
çš„ç†è§£ä¸ºæœ‰externè€Œæ²¡æœ‰'='çš„è¯­å¥.
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #859900; font-weight: bold;">extern</span> <span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">i</span>;     <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">declares but does not define i</span>
</pre>
</div>
</li>
<li>å®šä¹‰ (definition) : å®šä¹‰ä¸ä»…ä»…ä¼šæŒ‡å‡ºå˜é‡çš„åå­—å’Œç±»å‹, è€Œä¸”ä¼šåˆ†é…å†…å­˜, ç”š
è‡³ç»™å‡ºåˆå§‹å€¼. ç®€å•ç†è§£å°±æ˜¯1åªè¦æœ‰'='æˆ–è€…2åªè¦æ²¡æœ‰externçš„è¯­å¥éƒ½æ˜¯å®šä¹‰
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">has '=', definition, memory is ready, has default value of 1</span>
<span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">i</span> = 1;
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">has '=', even extern shown, it is also a definition</span>
<span style="color: #859900; font-weight: bold;">extern</span> <span style="color: #b58900; font-style: italic;">double</span> <span style="color: #268bd2;">pi</span> = 3.1416;
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">no extern, definition. memory is ready, but no default value</span>
<span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">j</span>;
</pre>
</div>
</li>
</ul>
</li>
<li>ä¸€ä¸ªå˜é‡å¯ä»¥è¢«å£°æ˜å¾ˆå¤šæ¬¡,ä½†æ˜¯åªèƒ½è¢«å®šä¹‰ä¸€æ¬¡. å¦‚æœæˆ‘ä»¬è¦åœ¨å¤šä¸ªæ–‡ä»¶é‡Œé¢ä½¿ç”¨
åŒä¸€ä¸ªå˜é‡,é‚£ä¹ˆæˆ‘ä»¬è¦:
<ul class="org-ul">
<li>åªåœ¨ä¸€ä¸ªæ–‡ä»¶é‡Œé¢å®šä¹‰å®ƒ(åªä¸€æ¬¡)
</li>
<li>åœ¨å…¶ä»–çš„ä½¿ç”¨è¿™ä¸ªå˜é‡çš„æ–‡ä»¶ä¸­,å£°æ˜å®ƒ(å¤šæ¬¡)
</li>
</ul>
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-2-2-3" class="outline-4">
<h4 id="sec-2-2-3">Identifiers</h4>
<div class="outline-text-4" id="text-2-2-3">
<ul class="org-ul">
<li>å˜é‡æ ‡ç¤ºçš„è¦æ±‚åœ¨cppé‡Œé¢å’Œå…¶ä»–çš„è¯­è¨€æ²¡ä»€ä¹ˆä¸åŒ,ä¸èƒ½ä»¥æ•°å­—å¼€å¤´(é˜²æ­¢å’Œæ•°å­—æ··æ·†)
</li>
<li>å…³é”®å­—ä¸èƒ½ä½œä¸ºå˜é‡æ ‡ç¤º
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-2-2-4" class="outline-4">
<h4 id="sec-2-2-4">Scope of a Name</h4>
<div class="outline-text-4" id="text-2-2-4">
<ul class="org-ul">
<li>ä½œç”¨åŸŸscopeåœ¨cppé‡Œé¢,å¤§éƒ¨åˆ†æƒ…å†µä¸‹æ˜¯é {}æ¥åˆ†å‰²çš„
</li>
<li>ç›¸åŒçš„åå­—åœ¨ä¸åŒçš„ä½œç”¨åŸŸé‡Œé¢å¯èƒ½ä»£è¡¨ä¸åŒçš„å˜é‡.åå­—ä»declareå¼€å§‹,å¯ä»¥è¢«ä½¿ç”¨,
ç›´åˆ°è¿™ä¸ªä½œç”¨åŸŸ(åŒ…å«declareçš„scope)ç»“æŸ.
<pre class="example">
Names are visible from the point where they are declared until
the end of the scope in which the declaration appears
</pre>
</li>
<li>æˆ‘ä»¬åœ¨cppé‡Œé¢å»ºè®®åœ¨ç¬¬ä¸€æ¬¡'ä½¿ç”¨'è¿™ä¸ªå˜é‡çš„æ—¶å€™,æ‰å»å®šä¹‰å®ƒ, å› ä¸ºè¿™æ ·å®¹æ˜“æ‰¾åˆ°
å˜é‡å®šä¹‰(è€Œä¸æ˜¯åœ¨ç¨‹åºå¼€å§‹çš„åœ°æ–¹), åŒæ—¶è¿™æ ·å®¹æ˜“ç»™å˜é‡ä¸€ä¸ªæœ‰æ„ä¹‰çš„åˆå§‹å€¼
</li>
<li>scopeä¹Ÿå¯ä»¥åŒ…å«å…¶ä»–scopeçš„:
<ul class="org-ul">
<li>è¢«åŒ…å«çš„scopeå«åšinner scope
</li>
<li>åŒ…å«å…¶ä»–scopeçš„scopeå«åšouter scope
</li>
</ul>
</li>
<li>å®šä¹‰åœ¨outer scopeçš„nameå¯èƒ½ä¼šè¢«inner scopeé‡Œé¢çš„ç›¸åŒåå­—çš„å˜é‡æ‰€æ©ç›–
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #268bd2;">#include</span> <span style="color: #2aa198;">&lt;iostream&gt;</span>

<span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">reused</span> = 42;      <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">resued has global scope</span>
<span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">main</span>() {
    <span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">unique</span> = 0;   <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">unique has block scope</span>
    <span style="color: #268bd2; font-weight: bold;">std</span>::cout &lt;&lt; <span style="color: #2aa198;">"use global reused "</span> &lt;&lt; reused &lt;&lt; <span style="color: #2aa198;">" unique is "</span> &lt;&lt; unique &lt;&lt; <span style="color: #268bd2; font-weight: bold;">std</span>::endl;

    <span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">reused</span> = 0;   <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">new, local object named reused hides global reused</span>
    <span style="color: #268bd2; font-weight: bold;">std</span>::cout &lt;&lt; <span style="color: #2aa198;">"use local reused  "</span> &lt;&lt; reused &lt;&lt; <span style="color: #2aa198;">" unique is "</span> &lt;&lt; unique &lt;&lt; <span style="color: #268bd2; font-weight: bold;">std</span>::endl;

    <span style="color: #268bd2; font-weight: bold;">std</span>::cout &lt;&lt; <span style="color: #2aa198;">"explicityly request global reused "</span> &lt;&lt; ::reused &lt;&lt; <span style="color: #2aa198;">" unique is "</span> &lt;&lt; unique &lt;&lt; <span style="color: #268bd2; font-weight: bold;">std</span>::endl;

    <span style="color: #859900; font-weight: bold;">return</span> 0;
}

<span style="color: #93a1a1;">//////////////////////////////////////////////////////</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">&lt;===================OUTPUT===================&gt;   //</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">use global reused 42 unique is 0                 //</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">use local reused  0 unique is 0                  //</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">explicityly request global reused 42 unique is 0 //</span>
<span style="color: #93a1a1;">//////////////////////////////////////////////////////</span>
</pre>
</div>
</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-sec-2-3" class="outline-3">
<h3 id="sec-2-3">Compound Types</h3>
<div class="outline-text-3" id="text-2-3">
<ul class="org-ul">
<li>æ‰€è°“compund typeå®šä¹‰å¦‚ä¸‹
<pre class="example">
A compound type is a type that is defined in terms of another type.
</pre>
</li>
<li>cppä¸­æœ‰ä¸€äº›compund type,å…¶ä¸­æœ€è‘—åçš„ä¸¤ä¸ª:å¼•ç”¨å’ŒæŒ‡é’ˆ.
</li>
</ul>
</div>
<div id="outline-container-sec-2-3-1" class="outline-4">
<h4 id="sec-2-3-1">References</h4>
<div class="outline-text-4" id="text-2-3-1">
<ul class="org-ul">
<li>é¦–å…ˆè¦è¯´æ˜çš„æ˜¯,ä¸€èˆ¬æ¥è¯´referenceå°±æ˜¯æŒ‡çš„lvalue reference, è™½ç„¶æ–°å‡ºæ¥ä¸€ç§rvalue reference
</li>
<li>ç„¶åæˆ‘ä»¬æ¥çœ‹çœ‹referenceçš„æœ¬è´¨:å…¶æœ¬è´¨å°±æ˜¯ä¸ºä¸€ä¸ªobjectå¯»æ‰¾ä¸€ä¸ªalternative name
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">ival</span> = 1024;
<span style="color: #b58900; font-style: italic;">int</span> &amp;<span style="color: #268bd2;">refVal</span> = ival;   <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">refVal refers to (is another name for) ival</span>
</pre>
</div>
</li>
<li>æˆ‘ä»¬æ¥æ¯”è¾ƒä¸€ä¸‹å¸¸è§„çš„definitionå’Œreferenceçš„definitionä¹‹é—´çš„å·®è·:
<ul class="org-ul">
<li>å¸¸è§„çš„definition : æˆ‘ä»¬å®šä¹‰çš„æ—¶å€™, è¿™ä¸ªinitializerçš„å€¼å°±ä¼šè¢«"æ‹·è´"åˆ°æˆ‘ä»¬
ç”³è¯·çš„å†…å­˜(object)é‡Œé¢
</li>
<li>referenceçš„definition: æˆ‘ä»¬å®šä¹‰çš„æ—¶å€™,æ˜¯æŠŠreferenceç»™"bind"åˆ°initializer
(ä¹Ÿå°±æ˜¯ival).è€Œä¸”referenceæ˜¯ä¸€æ—¦åˆå§‹åŒ–,å°±æ— æ³•å†referç»™å…¶ä»–çš„object.æ­£æ˜¯å› 
ä¸ºæ— æ³•rebind,æ‰€ä»¥referenceå¿…é¡»åœ¨å®šä¹‰çš„æ—¶å€™èµ‹äºˆåˆå§‹åŒ–å€¼.ä¹Ÿå°±æ˜¯è¯´ä¸‹é¢è¿™è¡Œ
æ˜¯ä¸è¡Œçš„
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #93a1a1;">//</span><span style="color: #93a1a1; font-style: italic;">Error!</span>
<span style="color: #b58900; font-style: italic;">int</span> &amp;<span style="color: #268bd2;">refVal</span>;
</pre>
</div>
</li>
</ul>
</li>
<li>å…¶å®referenceè¯´æ¥è¯´å»,åªæ˜¯ç»™objectèµ·äº†ä¸€ä¸ªæ–°çš„åå­—è€Œå·²!
<pre class="example">
A reference is not an object. Instead, a reference is just another
name for an already existing object.
</pre>
</li>
<li>æ­£æ˜¯ç”±äºreferenceä¸æ˜¯ä¸€ä¸ªobject,æ‰€ä»¥æˆ‘ä»¬ä¸èƒ½å®šä¹‰reference to reference.
</li>
<li>åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹(ä¸¤ç§ç‰¹ä¾‹æ˜¯constå’Œç»§æ‰¿), refè‡ªå·±çš„ç±»å‹å¿…é¡»å’Œinitializerçš„ç±»
å‹ç›¸åŒ
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #b58900; font-style: italic;">double</span> <span style="color: #268bd2;">dval</span> = 3.14;
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">Error; initializer must be an int object!</span>
<span style="color: #b58900; font-style: italic;">int</span> &amp;<span style="color: #268bd2;">refVal5</span> = dval;
</pre>
</div>
</li>
<li>è€Œä¸”ä¸èƒ½æŠŠreference"ç»‘å®š"é“éobjectçš„å¯¹è±¡, æ¯”å¦‚literalæˆ–è€…æ˜¯general expression
çš„ç»“æœ
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">Error! initializer must be an object</span>
<span style="color: #b58900; font-style: italic;">int</span> &amp;<span style="color: #268bd2;">refVal4</span> = 10;
</pre>
</div>
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-2-3-2" class="outline-4">
<h4 id="sec-2-3-2">Pointers</h4>
<div class="outline-text-4" id="text-2-3-2">
<ul class="org-ul">
<li>Pointeræ˜¯Cæ—¶ä»£çš„äº§ç‰©, Referenceæ˜¯cppä¸ºäº†æ”¹å˜Pointerçš„æŸäº›å±é™©ç‰¹æ€§è€Œè®¾è®¡çš„,
æ‰€ä»¥,ä¸¤è€…æœ‰å¾ˆå¤šå¼‚åŒç‚¹:
<ul class="org-ul">
<li>ç›¸åŒç‚¹: éƒ½æ˜¯compunt type, è€Œä¸”æ˜¯ç”¨æ¥indirect acces to other objects
</li>
<li>ä¸åŒç‚¹: Pointeræ˜¯ä¸€ä¸ªobject! è¿™å°±å†³å®šäº†å¾ˆå¤špointçš„"å±é™©çš„"è¡Œä¸º:
<ol class="org-ol">
<li>pointeræ˜¯å¯ä»¥è¢«èµ‹å€¼å’Œæ‹·è´çš„, è€Œä¸”å¯ä»¥è¢«èµ‹å€¼å¾ˆå¤šæ¬¡
</li>
<li>pointerå®šä¹‰çš„æ—¶å€™,ç”šè‡³å¯ä»¥æ²¡æœ‰åˆå§‹åŒ–å€¼(å› ä¸ºå¯ä»¥è¢«å¤šæ¬¡èµ‹å€¼)
</li>
<li>å¦‚æœpointerå®šä¹‰äº†ä»¥å,æ²¡æœ‰ç»™ä¸åˆå§‹åŒ–å€¼,é‚£ä¹ˆè¿™ä¸ªpointerçš„å€¼æ˜¯undefined!
éå¸¸å±é™©
</li>
</ol>
</li>
</ul>
</li>
<li>Pointeræ˜¯ç”¨æ¥"ä¿å­˜å¦å¤–ä¸€ä¸ªobjectçš„åœ°å€"çš„object.æ‰€ä»¥æˆ‘ä»¬è¦ç”¨åˆ°å–åœ°å€ç¬¦(&amp;),
åƒä¸‡ä¸è¦å’Œreferenceå‰é¢çš„`&amp;`æ··æ·†:
<ul class="org-ul">
<li>referenceå‰é¢çš„&amp;æ˜¯ä¸ºäº†åŒºåˆ«'æ™®é€šdeclarator'(æ¯”å¦‚ival) å’Œ'reference declarator'
(æ¯”å¦‚refVal)è€ŒåŠ çš„,æ˜¯ä¸€ä¸ªè¯­æ³•å±‚é¢çš„æ ‡è®°
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">ival</span> = 1024;
<span style="color: #b58900; font-style: italic;">int</span> &amp;<span style="color: #268bd2;">refVal</span> = ival;
</pre>
</div>
</li>
<li>pointeræ˜¯æŒ‡å‘æŸä¸ªobjectçš„åœ°å€çš„, æ‰€ä»¥è¦åœ¨é‚£ä¸ªobjectå‰é¢åŠ `&amp;`, è¿™ä¸ª`&amp;`æ˜¯ä¸€
ä¸ªæ“ä½œç¬¦,å°±å’Œ`^`ä¸€æ ·,è¿›è¡Œçš„æ˜¯"å–åœ°å€"æ“ä½œ. å½“ç„¶äº†,ä¸ºäº†åŒºåˆ†'æ™®é€šdeclarator'
(æ¯”å¦‚ival)å’Œ'pointer declarator'(æ¯”å¦‚p), æˆ‘ä»¬è¦åœ¨pointer å‰é¢åŠ ä¸ª'*'
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">ival</span> = 42;
<span style="color: #b58900; font-style: italic;">int</span> *<span style="color: #268bd2;">p</span> = &amp;ival;
</pre>
</div>
</li>
</ul>
</li>
<li>è¿˜æ˜¯é™¤äº†constå’Œç»§æ‰¿ä»¥å¤–,pointerç±»å‹å¿…é¡»å’Œinitializerç›¸åŒ.
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #b58900; font-style: italic;">double</span> <span style="color: #268bd2;">dval</span>;
<span style="color: #b58900; font-style: italic;">double</span> *<span style="color: #268bd2;">pd</span> = &amp;dval;    <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">ok: initializer is the address of a double</span>
<span style="color: #b58900; font-style: italic;">double</span> *<span style="color: #268bd2;">pd2</span> = pd;      <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">ok: initializer is a pointer to double</span>

<span style="color: #b58900; font-style: italic;">int</span> *<span style="color: #268bd2;">pi</span> = pd;          <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">error: types of pi and pd differ</span>
pi = &amp;dval;            <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">error: assigning the address of a double to a pinter to int</span>
</pre>
</div>
</li>
<li>Pointerçš„å€¼æ˜¯å­˜å‚¨çš„æ˜¯address,è¿™ä¸ªåœ°å€å€¼å¯ä»¥æœ‰å¦‚ä¸‹å››ç§å¯èƒ½:
<ul class="org-ul">
<li>è¿™ä¸ªåœ°å€å¯ä»¥æ˜¯æŒ‡å‘ä¸€ä¸ªobject
</li>
<li>è¿™ä¸ªåœ°å€å¯ä»¥æŒ‡å‘ä¸€ä¸ªobjectåé¢çš„ä½ç½®
</li>
<li>è¿™ä¸ªåœ°å€å¯ä»¥ä¸ºäº†null,è¡¨ç¤ºpointeræ²¡æœ‰æŒ‡å‘ä»»ä½•object
</li>
<li>è¿™ä¸ªåœ°å€å¯ä»¥æ˜¯invalidçš„(æ¯”å¦‚å®šä¹‰æ²¡æœ‰ç»™åˆå§‹åŒ–çš„æƒ…å†µä¸‹), è¿™ç§æƒ…å†µæ˜¯æœ€å±é™©çš„.
</li>
</ul>
</li>
<li>å‰é¢ä»‹ç»äº†å–åœ°å€æ“ä½œç¬¦`&amp;`, è€ŒæŠŠåœ°å€è¿˜åŸæˆobject(dereference)çš„ç¬¦å·æ˜¯`*` ,
éœ€è¦æ³¨æ„çš„æ˜¯æˆ‘ä»¬ä¸€å®šè¦å¯¹validçš„åœ°å€è¿›è¡Œderefernceæ“ä½œ
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #268bd2;">#include</span> <span style="color: #2aa198;">&lt;iostream&gt;</span>

<span style="color: #859900; font-weight: bold;">using</span> <span style="color: #859900; font-weight: bold;">namespace</span> <span style="color: #268bd2; font-weight: bold;">std</span>;
<span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">main</span>(<span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">argc</span>, <span style="color: #b58900; font-style: italic;">char</span> *<span style="color: #268bd2;">argv</span>[])
{
    <span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">ival</span> = 42;
    <span style="color: #b58900; font-style: italic;">int</span> *<span style="color: #268bd2;">p</span> = &amp;ival;
    <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">* yields the object to which p points</span>
    cout &lt;&lt; *p &lt;&lt; endl;

    <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">* yields the object; we assign a new value to ival throught p</span>
    *p = 0;
    cout &lt;&lt; *p &lt;&lt; endl;
    cout &lt;&lt; ival &lt;&lt; endl;
    <span style="color: #859900; font-weight: bold;">return</span> 0;
}

<span style="color: #93a1a1;">////////////////////////////////////////////////////</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">&lt;===================OUTPUT===================&gt; //</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">42                                             //</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">0                                              //</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">0                                              //</span>
<span style="color: #93a1a1;">////////////////////////////////////////////////////</span>
</pre>
</div>
</li>
<li>å¦‚æœä¸€ä¸ªæŒ‡é’ˆä¸æŒ‡å‘ä»»ä½•çš„object,æˆ‘ä»¬æŠŠè¿™ä¸ªæŒ‡é’ˆå«åšnull poiner.å¯ä»¥åœ¨å®šä¹‰çš„
æ—¶å€™é€šè¿‡å¦‚ä¸‹æ–¹æ³•æ¥å®šä¹‰null pointer
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #268bd2;">#include</span> <span style="color: #2aa198;">&lt;iostream&gt;</span>
<span style="color: #268bd2;">#include</span> <span style="color: #2aa198;">&lt;cstdlib&gt;</span>

<span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">main</span>(<span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">argc</span>, <span style="color: #b58900; font-style: italic;">char</span> *<span style="color: #268bd2;">argv</span>[])
{
    <span style="color: #93a1a1;">//////////////////////////////////////////////////</span>
    <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">use to include nullptr g++ --std=c++11 06.cc //</span>
    <span style="color: #93a1a1;">//////////////////////////////////////////////////</span>
    <span style="color: #b58900; font-style: italic;">int</span> *<span style="color: #268bd2;">p1</span> = nullptr;
    <span style="color: #b58900; font-style: italic;">int</span> *<span style="color: #268bd2;">p2</span> = 0;
    <span style="color: #268bd2; font-weight: bold;">NULL</span> is include in cstdlib
    <span style="color: #93a1a1;">///////////////////////////////////////////////////////////</span>
    <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">Modern C++ programs generally should avoid using NULL //</span>
    <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">and use nullptr instead                               //</span>
    <span style="color: #93a1a1;">///////////////////////////////////////////////////////////</span>
    <span style="color: #b58900; font-style: italic;">int</span> *p3 = <span style="color: #268bd2; font-weight: bold;">NULL</span>;
    <span style="color: #859900; font-weight: bold;">return</span> 0;
}
</pre>
</div>
</li>
<li>è™½ç„¶NULLåœ¨é¢„å®šä¹‰çš„æ—¶å€™,å…¶å€¼å°±æ˜¯0, ä½†æ˜¯pointerç¡®ä¸æ¥å—integerä½œä¸ºå®ƒçš„rvalue,
å› ä¸ºå®ƒä¼šä»¥ä¸ºä½ æ˜¯æƒ³è¦æŠŠ'è¿™ä¸ªintçš„åœ°å€'èµ‹äºˆç»™è¿™ä¸ªpointer.æ‰€ä»¥ä¸Šé¢ä¸‰ç§æ‰æ˜¯ç»™null
pointer èµ‹å€¼(æˆ–åˆå§‹åŒ–çš„æ–¹å¼)
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #268bd2;">#include</span> <span style="color: #2aa198;">&lt;iostream&gt;</span>
<span style="color: #268bd2;">#include</span> <span style="color: #2aa198;">&lt;cstdlib&gt;</span>

<span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">main</span>(<span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">argc</span>, <span style="color: #b58900; font-style: italic;">char</span> *<span style="color: #268bd2;">argv</span>[])
{
    <span style="color: #b58900; font-style: italic;">int</span> *<span style="color: #268bd2;">p4</span> = <span style="color: #268bd2; font-weight: bold;">NULL</span>;

    <span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">zero</span> = 0;
    <span style="color: #93a1a1;">///////////////////////////////////////////////////////////////////////////////</span>
    <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">07.cc:9:15: error: invalid conversion from 'int' to 'int*' [-fpermissive] //</span>
    <span style="color: #93a1a1;">//  </span><span style="color: #93a1a1; font-style: italic;">int *p5 = zero;                                                          //</span>
    <span style="color: #93a1a1;">//            </span><span style="color: #93a1a1; font-style: italic;">^                                                              //</span>
    <span style="color: #93a1a1;">///////////////////////////////////////////////////////////////////////////////</span>
    <span style="color: #b58900; font-style: italic;">int</span> *<span style="color: #268bd2;">p5</span> = zero;
    <span style="color: #859900; font-weight: bold;">return</span> 0;
}
</pre>
</div>
</li>
<li>å› ä¸ºpointeræ˜¯å¯ä»¥èµ‹å€¼çš„,æ‰€ä»¥ä»»ä½•NULLå€¼çš„pointeréƒ½æ˜¯false,å¦åˆ™éƒ½æ˜¯true
</li>
<li>åœ¨èŒƒå‹è¿˜æ˜¯ä¸æ˜¯å¾ˆæˆç†Ÿçš„cæ—¶ä»£,ä¸ºäº†èƒ½å¤Ÿåº”å¯¹ä¸åŒç±»å‹çš„pointer,å‘æ˜äº†void* pointer
è¿™ç§pointerå¯ä»¥æŒ‡å‘ä»»ä½•çš„ç±»å‹, è€Œä¸”å¯ä»¥å’Œå…¶ä»–pointeræ¯”è¾ƒ(å› ä¸ºéƒ½æ˜¯åœ°å€ä¹ˆ),
ä½†æ˜¯ä¸å¯ä»¥å¯¹å…¶è¿›è¡Œdereferenceæ“ä½œ,è¿›è€Œæ§åˆ¶å“åº”object(å› ä¸ºä¸çŸ¥é“åœ°å€å¯¹åº”çš„
ç±»å‹æ˜¯ä»€ä¹ˆ,æ‰€ä»¥æ— æ³•å†³æ–­æ‹¿å‡ ä¸ªbytesçš„åœ°å€)
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #268bd2;">#include</span> <span style="color: #2aa198;">&lt;iostream&gt;</span>

<span style="color: #859900; font-weight: bold;">using</span> <span style="color: #859900; font-weight: bold;">namespace</span> <span style="color: #268bd2; font-weight: bold;">std</span>;
<span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">main</span>(<span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">argc</span>, <span style="color: #b58900; font-style: italic;">char</span> *<span style="color: #268bd2;">argv</span>[])
{
    <span style="color: #b58900; font-style: italic;">double</span> <span style="color: #268bd2;">obj</span> = 3.14, *<span style="color: #268bd2;">pd</span> = &amp;obj;

    <span style="color: #b58900; font-style: italic;">void</span> *<span style="color: #268bd2;">pv</span> = &amp;obj;
    pv = pd;
    <span style="color: #93a1a1;">/////////////////////////////////////////////////////////////////</span>
    <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">08.cc:10:14: error: 'void*' is not a pointer-to-object type //</span>
    <span style="color: #93a1a1;">//  </span><span style="color: #93a1a1; font-style: italic;">cout &lt;&lt; *pv &lt;&lt; endl;                                       //</span>
    <span style="color: #93a1a1;">//           </span><span style="color: #93a1a1; font-style: italic;">^                                                 //</span>
    <span style="color: #93a1a1;">/////////////////////////////////////////////////////////////////</span>
    cout &lt;&lt; *pv &lt;&lt; endl;
    <span style="color: #859900; font-weight: bold;">return</span> 0;
}
</pre>
</div>
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-2-3-3" class="outline-4">
<h4 id="sec-2-3-3">Understanding Compound Type Declarations</h4>
<div class="outline-text-4" id="text-2-3-3">
<ul class="org-ul">
<li>pointerå’Œrefçš„å®šä¹‰æ–¹å¼éå¸¸ä»¤äººå›°æƒ‘,æ˜¯å› ä¸ºå¦‚ä¸‹ä¸¤ç§æ–¹å¼éƒ½æ˜¯åˆç†çš„
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #b58900; font-style: italic;">int</span> *<span style="color: #268bd2;">p1</span>;  <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">Way1: p1 is a pointer to int</span>
<span style="color: #b58900; font-style: italic;">int</span>* <span style="color: #268bd2;">p2</span>;  <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">Way2: p2 is a pointer to int</span>
</pre>
</div>
</li>
<li>æˆ‘ä»¬è®¤ä¸ºç¬¬äºŒç§å®šä¹‰(Way2)æ–¹å¼ä¸å¥½,å› ä¸ºå®ƒçœ‹èµ·æ¥å¥½åƒdefinitionçš„ä»»åŠ¡æ˜¯å®šä¹‰äº†
ä¸€ä¸ªint* ç±»å‹,å…¶å®ä¸æ˜¯çš„`*`æ˜¯ç”¨æ¥å½¢å®¹p2çš„, è¿™ä¸ªdefinitionçš„ä¸»ä½“æ˜¯ä¸€ä¸ªintç±»
å‹.
</li>
<li>ç¬¬äºŒç§å®šä¹‰æ–¹å¼åœ¨ä¸€æ¬¡å®šä¹‰è¶…è¿‡ä¸€ä¸ªå˜é‡çš„æ—¶å€™ä¼šæ›´åŠ çš„éš¾ä»¥åŒºåˆ«
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #b58900; font-style: italic;">int</span>* <span style="color: #268bd2;">p1</span>, <span style="color: #268bd2;">p2</span>; <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">p1 is a pinter to int; p2 is an int</span>
</pre>
</div>
</li>
<li>æ‰€ä»¥æˆ‘ä»¬å†³å®šåœ¨åé¢éƒ½ä½¿ç”¨ç¬¬ä¸€å® å®šä¹‰æ–¹å¼(Way1).
</li>
<li>å› ä¸ºpointeræ˜¯ä¸€ä¸ªobject, æ‰€ä»¥å®ƒè‡ªå·±ä¹Ÿæ˜¯æœ‰åœ°å€çš„,æ‰€ä»¥æˆ‘ä»¬ä¹Ÿå¯ä»¥è®©å¦å¤–ä¸€ä¸ª
pointeræŒ‡å‘å®ƒ, ä¹Ÿå°±æ˜¯æˆ‘ä»¬å¸¸è¯´çš„pointer to pointer
</li>
<li>æ—¢ç„¶æˆ‘ä»¬ä½¿ç”¨`*`æ¥æ ‡ç¤ºæ­¤å˜é‡ä¸ºæŒ‡é’ˆ,é‚£ä¹ˆæˆ‘ä»¬ä¹Ÿå¯ä»¥è¿ç»­çš„ä½¿ç”¨å¤šä¸ª`*`æ¥æ ‡ç¤º"æŒ‡é’ˆ
çš„æŒ‡é’ˆ",ç”šè‡³"æŒ‡é’ˆçš„æŒ‡é’ˆçš„æŒ‡é’ˆ"
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #268bd2;">#include</span> <span style="color: #2aa198;">&lt;iostream&gt;</span>

<span style="color: #859900; font-weight: bold;">using</span> <span style="color: #859900; font-weight: bold;">namespace</span> <span style="color: #268bd2; font-weight: bold;">std</span>;
<span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">main</span>(<span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">argc</span>, <span style="color: #b58900; font-style: italic;">char</span> *<span style="color: #268bd2;">argv</span>[])
{
    <span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">ival</span> = 1024;
    <span style="color: #b58900; font-style: italic;">int</span> *<span style="color: #268bd2;">pi</span> = &amp;ival;        <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">pi points to an int</span>
    <span style="color: #b58900; font-style: italic;">int</span> **<span style="color: #268bd2;">ppi</span> = &amp;pi;        <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">ppi points to a pointer to an int</span>

    cout &lt;&lt; <span style="color: #2aa198;">"The value of ival\n"</span>
         &lt;&lt; <span style="color: #2aa198;">"direct value:   "</span> &lt;&lt; ival &lt;&lt; <span style="color: #2aa198;">"\n"</span>
         &lt;&lt; <span style="color: #2aa198;">"indirect value: "</span> &lt;&lt; *pi  &lt;&lt; <span style="color: #2aa198;">"\n"</span>
         &lt;&lt; <span style="color: #2aa198;">"doubly indirect value: "</span> &lt;&lt; **ppi
         &lt;&lt; endl;
    <span style="color: #859900; font-weight: bold;">return</span> 0;
}

<span style="color: #93a1a1;">////////////////////////////////////////////////////</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">&lt;===================OUTPUT===================&gt; //</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">The value of ival                              //</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">direct value:   1024                           //</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">indirect value: 1024                           //</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">doubly indirect value: 1024                    //</span>
<span style="color: #93a1a1;">////////////////////////////////////////////////////</span>
</pre>
</div>
</li>
<li>å› ä¸ºreferenceä¸æ˜¯ä¸€ä¸ªobject,æ‰€ä»¥æˆ‘ä»¬ä¸èƒ½è®©pointeræŒ‡å‘reference, ä½†æ˜¯æˆ‘ä»¬å´
å¯ä»¥ä¸ºpointeråˆ›å»ºreference
</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-sec-2-4" class="outline-3">
<h3 id="sec-2-4">const Qualifier</h3>
<div class="outline-text-3" id="text-2-4">
<ul class="org-ul">
<li>constçš„ä½œç”¨æ˜¯é˜²æ­¢å˜é‡è¢«æ›´æ”¹, å› ä¸ºæ— æ³•è¢«æ›´æ”¹,æ‰€ä»¥å®šä¹‰çš„æ—¶å€™,å¿…é¡»ç»™ä¸åˆå§‹å€¼
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #859900; font-weight: bold;">const</span> <span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">i</span> = get_size();    <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">ok: initialized at run time</span>
<span style="color: #859900; font-weight: bold;">const</span> <span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">j</span> = 42;            <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">ok: initialized at compile time</span>
<span style="color: #859900; font-weight: bold;">const</span> <span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">k</span>;                 <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">error: k is uninitialized const</span>
</pre>
</div>
</li>
<li>constæ‰€èµ‹äºˆå˜é‡çš„"å¸¸é‡æ€§"åªåœ¨å®ƒè¢«æ”¹å˜çš„é‚£ä¸ªæ—¶å€™,æ‰èµ·ä½œç”¨,å¹³æ—¶const intå˜é‡
å’Œintå˜é‡å¹¶æ²¡æœ‰ä»€ä¹ˆä¸åŒ, æ¯”å¦‚,æˆ‘ä»¬å¯ä»¥ç»™intç±»å‹jèµ‹å€¼,initializerä¸ºä¸€ä¸ªconst
int ç±»å‹
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">i</span> = 42;
<span style="color: #859900; font-weight: bold;">const</span> <span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">ci</span> = i;          <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">ok: the value in i is copied into ci</span>
<span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">j</span> = ci;                <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">ok: the value in ci is copied into j</span>
</pre>
</div>
</li>
<li>é‰´äºconstå¸¸é‡åœ¨å®šä¹‰çš„æ—¶å€™å°±å¿…é¡»èµ‹äºˆinitializerå€¼,é‚£ä¹ˆå•çº¯çš„"å£°æ˜"ä¸€ä¸ªå¸¸é‡å°±
ä¸å¯èƒ½äº†, æ‰€ä»¥åœ¨å¤šä¸ªæ–‡ä»¶é‡Œé¢ä½¿ç”¨å¸¸é‡æ˜¯ä¸ç°å®çš„,
</li>
<li>é»˜è®¤æƒ…å†µä¸‹, å¸¸é‡æ˜¯local to a fileçš„. æ‰€ä»¥åœ¨ä¸åŒæ–‡ä»¶é‡Œé¢çš„constå¸¸é‡å¦‚æœé‡å
äº†ä¹Ÿæ²¡æœ‰å…³ç³»,å› ä¸ºå®ƒä»¬ç›¸å½“äºfile_name::const_name
</li>
<li>å¦‚æœä½ æƒ³è¦åœ¨å¤šä¸ªæ–‡ä»¶é‡Œé¢shareå¸¸é‡,æˆ‘ä»¬è‚¯å®šè¦ä½¿ç”¨extern
</li>
<li>ä½†æ˜¯æˆ‘ä»¬ä¸å…‰è¦åœ¨"declare"é‡Œé¢ä½¿ç”¨extern,åœ¨"definition"é‚£é‡Œä¹Ÿå¿…é¡»ä½¿ç”¨extern!
å¦åˆ™ç¼–è¯‘å™¨ä¼šæŠŠä½ çš„constå˜é‡ç›´æ¥æ›¿æ¢æˆæ•°å€¼(æ¯”å¦‚ä¸‹ä¾‹ä¸­,æ‰€æœ‰bufSizeéƒ½ç›´æ¥æ›¿æ¢æˆ
1001), ä¸‹é¢å°±æ˜¯definitioné‡Œé¢ä¹Ÿä½¿ç”¨extern constçš„ä¾‹å­
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #859900; font-weight: bold;">extern</span> <span style="color: #859900; font-weight: bold;">const</span> <span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">bufSize</span> = 1001;

<span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">getSize</span>() {
    <span style="color: #859900; font-weight: bold;">return</span> bufSize + 1;
}
</pre>
</div>
</li>
<li>"declare"é‡Œé¢å½“ç„¶ä¹Ÿå¾—ä½¿ç”¨externäº†.
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #268bd2;">#include</span> <span style="color: #2aa198;">&lt;iostream&gt;</span>

<span style="color: #859900; font-weight: bold;">using</span> <span style="color: #859900; font-weight: bold;">namespace</span> <span style="color: #268bd2; font-weight: bold;">std</span>;
<span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">main</span>(<span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">argc</span>, <span style="color: #b58900; font-style: italic;">char</span> *<span style="color: #268bd2;">argv</span>[])
{
    <span style="color: #859900; font-weight: bold;">extern</span> <span style="color: #859900; font-weight: bold;">const</span> <span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">bufSize</span>;
    cout &lt;&lt; bufSize &lt;&lt; endl;
    <span style="color: #859900; font-weight: bold;">return</span> 0;
}

<span style="color: #93a1a1;">////////////////////////////////////////////////////</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">&lt;===================OUTPUT===================&gt; //</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">$ g++ -o a.out 11.cc 12.cc                     //</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">$ ./a.out                                      //</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">1001                                           //</span>
<span style="color: #93a1a1;">////////////////////////////////////////////////////</span>
</pre>
</div>
</li>
</ul>
</div>
<div id="outline-container-sec-2-4-1" class="outline-4">
<h4 id="sec-2-4-1">References to const</h4>
<div class="outline-text-4" id="text-2-4-1">
<ul class="org-ul">
<li>const typeçš„objectä¹Ÿæ˜¯objectï¼Œæˆ‘ä»¬å½“ç„¶å¯ä»¥ç»™ä¸€ä¸ªobjectç»‘å®šä¸€ä¸ªreferenceå•¦,
ä½†æ˜¯è¿™ä¸ªreferenceæ—¢ç„¶ç»‘å®šçš„æ˜¯constå˜é‡,é‚£ä¹ˆå®ƒæœ¬èº«æ˜¯constå˜é‡çš„"å¦å¤–ä¸€ä¸ªåå­—"
ä¹Ÿå°±å¿…ç„¶æ— æ³•è¢«èµ‹å€¼äº†
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #859900; font-weight: bold;">const</span> <span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">ci</span> = 1024;
<span style="color: #859900; font-weight: bold;">const</span> <span style="color: #b58900; font-style: italic;">int</span> &amp;<span style="color: #268bd2;">r1</span> = ci;     <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">OK: both reference and underlying object are const</span>
r1 = 42;                <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">error: r1 is a reference to const</span>
</pre>
</div>
</li>
<li>åŒæ ·çš„,æˆ‘ä»¬åœ¨åˆå§‹åŒ–çš„æ—¶å€™,referenceçš„ç±»å‹ä¹Ÿå¿…é¡»æ˜¯const typeçš„,å¦åˆ™æ— æ³•åˆå§‹
åŒ–æˆåŠŸ
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #859900; font-weight: bold;">const</span> <span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">ci</span> = 1024;
<span style="color: #b58900; font-style: italic;">int</span> &amp;<span style="color: #268bd2;">r2</span> = ci;        <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">error: non const reference to a const object!</span>
</pre>
</div>
</li>
<li>å¦‚æœé“­è®°referenceä¸æ˜¯objectè¿™ä¸ªäº‹å®,æˆ‘ä»¬å°±å¾ˆå®¹æ˜“ç†è§£, constæ˜¯æ— æ³•ä¿®é¥°reference
çš„.
</li>
<li>è€Œreferenceæ— æ³•æ”¹å˜åˆå§‹åŒ–bindingçš„å¯¹è±¡è¿™ä¸ªç‰¹ç‚¹,å…¶å®è®©referenceæœ¬èº«å…·æœ‰äº†"const"
å±æ€§, æ‰€ä»¥reference toä»€ä¹ˆç±»å‹åªå½±å“åˆ°æˆ‘ä»¬èƒ½å¯¹referenceåšä»€ä¹ˆ.è€Œä¸å½±å“reference
bindingçš„è¿™ä¸ªè¿‡ç¨‹.
</li>
<li>å‰é¢æˆ‘ä»¬è¯´è¿‡,æœ‰ä¸¤ç§æƒ…å†µä¸‹,referenceçš„ç±»å‹å’Œå®ƒè¦bindçš„ç±»å‹å¯ä»¥ä¸"å®Œå…¨match"
è¿™é‡Œæˆ‘ä»¬å°±é‡åˆ°äº†ç¬¬ä¸€ç§: reference to const Xç±»å‹å¯ä»¥æ¥å—"æ‰€æœ‰èƒ½å¤Ÿconverted to
Xç±»å‹"çš„ç±»å‹ä½œä¸ºè‡ªå·±çš„initializer, æ¯”å¦‚
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #268bd2;">#include</span> <span style="color: #2aa198;">&lt;iostream&gt;</span>

<span style="color: #859900; font-weight: bold;">using</span> <span style="color: #859900; font-weight: bold;">namespace</span> <span style="color: #268bd2; font-weight: bold;">std</span>;
<span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">main</span>(<span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">argc</span>, <span style="color: #b58900; font-style: italic;">char</span> *<span style="color: #268bd2;">argv</span>[])
{
    <span style="color: #b58900; font-style: italic;">double</span> <span style="color: #268bd2;">dval</span> = 3.14;
    <span style="color: #93a1a1;">////////////////////////////////////////////////////////////////</span>
    <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">We can initialize a reference to const from any expression //</span>
    <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">that can be converted to the type of reference             //</span>
    <span style="color: #93a1a1;">////////////////////////////////////////////////////////////////</span>
    <span style="color: #859900; font-weight: bold;">const</span> <span style="color: #b58900; font-style: italic;">int</span> &amp;<span style="color: #268bd2;">ri</span> = dval;

    cout &lt;&lt; <span style="color: #2aa198;">"ri is "</span> &lt;&lt; ri &lt;&lt; endl;
    <span style="color: #859900; font-weight: bold;">return</span> 0;
}

<span style="color: #93a1a1;">////////////////////////////////////////////////////</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">&lt;===================OUTPUT===================&gt; //</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">ri is 3                                        //</span>
<span style="color: #93a1a1;">////////////////////////////////////////////////////</span>
</pre>
</div>
</li>
<li>å¦‚æœæ·±ç©¶è¿™ä¸ªé—®é¢˜, æˆ‘ä»¬å¯ä»¥å¦‚ä¸‹ç†è§£, åˆå§‹åŒ–ä¸€ä¸ªrefer to const, å¦‚æœç±»å‹ä¸ç¬¦
çš„è¯,ç¼–è¯‘å™¨ä¼šåšå¦‚ä¸‹çš„è½¬æ¢,ä»¥ä½¿å¾—reference to const int ç¡®å®bindäº†ä¸€ä¸ªconst
intç±»å‹
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #859900; font-weight: bold;">const</span> <span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">temp</span> = dval;      <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">create a temporary const int from the double</span>
<span style="color: #859900; font-weight: bold;">const</span> <span style="color: #b58900; font-style: italic;">int</span> &amp;<span style="color: #268bd2;">ri</span> = temp;       <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">bind ri to that temporary</span>
</pre>
</div>
</li>
<li>ä¹Ÿå°±æ˜¯è¯´ç¼–è¯‘å™¨åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„"ä¸´æ—¶å˜é‡". ç„¶åè®©è¿™ä¸ªref to const æ¥bindè¿™ä¸ª
ä¸´æ—¶å˜é‡. è¿™ä¸ªä¸´æ—¶å˜é‡æ˜¯æ°¸è¿œæ‰¾ä¸åˆ°äº†,ä½†æ˜¯æˆ‘ä»¬æœ‰å®ƒçš„ref,ä¹Ÿå°±ç›¸å½“äºæœ‰å®ƒäº†.
</li>
<li>è¿™ç§èµ‹å€¼,åªæœ‰åœ¨reference to constçš„æ—¶å€™æ‰æœ‰æ„ä¹‰. å‡è®¾æˆ‘ä»¬çš„refä¸æ˜¯constçš„,
é‚£ä¹ˆæˆ‘ä»¬çš„const ri bindäº†ä¸€ä¸ªdoubleçš„å˜é‡, å¦‚æœæˆ‘ä»¬riå˜æˆäº†4(æœ¬æ¥æ˜¯3), double
åº”è¯¥æ€ä¹ˆå˜å‘¢?å˜æˆ4.14? è¯´ä¸æ¸…æ¥š,æ‰€ä»¥åªæœ‰ref to constæœ‰è¿™ç§ä¾¿åˆ©.
</li>
<li>æ­£æ˜¯è¿™ç§ä¾¿åˆ©,è®©å‡½æ•°çš„å‚æ•°æ›´å–œæ¬¢ç”¨const Type &amp;ä½œä¸ºå‚æ•°ç±»å‹, å› ä¸º:
<ul class="org-ul">
<li>å¦‚æœå®å‚ä¸éœ€è¦è½¬æ¢æˆType,é‚£ä¹ˆæ­£å¥½å‡å°‘ä¸€æ¬¡å¯¹è±¡å¤åˆ¶. è€Œä¸”è¿™é‡Œè¿˜ç”¨åˆ°ref to const
çš„å¦å¤–ä¸€ä¸ªç‰¹æ€§: ref to const å¯ä»¥bindä¸€ä¸ªæ ¹æœ¬å°±ä¸æ˜¯constçš„å¯¹è±¡. å®å‚ä¸æ˜¯
constçš„, æˆ‘å‚æ•°ä¹Ÿç»™å®ƒææˆref to const. è¿™æ ·å¯ä»¥ä¿è¯ä¸æ›´æ”¹åŸæ¥å®å‚çš„å€¼(åŒ
æ—¶å¯ä»¥å‡å°‘ä¸€æ¬¡å¯¹è±¡æ‹·è´)!
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #268bd2;">#include</span> <span style="color: #2aa198;">&lt;iostream&gt;</span>

<span style="color: #859900; font-weight: bold;">using</span> <span style="color: #859900; font-weight: bold;">namespace</span> <span style="color: #268bd2; font-weight: bold;">std</span>;
<span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">main</span>(<span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">argc</span>, <span style="color: #b58900; font-style: italic;">char</span> *<span style="color: #268bd2;">argv</span>[])
{
    <span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">i</span> = 42;
    <span style="color: #b58900; font-style: italic;">int</span> &amp;<span style="color: #268bd2;">r1</span> = i;
    <span style="color: #859900; font-weight: bold;">const</span> <span style="color: #b58900; font-style: italic;">int</span> &amp;<span style="color: #268bd2;">r2</span> = i;

    cout &lt;&lt; <span style="color: #2aa198;">"r1 is "</span> &lt;&lt; r1 &lt;&lt; <span style="color: #2aa198;">" and r2 is "</span> &lt;&lt; r2 &lt;&lt; endl;

    r1 = 0;
    cout &lt;&lt; <span style="color: #2aa198;">"r1 is "</span> &lt;&lt; r1 &lt;&lt; <span style="color: #2aa198;">" and r2 is "</span> &lt;&lt; r2 &lt;&lt; endl;

    <span style="color: #93a1a1;">///////////////////////////////////////////////////////////////</span>
    <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">14.cc:15:8: error: assignment of read-only reference 'r2' //</span>
    <span style="color: #93a1a1;">//  </span><span style="color: #93a1a1; font-style: italic;">r2 = 23;                                                 //</span>
    <span style="color: #93a1a1;">//     </span><span style="color: #93a1a1; font-style: italic;">^                                                     //</span>
    <span style="color: #93a1a1;">///////////////////////////////////////////////////////////////</span>
    <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">r2 = 23;</span>
    <span style="color: #859900; font-weight: bold;">return</span> 0;
}

<span style="color: #93a1a1;">////////////////////////////////////////////////////</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">&lt;===================OUTPUT===================&gt; //</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">r1 is 42 and r2 is 42                          //</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">r1 is 0 and r2 is 0                            //</span>
<span style="color: #93a1a1;">////////////////////////////////////////////////////</span>
</pre>
</div>
</li>
<li>å¦‚æœå®å‚éœ€è¦è½¬æ¢æˆType, é‚£ä¹ˆå°±äº§ç”Ÿä¸€ä¸ªä¸´æ—¶çš„constå˜é‡.
</li>
</ul>
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-2-4-2" class="outline-4">
<h4 id="sec-2-4-2">Pointers and Const</h4>
<div class="outline-text-4" id="text-2-4-2">
<ul class="org-ul">
<li>å°±åƒreferenceä¸€æ ·,æˆ‘ä»¬å¯ä»¥å®šä¹‰pointer to constæ¥bindä»»æ„ä¸€ä¸ªç±»å‹çš„å˜é‡(åªè¦
å¯ä»¥convert).
</li>
<li>pointer (ref) to constç»‘å®šäº†æŸä¸ªå˜é‡å, è¿™ä¸ªå˜é‡æ˜¯å¯ä»¥å˜çš„.ä½†æ˜¯æ— æ³•é€šè¿‡ref
æˆ–è€…pointeræ¥æ”¹å˜. ä¹Ÿå°±æ˜¯è¯´,ref(pointer)'è®¤ä¸º'è‡ªå·±ç»‘å®šäº†constå˜é‡(è™½ç„¶å¹¶ä¸
ä¸€å®šæ˜¯)
<pre class="example">
It may be helpful to think of pointers and references to const as
pointers or references "that *think* they point or refer to const"
</pre>
</li>
<li>pointeræ˜¯objectè¿™ä¸ªæ‚²å‚¬çš„äº‹å®,è®©pointerè‡ªå·±ä¹Ÿæœ‰å¯èƒ½æ˜¯constçš„.(ä¹Ÿå°±æ˜¯è¯´åˆå§‹
åŒ–çš„æ—¶å€™ç»‘å®šäº†ä»€ä¹ˆå˜é‡,å°±ä¸èƒ½å†å˜äº†). æˆ‘ä»¬æ˜¯é€šè¿‡æŠŠconstæ”¾åˆ°*åé¢æ¥å¼ºè°ƒpointer
æœ¬èº«çš„constæ€§çš„(å› ä¸ºconstç¦»pointeræ›´è¿‘äº†, ä»å³å¾€å·¦å¿µå°±æ˜¯"pæ˜¯ä¸€ä¸ªconst pointer")
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #268bd2;">#include</span> <span style="color: #2aa198;">&lt;iostream&gt;</span>

<span style="color: #859900; font-weight: bold;">using</span> <span style="color: #859900; font-weight: bold;">namespace</span> <span style="color: #268bd2; font-weight: bold;">std</span>;
<span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">main</span>(<span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">argc</span>, <span style="color: #b58900; font-style: italic;">char</span> *<span style="color: #268bd2;">argv</span>[])
{
    <span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">a1</span> = 0;
    <span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">a2</span> = 1;
    <span style="color: #859900; font-weight: bold;">const</span> <span style="color: #b58900; font-style: italic;">int</span> *<span style="color: #268bd2;">p1</span> = &amp;a1;
    cout &lt;&lt; *p1 &lt;&lt; endl;
    p1 = &amp;a2;
    cout &lt;&lt; *p1 &lt;&lt; endl;

    <span style="color: #b58900; font-style: italic;">int</span> *<span style="color: #859900; font-weight: bold;">const</span> <span style="color: #268bd2;">p2</span> = &amp;a1;
    cout &lt;&lt; *p2 &lt;&lt; endl;

    <span style="color: #93a1a1;">//////////////////////////////////////////////////////////////</span>
    <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">15.cc:16:8: error: assignment of read-only variable 'p2' //</span>
    <span style="color: #93a1a1;">//  </span><span style="color: #93a1a1; font-style: italic;">p2 = &amp;a2;                                               //</span>
    <span style="color: #93a1a1;">//     </span><span style="color: #93a1a1; font-style: italic;">^                                                    //</span>
    <span style="color: #93a1a1;">//////////////////////////////////////////////////////////////</span>
    <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">p2 = &amp;a2;</span>
    <span style="color: #859900; font-weight: bold;">return</span> 0;
}

<span style="color: #93a1a1;">////////////////////////////////////////////////////</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">&lt;===================OUTPUT===================&gt; //</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">0                                              //</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">1                                              //</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">0                                              //</span>
<span style="color: #93a1a1;">////////////////////////////////////////////////////</span>
</pre>
</div>
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-2-4-3" class="outline-4">
<h4 id="sec-2-4-3">Top-Level const</h4>
<div class="outline-text-4" id="text-2-4-3">
<ul class="org-ul">
<li>ä»ä¸€ä¸ªæ›´é«˜çš„é«˜åº¦æ¥å®¡è§†const,æˆ‘ä»¬ä¼šå‘ç°constå…¶å®æ˜¯æœ‰ä¸¤ç§:
<ul class="org-ul">
<li>top-level const: è¡¨ç¤ºobjectæœ¬èº«æ˜¯const, è¿™ç§constå¯ä»¥å¯¹ä»»ä½•ä¸€ç§objectæœ‰æ•ˆ
æ¯”å¦‚: intç±»å‹, stringç±»å‹, classç±»å‹,éƒ½å¯ä»¥è‡ªèº«å˜æˆconst
</li>
<li>low-level const: è¡¨ç¤ºcompound typeç±»å‹æ‰€æŒ‡å‘çš„objectæ˜¯constçš„.æ—¢ç„¶æ˜¯ä¸ºcompound
typeç±»å‹æ‰€å‡†å¤‡çš„,æ‰€ä»¥è‡ªç„¶åªèƒ½é€‚ç”¨äºreferenceå’Œpointer
</li>
</ul>
</li>
<li>pointeræ˜¯å”¯ä¸€ä¸€ä¸ªå¯ä»¥åŒæ—¶æ‹¥æœ‰top-levelå’Œlow-level constå±æ€§çš„ç±»å‹
<ul class="org-ul">
<li>pointerè‡ªå·±æ˜¯constçš„: top-level const
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">i</span> = 0;
<span style="color: #b58900; font-style: italic;">int</span> *<span style="color: #859900; font-weight: bold;">const</span> <span style="color: #268bd2;">p1</span> = &amp;i;
</pre>
</div>
</li>
<li>pointeræŒ‡å‘çš„objectæ˜¯constçš„: low-level const
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #859900; font-weight: bold;">const</span> <span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">ci</span> = 42;
<span style="color: #859900; font-weight: bold;">const</span> <span style="color: #b58900; font-style: italic;">int</span> *<span style="color: #268bd2;">p2</span> = &amp;ci;
</pre>
</div>
</li>
<li>åŒæ—¶å…·æœ‰top-levelå’Œlow-level const
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #859900; font-weight: bold;">const</span> <span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">ci</span> = 42;
<span style="color: #859900; font-weight: bold;">const</span> <span style="color: #b58900; font-style: italic;">int</span> *<span style="color: #859900; font-weight: bold;">const</span> <span style="color: #268bd2;">p3</span> = &amp;ci;
</pre>
</div>
</li>
</ul>
</li>
<li>åŒºåˆ†top-levelå’Œlow-level constçš„åŸå› :æ˜¯åœ¨äºæ‹·è´çš„æ—¶å€™:
<ul class="org-ul">
<li>å½“æˆ‘ä»¬è¿›è¡Œæ‹·è´çš„æ—¶å€™, top-level constä¸€ç›´æ˜¯è¢«ignoreçš„
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #859900; font-weight: bold;">const</span> <span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">ci</span> = 42;
<span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">i</span> = ci;   <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">ok: copying the value of ci; top-level const in ci is ignored</span>

<span style="color: #859900; font-weight: bold;">const</span> <span style="color: #b58900; font-style: italic;">int</span> *<span style="color: #859900; font-weight: bold;">const</span> <span style="color: #268bd2;">p3</span> = &amp;ci;
<span style="color: #859900; font-weight: bold;">const</span> <span style="color: #b58900; font-style: italic;">int</span> *<span style="color: #268bd2;">p2</span> = p3;   <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">ok: pointed-to type matches; to-level const in p3 is ignored</span>
</pre>
</div>
</li>
<li>å½“æˆ‘ä»¬è¿›è¡Œæ‹·è´çš„æ—¶å€™, low-level constæ˜¯ç»å¯¹ä¸èƒ½å¿½è§†çš„!
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #268bd2;">#include</span> <span style="color: #2aa198;">&lt;iostream&gt;</span>

<span style="color: #859900; font-weight: bold;">using</span> <span style="color: #859900; font-weight: bold;">namespace</span> <span style="color: #268bd2; font-weight: bold;">std</span>;
<span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">main</span>(<span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">argc</span>, <span style="color: #b58900; font-style: italic;">char</span> *<span style="color: #268bd2;">argv</span>[])
{
    <span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">i</span> = 11;
    <span style="color: #859900; font-weight: bold;">const</span> <span style="color: #b58900; font-style: italic;">int</span> *<span style="color: #268bd2;">p1</span> = &amp;i;

    <span style="color: #93a1a1;">////////////////////////////////////////////////</span>
    <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">16.cc:8:15: error: invalid conversion from //</span>
    <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">'const int*' to 'int*' [-fpermissive]      //</span>
    <span style="color: #93a1a1;">//  </span><span style="color: #93a1a1; font-style: italic;">int *p2 = p1;                             //</span>
    <span style="color: #93a1a1;">//            </span><span style="color: #93a1a1; font-style: italic;">^                               //</span>
    <span style="color: #93a1a1;">////////////////////////////////////////////////</span>
    <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">int *p2 = p1;</span>
    <span style="color: #859900; font-weight: bold;">return</span> 0;
}
</pre>
</div>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-2-4-4" class="outline-4">
<h4 id="sec-2-4-4">constexpr and Constant Expressions</h4>
<div class="outline-text-4" id="text-2-4-4">
<ul class="org-ul">
<li>æ‰€è°“constant expressionå°±æ˜¯valueæ— æ³•æ”¹å˜,è€Œä¸”åœ¨ç¼–è¯‘é˜¶æ®µå°±å¯ä»¥è®¡ç®—å€¼çš„è¡¨è¾¾å¼
</li>
<li>literalè‚¯å®šæ˜¯constant expression
</li>
<li>ä¸€ä¸ªobject(æˆ–è€…expression)æ˜¯ä¸æ˜¯const expressionä¸»è¦å–å†³äºä¸¤ç‚¹:
<ul class="org-ul">
<li>objectçš„ç±»å‹:
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #93a1a1;">//////////////////////////////////////////////////////////////////</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">alghough staff_size is initialized from a literal, it is not //</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">a const because it is a plain int, not a const int           //</span>
<span style="color: #93a1a1;">//////////////////////////////////////////////////////////////////</span>
<span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">staff_size</span> = 27;
</pre>
</div>
</li>
<li>initializer
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #93a1a1;">//////////////////////////////////////////////////////////////////////////</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">even though sz is a const, the value of its initializer is not known //</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">until run time, hence, sz is not a constant expression               //</span>
<span style="color: #93a1a1;">//////////////////////////////////////////////////////////////////////////</span>
<span style="color: #859900; font-weight: bold;">const</span> <span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">sz</span> = get_size();
</pre>
</div>
</li>
</ul>
</li>
<li>æ–°çš„æ—¶ä»£,å¦‚æœæˆ‘ä»¬è®¤ä¸ºæˆ‘ä»¬çš„initializeræ˜¯ä¸€ä¸ªconst expressionçš„è¯,æˆ‘ä»¬å¯ä»¥
ä½¿ç”¨constexpræ¥ä»£æ›¿constæ¥ä¿®é¥°æˆ‘ä»¬çš„ç±»å‹
<pre class="example">
Variables declared as constexpr are implicitly const and must be
initialized by const expressions.
</pre>
</li>
<li>ä¸€èˆ¬æ¥è¯´constexprçš„initializerå¿…é¡»æ˜¯const expression, ä½†æ˜¯åŒæ—¶ä¹Ÿå¯ä»¥æ˜¯æ–°è§„
èŒƒé‡Œé¢å¼•å…¥çš„constexpr function
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #268bd2;">#include</span> <span style="color: #2aa198;">&lt;iostream&gt;</span>

<span style="color: #859900; font-weight: bold;">using</span> <span style="color: #859900; font-weight: bold;">namespace</span> <span style="color: #268bd2; font-weight: bold;">std</span>;
<span style="color: #93a1a1;">//</span><span style="color: #93a1a1; font-style: italic;">constexpr function</span>
constexpr <span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">size</span>() {
    <span style="color: #859900; font-weight: bold;">return</span> 15;
}

<span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">main</span>(<span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">argc</span>, <span style="color: #b58900; font-style: italic;">char</span> *<span style="color: #268bd2;">argv</span>[])
{
    constexpr <span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">mf</span> = 50;
    <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">constexpr</span>
    constexpr <span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">sz</span> = size();

    cout &lt;&lt; mf &lt;&lt; endl;
    cout &lt;&lt; sz &lt;&lt; endl;
    <span style="color: #859900; font-weight: bold;">return</span> 0;
}

<span style="color: #93a1a1;">////////////////////////////////////////////////////</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">&lt;===================OUTPUT===================&gt; //</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">50                                             //</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">15                                             //</span>
<span style="color: #93a1a1;">////////////////////////////////////////////////////</span>
</pre>
</div>
</li>
<li>ä¸€èˆ¬æ¥è¯´,èƒ½å¤Ÿç»„æˆconstexprçš„initializerçš„ç±»å‹éƒ½å¾ˆæœ‰é™, ç»å¤§å¤šæ•°æƒ…å†µä¸‹å°±æ˜¯
èƒ½å¤Ÿäº§ç”Ÿliteral valueçš„ç±»å‹, æ‰€ä»¥æˆ‘ä»¬æŠŠconstexpré‡Œé¢ä½¿ç”¨çš„ç±»å‹(é™¤äº†ç±»å‹,å½“
ç„¶ä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨æ•°å­—)å«åšliteral type
<pre class="example">
The types we can use in a constexpr are known as "literal types"
because they are simple enough to have literal values.
</pre>
</li>
<li>æˆ‘ä»¬ç›®å‰äº†è§£çš„ç±»å‹é‡Œé¢, å¦‚ä¸‹ä¸‰ç§å°±æ˜¯literal ç±»å‹
<ul class="org-ul">
<li>arithmetic
</li>
<li>reference
</li>
<li>pointer
</li>
</ul>
</li>
<li>å¦‚æœæˆ‘ä»¬æƒ³æŠŠä¸€ä¸ªpointerå®šä¹‰ä¸ºä¸€ä¸ªconstexprçš„è¯,åœ¨è¯­æ³•æ–¹é¢æ˜¯æ²¡æœ‰é—®é¢˜çš„,ä½†æ˜¯
è¦æ³¨æ„é€‰å¯¹initializer:
<ul class="org-ul">
<li>0 æˆ–è€… nullptrè‚¯å®šæ˜¯å¯ä»¥çš„
</li>
<li>å®šä¹‰åœ¨functionå†…éƒ¨çš„å˜é‡å¹¶ä¸æ˜¯å­˜åœ¨äºå›ºå®šåœ°å€çš„, æ‰€ä»¥å…¶åœ°å€ä¸å¯ä»¥ä½œä¸ºconstexprçš„åˆå§‹å€¼
</li>
<li>å®šä¹‰åœ¨æ‰€æœ‰functionä¹‹å¤–çš„å˜é‡åœ°å€å›ºå®š,æ‰€ä»¥å¯ä»¥ä½¿ç”¨
</li>
<li>è¿˜æœ‰ç¬¬å…­ç« ä¼šä»‹ç»çš„variable that exist across calls to that function#TODO#
</li>
</ul>
</li>
<li>è¿˜æœ‰ä¸€ä¸ªéå¸¸äººæ ¼åˆ†è£‚çš„åœ°æ–¹è¦è§£é‡Š,é‚£å°±æ˜¯ constexprå¦‚æœä¿®é¥°ä¸€ä¸ªæŒ‡é’ˆçš„è¯,å®ƒç»™
ä¸çš„æ˜¯top-levelçš„const(ä¹Ÿå°±æ˜¯ç›¸å½“äºåœ¨*åé¢çš„const, ä½†æ˜¯ç”±äºå„ç§å†å²åŸå› ,
constexpråªèƒ½æ”¾å€’æœ€å‰é¢)
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #859900; font-weight: bold;">const</span> <span style="color: #b58900; font-style: italic;">int</span> *<span style="color: #268bd2;">p</span> = nullptr;            <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">p is a pointer to a const int</span>
constexpr <span style="color: #b58900; font-style: italic;">int</span> *<span style="color: #268bd2;">q</span> = nullptr;        <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">q is a const pointer to int</span>
</pre>
</div>
</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-sec-2-5" class="outline-3">
<h3 id="sec-2-5">Dealing with Types</h3>
<div class="outline-text-3" id="text-2-5">
<ul class="org-ul">
<li>cè¯­è¨€ä¸­æœ‰æ—¶å€™ç±»å‹è¿‡äºå¤æ‚,æˆ‘ä»¬éœ€è¦ä¸€äº›ç®€åŒ–æ‰‹æ®µ,è®©è¯»ä»£ç çš„äººæ›´å®¹æ˜“çœ‹æ¸…æ¥šç±»å‹
</li>
</ul>
</div>
<div id="outline-container-sec-2-5-1" class="outline-4">
<h4 id="sec-2-5-1">Type Aliases</h4>
<div class="outline-text-4" id="text-2-5-1">
<ul class="org-ul">
<li>type aliasæ˜¯ç”¨æ¥ç»™ä¸å˜é‡æ–°åå­—çš„æ–¹æ³•
</li>
<li>è€çš„cè¯­è¨€ä½¿ç”¨äº†typedef
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #859900; font-weight: bold;">typedef</span> <span style="color: #b58900; font-style: italic;">double</span> <span style="color: #b58900; font-style: italic;">wages</span>;   <span style="color: #93a1a1;">//</span><span style="color: #93a1a1; font-style: italic;">wages is a synonym for double</span>
</pre>
</div>
</li>
<li>æ–°çš„è§„èŒƒä½¿ç”¨äº†usingæ¥è¿›è¡Œalias declaration
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #859900; font-weight: bold;">using</span> <span style="color: #b58900; font-style: italic;">SI</span> = Sales_item;     <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">SI is a synonym for Sales_item</span>
</pre>
</div>
</li>
<li>typedefæ˜¯cè¯­è¨€å¼•å…¥çš„,typedefå’Œcompund typeç»“åˆ, å†åŠ ä¸Šconstå‚ä¸çš„è¯,ä¼šæœ‰å¾ˆ
å¤šæ„æƒ³ä¸åˆ°çš„ç»“æœ
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #268bd2;">#include</span> <span style="color: #2aa198;">&lt;iostream&gt;</span>

<span style="color: #859900; font-weight: bold;">using</span> <span style="color: #859900; font-weight: bold;">namespace</span> <span style="color: #268bd2; font-weight: bold;">std</span>;

<span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">main</span>(<span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">argc</span>, <span style="color: #b58900; font-style: italic;">char</span> *<span style="color: #268bd2;">argv</span>[])
{
    <span style="color: #859900; font-weight: bold;">typedef</span> <span style="color: #b58900; font-style: italic;">char</span> *<span style="color: #b58900; font-style: italic;">pstring</span>;
    <span style="color: #859900; font-weight: bold;">const</span> <span style="color: #b58900; font-style: italic;">pstring</span> <span style="color: #268bd2;">cstr</span> = 0; <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">cstr is a constnt pointer to char!!</span>

    <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">NOT equal with previous one</span>
    <span style="color: #859900; font-weight: bold;">const</span> <span style="color: #b58900; font-style: italic;">char</span>* <span style="color: #268bd2;">cstr2</span> = 0;  <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">cstr2 is a pointer to const char</span>
    <span style="color: #859900; font-weight: bold;">return</span> 0;
}
</pre>
</div>
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-2-5-2" class="outline-4">
<h4 id="sec-2-5-2">The auto Type Specifier</h4>
<div class="outline-text-4" id="text-2-5-2">
<ul class="org-ul">
<li>æœ‰æ—¶å€™,æˆ‘ä»¬åœ¨ç¨‹åºä¸­å¾ˆéš¾åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡çš„çœŸå®ç±»å‹,æˆ‘ä»¬å°±ä¼šä½¿ç”¨æ–°è§„èŒƒå¼•å…¥çš„auto
å…³é”®å­—ç±»è®©ç¼–è¯‘å™¨å¸®åŠ©æˆ‘ä»¬åˆ¤æ–­ç±»å‹. ç¼–è¯‘å™¨åˆ¤æ–­çš„ä¾æ®æ˜¯initializer, æ‰€ä»¥auto
ä¿®é¥°çš„å˜é‡å¿…é¡»å¾—æä¾›initializer
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #268bd2;">#include</span> <span style="color: #2aa198;">&lt;iostream&gt;</span>

<span style="color: #859900; font-weight: bold;">using</span> <span style="color: #859900; font-weight: bold;">namespace</span> <span style="color: #268bd2; font-weight: bold;">std</span>;

<span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">main</span>(<span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">argc</span>, <span style="color: #b58900; font-style: italic;">char</span> *<span style="color: #268bd2;">argv</span>[])
{
    <span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">val1</span> = 3;
    <span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">val2</span> = 4;
    <span style="color: #859900; font-weight: bold;">auto</span> <span style="color: #b58900; font-style: italic;">item</span> = val1 + val2;
    cout &lt;&lt; item &lt;&lt; endl;
    <span style="color: #859900; font-weight: bold;">return</span> 0;
}

<span style="color: #93a1a1;">////////////////////////////////////////////////////</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">&lt;===================OUTPUT===================&gt; //</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">7                                              //</span>
<span style="color: #93a1a1;">////////////////////////////////////////////////////</span>
</pre>
</div>
</li>
<li>autoåœ¨åŒä¸€è¡Œ,åªèƒ½ä»£æ›¿ä¸€ç§ç±»å‹.ä¸èƒ½æ—¢ä¿®é¥°intåˆä¿®é¥°double
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #859900; font-weight: bold;">auto</span> <span style="color: #b58900; font-style: italic;">sz</span> = 0, pi = 3.14;    <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">error: inconsistent types for sz and pi</span>
</pre>
</div>
</li>
<li>autoçš„è¡Œä¸ºå’Œæ™®é€šintæ²¡åŒºåˆ«,ä¹Ÿæ˜¯ä¼šignore top-level const, é™¤éä½ æŒ‡å®š
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #859900; font-weight: bold;">const</span> <span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">ci</span> = i;
<span style="color: #859900; font-weight: bold;">auto</span> <span style="color: #b58900; font-style: italic;">b</span> = ci;         <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">b is an int (top-leve const in ci is dropped)</span>
<span style="color: #859900; font-weight: bold;">const</span> <span style="color: #859900; font-weight: bold;">auto</span> f = ci;   <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">deduced type of ci is int; f has type const int</span>
</pre>
</div>
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-2-5-3" class="outline-4">
<h4 id="sec-2-5-3">The decltype Type Specifier</h4>
<div class="outline-text-4" id="text-2-5-3">
<ul class="org-ul">
<li>decltypeæ˜¯ç”¨æ¥è®©ç¼–è¯‘å™¨åˆ¤æ–­ç±»å‹çš„#TODO#
</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-sec-2-6" class="outline-3">
<h3 id="sec-2-6">Namespace using Declarations</h3>
<div class="outline-text-3" id="text-2-6">
<ul class="org-ul">
<li>æ¯æ¬¡æˆ‘ä»¬è¾“å…¥cout, endlè¿™ç§å‡½æ•°æˆ–è€…å˜é‡çš„æ—¶å€™, å…¶å®æˆ‘ä»¬éƒ½æ˜¯åœ¨stdè¿™ä¸ªnamespace
é‡Œé¢çš„. æ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä½¿ç”¨usingæ¥é»˜è®¤ä½¿ç”¨æŸä¸ªnamespace
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #859900; font-weight: bold;">using</span> <span style="color: #268bd2; font-weight: bold;">std</span>::<span style="color: #b58900; font-style: italic;">cin</span>;
</pre>
</div>
</li>
<li>å¦‚æœæˆ‘ä»¬åªæƒ³ä½¿ç”¨stdé‡Œé¢çš„æŸå‡ ä¸ªå‡½æ•°æˆ–è€…å˜é‡,æˆ‘ä»¬å¯ä»¥åˆ†åˆ«æŒ‡å®š,è€Œä¸è‡³äºå¼•å…¥std
é‡Œé¢çš„æ‰€æœ‰çš„åå­—
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #268bd2;">#include</span> <span style="color: #2aa198;">&lt;iostream&gt;</span>

<span style="color: #859900; font-weight: bold;">using</span> <span style="color: #268bd2; font-weight: bold;">std</span>::<span style="color: #b58900; font-style: italic;">cin</span>;
<span style="color: #859900; font-weight: bold;">using</span> <span style="color: #268bd2; font-weight: bold;">std</span>::<span style="color: #b58900; font-style: italic;">count</span>;
<span style="color: #859900; font-weight: bold;">using</span> <span style="color: #268bd2; font-weight: bold;">std</span>::<span style="color: #b58900; font-style: italic;">endl</span>;

<span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">main</span>(<span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">argc</span>, <span style="color: #b58900; font-style: italic;">char</span> *<span style="color: #268bd2;">argv</span>[])
{
    <span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">val1</span> = 3;
    <span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">val2</span> = 4;
    <span style="color: #859900; font-weight: bold;">auto</span> <span style="color: #b58900; font-style: italic;">item</span> = val1 + val2;
    cout &lt;&lt; item &lt;&lt; endl;
    <span style="color: #859900; font-weight: bold;">return</span> 0;
}

<span style="color: #93a1a1;">////////////////////////////////////////////////////</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">&lt;===================OUTPUT===================&gt; //</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">7                                              //</span>
<span style="color: #93a1a1;">////////////////////////////////////////////////////</span>
</pre>
</div>
</li>
<li>ä¸ºäº†é˜²æ­¢å‘½åå†²çª, åœ¨headeré‡Œé¢ä¸è¦ä½¿ç”¨using
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-2-7" class="outline-3">
<h3 id="sec-2-7">Library string Type</h3>
<div class="outline-text-3" id="text-2-7">
<ul class="org-ul">
<li>stringæ˜¯cppé‡Œé¢çš„å˜é•¿å­—ç¬¦ä¸²,éœ€è¦ä¸‹é¢ä¸¤è¡Œå¼•å…¥å¾—ä»¥è¿è¡Œ
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #268bd2;">#include</span> <span style="color: #2aa198;">&lt;string&gt;</span>
<span style="color: #859900; font-weight: bold;">using</span> <span style="color: #268bd2; font-weight: bold;">std</span>::<span style="color: #b58900; font-style: italic;">string</span>;
</pre>
</div>
</li>
</ul>
</div>
<div id="outline-container-sec-2-7-1" class="outline-4">
<h4 id="sec-2-7-1">Defining and Initializing strings</h4>
<div class="outline-text-4" id="text-2-7-1">
<ul class="org-ul">
<li>stringå¸¸è§çš„åˆå§‹åŒ–æ–¹å¼å¦‚ä¸‹
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #b58900; font-style: italic;">string</span> <span style="color: #268bd2;">s1</span>;                 <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">default initialization; s1 is the empty string</span>
<span style="color: #b58900; font-style: italic;">string</span> <span style="color: #268bd2;">s2</span> = s1;            <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">s2 is a copy of s1</span>
<span style="color: #b58900; font-style: italic;">string</span> <span style="color: #268bd2;">s3</span> = <span style="color: #2aa198;">"hiya"</span>;        <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">s3 is a copy of the string literal</span>
<span style="color: #b58900; font-style: italic;">string</span> <span style="color: #268bd2;">s4</span>(10, <span style="color: #2aa198;">'c'</span>);        <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">s4 is cccccccccc</span>
</pre>
</div>
</li>
<li>åˆå§‹åŒ–æ–¹å¼å…¶å®æ˜¯åŒ…å«äº†ä¸¤ç§:
<ul class="org-ul">
<li>copy initialization:
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #b58900; font-style: italic;">string</span> <span style="color: #268bd2;">s5</span> = <span style="color: #2aa198;">"hiya"</span>;
</pre>
</div>
</li>
<li>direct initialization:
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #b58900; font-style: italic;">string</span> <span style="color: #268bd2;">s6</span>(<span style="color: #2aa198;">"hiya"</span>);
<span style="color: #b58900; font-style: italic;">string</span> <span style="color: #268bd2;">s7</span>(10, <span style="color: #2aa198;">'c'</span>);
</pre>
</div>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-2-7-2" class="outline-4">
<h4 id="sec-2-7-2">Operations on strings</h4>
<div class="outline-text-4" id="text-2-7-2">
<ul class="org-ul">
<li>æˆ‘ä»¬ä½¿ç”¨std::cin, std::coutæ¥è¯»å–string
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #268bd2; font-weight: bold;">std</span>::<span style="color: #b58900; font-style: italic;">string</span> <span style="color: #268bd2;">s</span>;
<span style="color: #268bd2; font-weight: bold;">std</span>::cin &gt;&gt; s;
<span style="color: #268bd2; font-weight: bold;">std</span>::cout &lt;&lt; s;
</pre>
</div>
</li>
<li>è¦è¯»å–ä¸å®šæ•°é‡çš„å­—ç¬¦ä¸²ä½¿ç”¨whileå¾ªç¯
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #268bd2;">#include</span> <span style="color: #2aa198;">&lt;iostream&gt;</span>

<span style="color: #859900; font-weight: bold;">using</span> <span style="color: #268bd2; font-weight: bold;">std</span>::<span style="color: #b58900; font-style: italic;">cin</span>;
<span style="color: #859900; font-weight: bold;">using</span> <span style="color: #268bd2; font-weight: bold;">std</span>::<span style="color: #b58900; font-style: italic;">cout</span>;
<span style="color: #859900; font-weight: bold;">using</span> <span style="color: #268bd2; font-weight: bold;">std</span>::<span style="color: #b58900; font-style: italic;">endl</span>;
<span style="color: #859900; font-weight: bold;">using</span> <span style="color: #268bd2; font-weight: bold;">std</span>::<span style="color: #b58900; font-style: italic;">string</span>;

<span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">main</span>(<span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">argc</span>, <span style="color: #b58900; font-style: italic;">char</span> *<span style="color: #268bd2;">argv</span>[])
{
    <span style="color: #b58900; font-style: italic;">string</span> <span style="color: #268bd2;">word</span>;
    <span style="color: #859900; font-weight: bold;">while</span> (cin &gt;&gt; word) {
        cout &lt;&lt; word &lt;&lt; endl;
    }
    <span style="color: #859900; font-weight: bold;">return</span> 0;
}

<span style="color: #93a1a1;">////////////////////////////////////////////////////</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">&lt;===================OUTPUT===================&gt; //</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">&gt; ./a.out                                      //</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">123 456 789                                    //</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">123                                            //</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">456                                            //</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">789                                            //</span>
<span style="color: #93a1a1;">////////////////////////////////////////////////////</span>
</pre>
</div>
</li>
<li>ä¸Šé¢æ–¹æ³•çš„åå¤„æ˜¯,é‡åˆ°ç©ºæ ¼å°±è®¤ä¸ºæ˜¯ä¸€æ¬¡è¾“å…¥çš„ç»“æŸ,ç„¶åå°±ä¼šæ‰“å°ä¸€è¡Œ,æˆ‘ä»¬æœ‰æ—¶å€™
è¿˜æ˜¯å¸Œæœ›ç•™æœ‰è¾“å…¥çš„ç©ºæ ¼çš„,é‚£ä¹ˆæˆ‘ä»¬å°±è¦é…åˆä¸Šgetline
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #268bd2;">#include</span> <span style="color: #2aa198;">&lt;iostream&gt;</span>

<span style="color: #859900; font-weight: bold;">using</span> <span style="color: #268bd2; font-weight: bold;">std</span>::<span style="color: #b58900; font-style: italic;">cin</span>;
<span style="color: #859900; font-weight: bold;">using</span> <span style="color: #268bd2; font-weight: bold;">std</span>::<span style="color: #b58900; font-style: italic;">cout</span>;
<span style="color: #859900; font-weight: bold;">using</span> <span style="color: #268bd2; font-weight: bold;">std</span>::<span style="color: #b58900; font-style: italic;">endl</span>;
<span style="color: #859900; font-weight: bold;">using</span> <span style="color: #268bd2; font-weight: bold;">std</span>::<span style="color: #b58900; font-style: italic;">string</span>;

<span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">main</span>(<span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">argc</span>, <span style="color: #b58900; font-style: italic;">char</span> *<span style="color: #268bd2;">argv</span>[])
{
    <span style="color: #b58900; font-style: italic;">string</span> <span style="color: #268bd2;">word</span>;
    <span style="color: #859900; font-weight: bold;">while</span> (getline(cin, word)) {
        <span style="color: #93a1a1;">////////////////////////////////////////////////////////////////</span>
        <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">The newline that cuses getline to return is discarded; the //</span>
        <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">newline  is not stored in the string                       //</span>
        <span style="color: #93a1a1;">////////////////////////////////////////////////////////////////</span>
        cout &lt;&lt; word &lt;&lt; endl;
    }
    <span style="color: #859900; font-weight: bold;">return</span> 0;
}

<span style="color: #93a1a1;">////////////////////////////////////////////////////</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">&lt;===================OUTPUT===================&gt; //</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">&gt; ./a.out                                      //</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">123 456 789                                    //</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">123 456 789                                    //</span>
<span style="color: #93a1a1;">////////////////////////////////////////////////////</span>
</pre>
</div>
</li>
<li>stringçš„emptyå‡½æ•°ç”¨æ¥åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦ä¸ºç©º, sizeæ¥è¿”å›å­—ç¬¦ä¸²çš„é•¿åº¦
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #268bd2;">#include</span> <span style="color: #2aa198;">&lt;iostream&gt;</span>

<span style="color: #859900; font-weight: bold;">using</span> <span style="color: #268bd2; font-weight: bold;">std</span>::<span style="color: #b58900; font-style: italic;">cin</span>;
<span style="color: #859900; font-weight: bold;">using</span> <span style="color: #268bd2; font-weight: bold;">std</span>::<span style="color: #b58900; font-style: italic;">cout</span>;
<span style="color: #859900; font-weight: bold;">using</span> <span style="color: #268bd2; font-weight: bold;">std</span>::<span style="color: #b58900; font-style: italic;">endl</span>;
<span style="color: #859900; font-weight: bold;">using</span> <span style="color: #268bd2; font-weight: bold;">std</span>::<span style="color: #b58900; font-style: italic;">string</span>;

<span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">main</span>(<span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">argc</span>, <span style="color: #b58900; font-style: italic;">char</span> *<span style="color: #268bd2;">argv</span>[])
{
    <span style="color: #b58900; font-style: italic;">string</span> <span style="color: #268bd2;">word</span> = <span style="color: #2aa198;">"hello world"</span>;
    cout &lt;&lt; word.empty() &lt;&lt; endl;
    cout &lt;&lt; word.size() &lt;&lt; endl;

    <span style="color: #859900; font-weight: bold;">return</span> 0;
}

<span style="color: #93a1a1;">////////////////////////////////////////////////////</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">&lt;===================OUTPUT===================&gt; //</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">0                                              //</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">11                                             //</span>
<span style="color: #93a1a1;">////////////////////////////////////////////////////</span>
</pre>
</div>
</li>
<li>å†å²ä¸Šstringçš„size()è¿”å›çš„æ˜¯string::size_type, è¿™æ˜¯ä¸ºäº†è·¨å¹³å°, è€Œä¸”å¯ä»¥èƒ½å¤Ÿ
å®¹çº³ä»»æ„å­—ç¬¦ä¸²çš„é•¿åº¦,å…¶ç±»å‹ä¹Ÿæ˜¯unsignedçš„
</li>
<li>æ–°è§„èŒƒè®©æˆ‘ä»¬å¯ä»¥ä½¿ç”¨autoæ¥å­˜å‚¨è¿”å›å€¼(è‡ªåŠ¨åˆ¤æ–­æˆä¸ºsize_type)
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #859900; font-weight: bold;">auto</span> <span style="color: #b58900; font-style: italic;">len</span> = line.size();   <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">len has type string::size_type</span>
</pre>
</div>
</li>
<li>å› ä¸ºsize()è¿”å›å€¼æ˜¯unsignedçš„,è€Œunsignedç±»å‹å’Œsignedç±»å‹æ··ç”¨çš„è¯,ä¼šæœ‰å¾ˆå¤šéš
å«çš„é—®é¢˜,æ¯”å¦‚æ— ç¬¦å·å’Œæœ‰ç¬¦å·æ•°æ¯”è¾ƒ,æ€»æ˜¯å°äº.
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #268bd2;">#include</span> <span style="color: #2aa198;">&lt;iostream&gt;</span>

<span style="color: #859900; font-weight: bold;">using</span> <span style="color: #268bd2; font-weight: bold;">std</span>::<span style="color: #b58900; font-style: italic;">cin</span>;
<span style="color: #859900; font-weight: bold;">using</span> <span style="color: #268bd2; font-weight: bold;">std</span>::<span style="color: #b58900; font-style: italic;">cout</span>;
<span style="color: #859900; font-weight: bold;">using</span> <span style="color: #268bd2; font-weight: bold;">std</span>::<span style="color: #b58900; font-style: italic;">endl</span>;
<span style="color: #859900; font-weight: bold;">using</span> <span style="color: #268bd2; font-weight: bold;">std</span>::<span style="color: #b58900; font-style: italic;">string</span>;

<span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">main</span>(<span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">argc</span>, <span style="color: #b58900; font-style: italic;">char</span> *<span style="color: #268bd2;">argv</span>[])
{
    <span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">n</span> = -5;
    <span style="color: #b58900; font-style: italic;">string</span> <span style="color: #268bd2;">word</span> = <span style="color: #2aa198;">"hello world"</span>;
    cout &lt;&lt; word.size() &lt;&lt; endl;
    cout &lt;&lt; (word.size() &gt; n ? <span style="color: #2aa198;">"size is bigger than -5 !"</span>: <span style="color: #2aa198;">"size is small than -5!"</span>)
         &lt;&lt; endl;
    <span style="color: #859900; font-weight: bold;">return</span> 0;
}

<span style="color: #93a1a1;">////////////////////////////////////////////////////</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">&lt;===================OUTPUT===================&gt; //</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">11                                             //</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">size is small than -5!                         //</span>
<span style="color: #93a1a1;">////////////////////////////////////////////////////</span>
</pre>
</div>
</li>
<li>cppä¸­çš„å­—ç¬¦ä¸²èµ‹å€¼, æ˜¯å’Œjavaä¸ä¸€æ ·çš„,èµ‹å€¼æ˜¯ä¸€ç§å†…å®¹çš„æ‹·è´,è€Œä¸æ˜¯å¤šä¸ªrefæŒ‡å‘
ä¸€ä¸ªobject
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #b58900; font-style: italic;">string</span> <span style="color: #268bd2;">st1</span>(10, <span style="color: #2aa198;">'c'</span>), <span style="color: #268bd2;">st2</span>;
<span style="color: #93a1a1;">//</span><span style="color: #93a1a1; font-style: italic;">assignment : replace contents of st1 with a copy of st2</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">both st1 and st2 are now the empty string</span>
st1 = st2;
</pre>
</div>
</li>
<li>æŠŠä¸¤ä¸ªstring å¯¹è±¡åŠ èµ·æ¥ä¼šå½¢æˆä¸€ä¸ªæ–°çš„stringå¯¹è±¡
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #268bd2;">#include</span> <span style="color: #2aa198;">&lt;iostream&gt;</span>

<span style="color: #859900; font-weight: bold;">using</span> <span style="color: #268bd2; font-weight: bold;">std</span>::<span style="color: #b58900; font-style: italic;">cin</span>;
<span style="color: #859900; font-weight: bold;">using</span> <span style="color: #268bd2; font-weight: bold;">std</span>::<span style="color: #b58900; font-style: italic;">cout</span>;
<span style="color: #859900; font-weight: bold;">using</span> <span style="color: #268bd2; font-weight: bold;">std</span>::<span style="color: #b58900; font-style: italic;">endl</span>;
<span style="color: #859900; font-weight: bold;">using</span> <span style="color: #268bd2; font-weight: bold;">std</span>::<span style="color: #b58900; font-style: italic;">string</span>;

<span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">main</span>(<span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">argc</span>, <span style="color: #b58900; font-style: italic;">char</span> *<span style="color: #268bd2;">argv</span>[])
{
    <span style="color: #b58900; font-style: italic;">string</span> <span style="color: #268bd2;">s1</span> = <span style="color: #2aa198;">"hello"</span>, <span style="color: #268bd2;">s2</span> = <span style="color: #2aa198;">"world\n"</span>;
    <span style="color: #b58900; font-style: italic;">string</span> <span style="color: #268bd2;">s3</span> = s1 + s2;
    cout &lt;&lt; s3;
    <span style="color: #859900; font-weight: bold;">return</span> 0;
}

<span style="color: #93a1a1;">////////////////////////////////////////////////////</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">&lt;===================OUTPUT===================&gt; //</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">helloworld                                     //</span>
<span style="color: #93a1a1;">////////////////////////////////////////////////////</span>
</pre>
</div>
</li>
<li>è¿™ä¸ªé“ç†çœ‹èµ·æ¥ç®€å•,ä½†æ˜¯ç”±äºå†å²åŸå› (ä¸»è¦ä¸ºäº†å…¼å®¹c), string literalsç«Ÿç„¶"ä¸
æ˜¯" standard library strings!!, æ‰€ä»¥åœ¨ä½¿ç”¨'+'å·çš„æ—¶å€™,'+'å·¦å³ä¸¤è¾¹å¿…é¡»æœ‰ä¸€
è¾¹ä¸æ˜¯string literal
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #b58900; font-style: italic;">string</span> <span style="color: #268bd2;">s4</span> = s1 + <span style="color: #2aa198;">", "</span>;       <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">ok: adding a string and a literal</span>
<span style="color: #b58900; font-style: italic;">string</span> <span style="color: #268bd2;">s5</span> = <span style="color: #2aa198;">"hello"</span> + <span style="color: #2aa198;">", "</span>;  <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">error! no string operand</span>
<span style="color: #b58900; font-style: italic;">string</span> <span style="color: #268bd2;">s6</span> = s1 + <span style="color: #2aa198;">", "</span> + <span style="color: #2aa198;">"world"</span>; <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">ok: each + has a string operand</span>
<span style="color: #b58900; font-style: italic;">string</span> <span style="color: #268bd2;">s7</span> = <span style="color: #2aa198;">"hello"</span> + <span style="color: #2aa198;">", "</span> + s2; <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">error! can't add string literals</span>
</pre>
</div>
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-2-7-3" class="outline-4">
<h4 id="sec-2-7-3">Dealing with the Characters in a string</h4>
<div class="outline-text-4" id="text-2-7-3">
<ul class="org-ul">
<li>æˆ‘ä»¬åœ¨å¤„ç†å­—ç¬¦ä¸²çš„æ—¶å€™,å¾ˆç»å¸¸çš„æƒ…å†µ,å°±æ˜¯å¤„ç†å­—ç¬¦ä¸²é‡Œé¢çš„æ¯ä¸€ä¸ªå­—ç¬¦:
<ul class="org-ul">
<li>å¦‚æœéœ€è¦å¤„ç†æ¯ä¸€ä¸ªå­—ç¬¦çš„è¯,å¯ä»¥ç”¨'foreach'ç±»å‹çš„for:
<ol class="org-ol">
<li>forçš„æ¯ä¸€ä¸ªæˆå‘˜éƒ½æ˜¯æ™®é€šautoç±»å‹
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #268bd2;">#include</span> <span style="color: #2aa198;">&lt;iostream&gt;</span>

<span style="color: #859900; font-weight: bold;">using</span> <span style="color: #859900; font-weight: bold;">namespace</span> <span style="color: #268bd2; font-weight: bold;">std</span>;

<span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">main</span>(<span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">argc</span>, <span style="color: #b58900; font-style: italic;">char</span> *<span style="color: #268bd2;">argv</span>[])
{
    <span style="color: #b58900; font-style: italic;">string</span> <span style="color: #268bd2;">str</span>(<span style="color: #2aa198;">"some s"</span>);
    <span style="color: #859900; font-weight: bold;">for</span> (<span style="color: #859900; font-weight: bold;">auto</span> <span style="color: #b58900; font-style: italic;">c</span>: str) {
        cout &lt;&lt; c &lt;&lt; endl;
    }
    <span style="color: #859900; font-weight: bold;">return</span> 0;
}

<span style="color: #93a1a1;">////////////////////////////////////////////////////</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">&lt;===================OUTPUT===================&gt; //</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">s                                              //</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">o                                              //</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">m                                              //</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">e                                              //</span>
<span style="color: #93a1a1;">//                                                </span><span style="color: #93a1a1; font-style: italic;">//</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">s                                              //</span>
<span style="color: #93a1a1;">////////////////////////////////////////////////////</span>
</pre>
</div>
</li>
<li>forçš„æ¯ä¸€ä¸ªæˆå‘˜éƒ½æ˜¯auto refrenceç±»å‹, è¿™æ ·å¯ä»¥ç”¨æ¥æ›´æ”¹å­—ç¬¦ä¸²!
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #268bd2;">#include</span> <span style="color: #2aa198;">&lt;iostream&gt;</span>

<span style="color: #859900; font-weight: bold;">using</span> <span style="color: #859900; font-weight: bold;">namespace</span> <span style="color: #268bd2; font-weight: bold;">std</span>;

<span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">main</span>(<span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">argc</span>, <span style="color: #b58900; font-style: italic;">char</span> *<span style="color: #268bd2;">argv</span>[])
{
    <span style="color: #b58900; font-style: italic;">string</span> <span style="color: #268bd2;">str</span>(<span style="color: #2aa198;">"hello world"</span>);
    <span style="color: #859900; font-weight: bold;">for</span> (<span style="color: #859900; font-weight: bold;">auto</span> &amp;<span style="color: #268bd2;">c</span>: str) {
        <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">c is a reference, the assignment changes the char in s</span>
        c = toupper(c);
    }
    cout &lt;&lt; str &lt;&lt; endl;

    <span style="color: #859900; font-weight: bold;">return</span> 0;
}

<span style="color: #93a1a1;">////////////////////////////////////////////////////</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">&lt;===================OUTPUT===================&gt; //</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">HELLO WORLD                                    //</span>
<span style="color: #93a1a1;">////////////////////////////////////////////////////</span>
</pre>
</div>
</li>
</ol>
</li>
<li>å¦‚æœä¸éœ€è¦å¤„ç†æŸä¸ªå­—ç¬¦çš„è¯,å¯ä»¥ä½¿ç”¨operator[]
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #268bd2;">#include</span> <span style="color: #2aa198;">&lt;iostream&gt;</span>
<span style="color: #859900; font-weight: bold;">using</span> <span style="color: #859900; font-weight: bold;">namespace</span> <span style="color: #268bd2; font-weight: bold;">std</span>;

<span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">main</span>(<span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">argc</span>, <span style="color: #b58900; font-style: italic;">char</span> *<span style="color: #268bd2;">argv</span>[])
{
    <span style="color: #b58900; font-style: italic;">string</span> <span style="color: #268bd2;">str</span>(<span style="color: #2aa198;">"hello world"</span>);

    <span style="color: #859900; font-weight: bold;">if</span> (<span style="color: #b58900; font-weight: bold;">!</span>str.empty()) {
        str[0] = toupper(str[0]);
    }

    cout &lt;&lt; str &lt;&lt; endl;

    <span style="color: #859900; font-weight: bold;">return</span> 0;
}

<span style="color: #93a1a1;">////////////////////////////////////////////////////</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">&lt;===================OUTPUT===================&gt; //</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">Hello world                                    //</span>
<span style="color: #93a1a1;">////////////////////////////////////////////////////</span>
</pre>
</div>
</li>
</ul>
</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-sec-2-8" class="outline-3">
<h3 id="sec-2-8">Library vector Type</h3>
<div class="outline-text-3" id="text-2-8">
<ul class="org-ul">
<li>vectoræ˜¯ä¸€ç³»åˆ—objectçš„collection. æ¯ä¸ªobjectçš„ç±»å‹æ˜¯ä¸€è‡´çš„.è¿™ä¹Ÿå°±æ˜¯æˆ‘ä»¬å¸¸è¯´
çš„container. ä½¿ç”¨vectoréœ€è¦ä¸‹é¢ä¸¤ä¸ªå¤´æ–‡ä»¶
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #268bd2;">#include</span> <span style="color: #2aa198;">&lt;vector&gt;</span>
<span style="color: #859900; font-weight: bold;">using</span> <span style="color: #268bd2; font-weight: bold;">std</span>::<span style="color: #b58900; font-style: italic;">vector</span>;
</pre>
</div>
</li>
<li>c++ä¸­çš„templateæœ‰ä¸¤ç±»:
<ul class="org-ul">
<li>class template: vectorå°±æ˜¯class template
</li>
<li>function template
</li>
</ul>
</li>
<li>templateæœ¬èº«ä¸æ˜¯classæˆ–è€…function, ä½†æ˜¯å®ƒä»¬æ˜¯ä¸€ç§"æŒ‡å¯¼"ç¼–è¯‘å™¨ç”Ÿäº§classæˆ–è€…
functionçš„åŠæ³•!è€Œç¼–è¯‘å™¨ç”Ÿæˆclassæˆ–è€…functionçš„è¿™ä¸ªè¿‡ç¨‹å«åšinstantiation.
</li>
<li>å¯¹äºclass templateæ¥è¯´, ä½ å¯ä»¥é€šè¿‡åœ¨&lt;&gt;é‡Œé¢æä¾›é¢å¤–çš„ä¿¡æ¯æ¥"æŒ‡å¯¼"compileré’ˆå¯¹
æŸä¸ªclassæ¥instantiate. å¯¹äºvectoræ¥è¯´,å°±æ˜¯åœ¨&lt;&gt;é‡Œé¢æä¾›æˆ‘ä»¬æƒ³è¦åœ¨é‡Œé¢å­˜å‚¨çš„
ç±»å‹
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #b58900; font-style: italic;">vector</span>&lt;<span style="color: #b58900; font-style: italic;">int</span>&gt; <span style="color: #268bd2;">ivec</span>;                <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">ivec holds objects of type int</span>
<span style="color: #b58900; font-style: italic;">vector</span>&lt;Sales_item&gt; <span style="color: #268bd2;">Sales_vec</span>;    <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">holds Sales_items</span>
<span style="color: #93a1a1;">/////////////////////////////////////////////////////////////////////////</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">old compiler may require old-style declaration for vector of vector //</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">like -&gt; vector&lt;vector&lt;int&gt; &gt;                                        //</span>
<span style="color: #93a1a1;">/////////////////////////////////////////////////////////////////////////</span>
vector&lt;vector&lt;string&gt;&gt; file;     <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">vector whose elements are vectors</span>
</pre>
</div>
</li>
<li>å› ä¸ºreferenceä¸æ˜¯ä¸€ç§ç±»å‹,æ‰€ä»¥æ— æ³•å®šä¹‰ä¿å­˜referenceçš„vector
</li>
</ul>
</div>
<div id="outline-container-sec-2-8-1" class="outline-4">
<h4 id="sec-2-8-1">Defining and Initializing vectors</h4>
<div class="outline-text-4" id="text-2-8-1">
<ul class="org-ul">
<li>æœ€ç®€å•çš„æ˜¯å®šä¹‰ä¸€ä¸ªç©ºçš„vector
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #b58900; font-style: italic;">vector</span>&lt;<span style="color: #b58900; font-style: italic;">string</span>&gt; <span style="color: #268bd2;">svec</span>;    <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">default initialization; svec has no elements</span>
</pre>
</div>
</li>
<li>å½“ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨operator=æˆ–è€…copyæ„é€ å‡½æ•°æ¥åˆå§‹åŒ–
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #b58900; font-style: italic;">vector</span>&lt;<span style="color: #b58900; font-style: italic;">int</span>&gt; <span style="color: #268bd2;">ivec</span>;

<span style="color: #b58900; font-style: italic;">vector</span>&lt;<span style="color: #b58900; font-style: italic;">int</span>&gt; <span style="color: #268bd2;">ivec2</span>(ivec);
<span style="color: #b58900; font-style: italic;">vector</span>&lt;<span style="color: #b58900; font-style: italic;">int</span>&gt; <span style="color: #268bd2;">ivec3</span> = ivec;
</pre>
</div>
</li>
<li>æ–°è§„èŒƒæä¾›äº†list initialization,å°±æ˜¯åœ¨{}é‡Œé¢æä¾›å¤šä¸ªåˆå§‹åŒ–å€¼
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #b58900; font-style: italic;">vector</span>&lt;<span style="color: #b58900; font-style: italic;">string</span>&gt; <span style="color: #268bd2;">articles</span> = {<span style="color: #2aa198;">"a"</span>, <span style="color: #2aa198;">"an"</span>, <span style="color: #2aa198;">"the"</span>};
</pre>
</div>
</li>
<li>å¦‚æœæŸä¸ªvectoré‡Œé¢çš„å€¼æ˜¯ä¸€æ ·çš„,æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¦‚ä¸‹æ–¹æ³•å®šä¹‰
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #b58900; font-style: italic;">vector</span>&lt;<span style="color: #b58900; font-style: italic;">int</span>&gt; <span style="color: #268bd2;">ivec</span>(10, -1);        <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">ten int elements, each initialized to -1</span>
<span style="color: #b58900; font-style: italic;">vector</span>&lt;<span style="color: #b58900; font-style: italic;">string</span>&gt; <span style="color: #268bd2;">svec</span>(10, <span style="color: #2aa198;">"hi!"</span>);  <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">ten strings; each element is "hi!"</span>
</pre>
</div>
</li>
<li>å¦‚æœ&lt;&gt;é‡Œé¢çš„ç±»å‹å…è®¸"default value"çš„è¯,æˆ‘ä»¬å¯ä»¥ä¸æä¾›åˆå§‹åŒ–å€¼,è€Œåªæä¾›å®¹å™¨
å¤§å°
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #b58900; font-style: italic;">vector</span>&lt;<span style="color: #b58900; font-style: italic;">string</span>&gt; <span style="color: #268bd2;">svec</span>(10);   <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">ten elements, each an empty string</span>
</pre>
</div>
</li>
<li>åœ¨vectoråˆå§‹åŒ–çš„æ—¶å€™,ä½¿ç”¨{}è¿˜æ˜¯()æœ‰å¾ˆå¤§çš„å­¦é—®, åœ¨ä¸åŒç±»å‹ä¸­æƒ…å†µä¹Ÿä¸ä¸€æ ·:
<ul class="org-ul">
<li>æ¯”å¦‚åœ¨intç±»å‹ä¸­:
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #b58900; font-style: italic;">vector</span>&lt;<span style="color: #b58900; font-style: italic;">int</span>&gt; <span style="color: #268bd2;">v1</span>(10);    <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">v1 has then element with value 0</span>
<span style="color: #b58900; font-style: italic;">vector</span>&lt;<span style="color: #b58900; font-style: italic;">int</span>&gt; <span style="color: #268bd2;">v2</span>{10};    <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">v2 has one element with value 10</span>
<span style="color: #b58900; font-style: italic;">vector</span>&lt;<span style="color: #b58900; font-style: italic;">int</span>&gt; <span style="color: #268bd2;">v3</span>(10, 1); <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">v3 has ten elements with value 1</span>
<span style="color: #b58900; font-style: italic;">vector</span>&lt;<span style="color: #b58900; font-style: italic;">int</span>&gt; <span style="color: #268bd2;">v4</span>{10, 1}; <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">v4 has two elements with values 10 and 1</span>
</pre>
</div>
</li>
<li>å¦‚æœä½ å°±æ­¤è®¤ä¸º{}å°±ä¼šæ˜¯list initializationçš„è¯,é‚£å°±å¤§é”™ç‰¹é”™äº†. æ¯”å¦‚ç±»å‹æ˜¯
stringçš„è¯, {}åœ¨æ— æ³•è½¬æ¢æˆlist initializationçš„è¯, ä¹Ÿæ˜¯å¯èƒ½ä¼šè½¬æ¢æˆ()çš„
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #b58900; font-style: italic;">vector</span>&lt;<span style="color: #b58900; font-style: italic;">string</span>&gt; <span style="color: #268bd2;">v5</span>{<span style="color: #2aa198;">"hi"</span>};    <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">list initialization</span>
<span style="color: #b58900; font-style: italic;">vector</span>&lt;<span style="color: #b58900; font-style: italic;">string</span>&gt; <span style="color: #268bd2;">v6</span>(<span style="color: #2aa198;">"hi"</span>);    <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">error: can't construct a vector from astring literal</span>
<span style="color: #b58900; font-style: italic;">vector</span>&lt;<span style="color: #b58900; font-style: italic;">string</span>&gt; <span style="color: #268bd2;">v7</span>{10};      <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">v7 has ten default-initialized elements</span>
<span style="color: #b58900; font-style: italic;">vector</span>&lt;<span style="color: #b58900; font-style: italic;">string</span>&gt; <span style="color: #268bd2;">v8</span>{10, <span style="color: #2aa198;">"hi"</span>} <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">v8 has ten elements with value "hi"</span>
</pre>
</div>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-2-8-2" class="outline-4">
<h4 id="sec-2-8-2">Adding Elements to a vector</h4>
<div class="outline-text-4" id="text-2-8-2">
<ul class="org-ul">
<li>é™¤äº†æŸäº›æƒ…å†µ(æ¯”å¦‚æ‰€æœ‰vectorçš„æˆå‘˜éƒ½æ˜¯ä¸€ä¸ªå€¼),å¤§å¤šæ•°æƒ…å†µä¸‹æœ€æœ‰æ•ˆç‡çš„å¢åŠ vector
æˆå‘˜çš„æ–¹æ³•å°±æ˜¯å…ˆåˆå§‹åŒ–ä¸€ä¸ªç©ºçš„vector,ç„¶åå¾€é‡Œé¢åŠ 
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #b58900; font-style: italic;">vector</span>&lt;<span style="color: #b58900; font-style: italic;">int</span>&gt; <span style="color: #268bd2;">v2</span>;

<span style="color: #859900; font-weight: bold;">for</span> (<span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">i</span> = 0; i != 100; ++i) {
    v2.push_back(i); <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">append sequential integers to v2</span>
}
</pre>
</div>
</li>

<li>è€Œåœ¨forçš„é‡Œé¢å¯¹vector çš„sizeè¿›è¡Œæ›´æ”¹çš„åšæ³•é€šå¸¸éƒ½ä¼šå¼•å…¥é—®é¢˜#TODO
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-2-8-3" class="outline-4">
<h4 id="sec-2-8-3">Other vector Operations</h4>
<div class="outline-text-4" id="text-2-8-3">
<ul class="org-ul">
<li>vectorçš„æ¯ä¸€ä¸ªelementå°±åƒstringçš„æ¯ä¸€ä¸ªcharacterä¸€æ ·å¯ä»¥è®¿é—®, æ¯”å¦‚ä¸‹é¢çš„ä¾‹
å­å°±æ˜¯æ›´æ”¹vectorçš„æ¯ä¸ªæˆå‘˜å¹¶æ‰“å°
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #268bd2;">#include</span> <span style="color: #2aa198;">&lt;iostream&gt;</span>
<span style="color: #268bd2;">#include</span> <span style="color: #2aa198;">&lt;vector&gt;</span>

<span style="color: #859900; font-weight: bold;">using</span> <span style="color: #268bd2; font-weight: bold;">std</span>::<span style="color: #b58900; font-style: italic;">cout</span>;
<span style="color: #859900; font-weight: bold;">using</span> <span style="color: #268bd2; font-weight: bold;">std</span>::<span style="color: #b58900; font-style: italic;">endl</span>;
<span style="color: #859900; font-weight: bold;">using</span> <span style="color: #268bd2; font-weight: bold;">std</span>::<span style="color: #b58900; font-style: italic;">vector</span>;

<span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">main</span>(<span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">argc</span>, <span style="color: #b58900; font-style: italic;">char</span> *<span style="color: #268bd2;">argv</span>[])
{
    <span style="color: #b58900; font-style: italic;">vector</span>&lt;<span style="color: #b58900; font-style: italic;">int</span>&gt; <span style="color: #268bd2;">v</span>{1, 2, 3, 4, 5, 6, 7, 8, 9};
    <span style="color: #859900; font-weight: bold;">for</span> (<span style="color: #859900; font-weight: bold;">auto</span> &amp;<span style="color: #268bd2;">i</span> : v) {
        i *= i;
    }
    <span style="color: #859900; font-weight: bold;">for</span> (<span style="color: #859900; font-weight: bold;">auto</span> <span style="color: #b58900; font-style: italic;">i</span> : v) {
        cout &lt;&lt; i &lt;&lt; <span style="color: #2aa198;">" "</span>;
    }
    cout &lt;&lt; endl;
}

<span style="color: #93a1a1;">////////////////////////////////////////////////////</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">&lt;===================OUTPUT===================&gt; //</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">1 4 9 16 25 36 49 64 81                        //</span>
<span style="color: #93a1a1;">////////////////////////////////////////////////////</span>
</pre>
</div>
</li>
<li>vectorä¹Ÿæœ‰emptyå’Œsize, è€Œä¸”ç‰¹åˆ«è¦æ³¨æ„çš„æ˜¯vectorçš„è¿”å›å€¼ä¸æ˜¯ç®€å•çš„size_type
      è€Œæ˜¯å¸¦æœ‰&lt;&gt;ç±»å‹çš„size_type
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #268bd2; font-weight: bold;">vector</span>&lt;<span style="color: #b58900; font-style: italic;">int</span>&gt;::<span style="color: #b58900; font-style: italic;">size_type</span> <span style="color: #93a1a1;">//</span><span style="color: #93a1a1; font-style: italic;">ok</span>
<span style="color: #268bd2; font-weight: bold;">vector</span>::<span style="color: #268bd2;">size_type</span>      <span style="color: #93a1a1;">//</span><span style="color: #93a1a1; font-style: italic;">error</span>
</pre>
</div>
</li>
<li>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨[]æ¥å–ç”¨"å·²æœ‰"çš„vectoræ•°æ®, ä½†æ˜¯ç»å¯¹ä¸èƒ½ä¾é []æ¥å¢åŠ æ•°æ®,æ¯”å¦‚ä¸‹
é¢çš„ä¾‹å­å°±æ˜¯é”™è¯¯çš„ivecæ˜¯ç©ºçš„,forå†…éƒ¨åº”è¯¥ä½¿ç”¨push_back,è€Œä¸æ˜¯[]
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #b58900; font-style: italic;">vector</span>&lt;<span style="color: #b58900; font-style: italic;">int</span>&gt; <span style="color: #268bd2;">ivec</span>;      <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">empty vector</span>
<span style="color: #859900; font-weight: bold;">for</span> (decltype(ivec.size()) ix = 0; ix != 10; ++ix) {
    ivec[ix] = ix;     <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">disaster: ivec has no elements</span>
}
</pre>
</div>
</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-sec-2-9" class="outline-3">
<h3 id="sec-2-9">Introducing Iterators</h3>
<div class="outline-text-3" id="text-2-9">
<ul class="org-ul">
<li>è™½ç„¶æˆ‘ä»¬å¯ä»¥ä½¿ç”¨[]æ¥éå†stringæˆ–è€…vector, ä½†æ˜¯æˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ›´åŠ "é€šç”¨"çš„éå†
æ–¹æ³•iterator.
</li>
<li>ä»¥åæˆ‘ä»¬ä¼šå‘ç°,stdå®ç°äº†ä¸€ç³»åˆ—çš„å®¹å™¨,æ‰€æœ‰çš„å®¹å™¨éƒ½æ”¯æŒiterator,ä½†æ˜¯åªæœ‰ä¸ªåˆ«
çš„å®¹å™¨æ”¯æŒ[]
</li>
<li>iteratorå’Œpointerç±»ä¼¼,ç»™äº†æˆ‘ä»¬indirectè®¿é—®objectçš„èƒ½åŠ›,ä¹Ÿæœ‰validå’Œinvalidä¹‹åˆ†
</li>
<li>stringä¸ç®—ä¸€ç§å®¹å™¨,ä½†æ˜¯stringçš„iteratorå’Œå®¹å™¨çš„iteratorç›¸ä¼¼,æˆ‘ä»¬åé¢çš„è®¨è®º
ä¹Ÿéƒ½é€‚ç”¨äºstring
</li>
</ul>
</div>
<div id="outline-container-sec-2-9-1" class="outline-4">
<h4 id="sec-2-9-1">Using Iterators</h4>
<div class="outline-text-4" id="text-2-9-1">
<ul class="org-ul">
<li>iteratorä¸åƒpointerä¸€æ ·,ä½¿ç”¨å–åœ°å€ç¬¦æ¥èµ‹å€¼,å®ƒä½¿ç”¨ä¸€äº›å®¹å™¨çš„æˆå‘˜å‡½æ•°æ¥èµ‹å€¼:
<ul class="org-ul">
<li>begin()è¿”å›:å®¹å™¨çš„ç¬¬ä¸€ä¸ªæˆå‘˜(å¦‚æœå­˜åœ¨çš„è¯)ä½ç½®
</li>
<li>end()è¿”å›:å®¹å™¨çš„æœ€åä¸€ä¸ªæˆå‘˜åé¢çš„ä½ç½®
</li>
<li>å¦‚æœä¸€ä¸ªå®¹å™¨æ˜¯ç©ºçš„è¯begin()å’Œend()è¿”å›åŒä¸€ä¸ªå€¼"å®¹å™¨æœ€åä¸€ä¸ªæˆå‘˜åé¢çš„ä½
ç½®"
</li>
</ul>
</li>
<li>å’ŒæŒ‡é’ˆä¸€æ ·, iteratorä¹Ÿæ”¯æŒä¸€äº›ä¸ªæ¯”è¾ƒæ“ä½œç¬¦æ¯”å¦‚"=="å’Œ"!="
</li>
<li>å’ŒæŒ‡é’ˆä¸€æ ·, iteratorä¹Ÿæ”¯æŒ"è§£å¼•ç”¨"æ¥è·å–æŒ‡å…¶æ‰€å‘ä½ç½®çš„object. å½“ç„¶æˆ‘ä»¬çš„è§£
å¼•ç”¨(dereference)ä¹Ÿå¿…é¡»æ˜¯validçš„iterator
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #268bd2;">#include</span> <span style="color: #2aa198;">&lt;iostream&gt;</span>
<span style="color: #268bd2;">#include</span> <span style="color: #2aa198;">&lt;vector&gt;</span>

<span style="color: #859900; font-weight: bold;">using</span> <span style="color: #268bd2; font-weight: bold;">std</span>::<span style="color: #b58900; font-style: italic;">cout</span>;
<span style="color: #859900; font-weight: bold;">using</span> <span style="color: #268bd2; font-weight: bold;">std</span>::<span style="color: #b58900; font-style: italic;">endl</span>;
<span style="color: #859900; font-weight: bold;">using</span> <span style="color: #268bd2; font-weight: bold;">std</span>::<span style="color: #b58900; font-style: italic;">string</span>;

<span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">main</span>(<span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">argc</span>, <span style="color: #b58900; font-style: italic;">char</span> *<span style="color: #268bd2;">argv</span>[])
{
    <span style="color: #b58900; font-style: italic;">string</span> <span style="color: #268bd2;">s</span>(<span style="color: #2aa198;">"some string"</span>);
    <span style="color: #859900; font-weight: bold;">if</span> (s.begin() != s.end()) {
        <span style="color: #859900; font-weight: bold;">auto</span> <span style="color: #b58900; font-style: italic;">it</span> = s.begin();
        *it = toupper(*it);
    }
    cout &lt;&lt; s &lt;&lt; endl;
}

<span style="color: #93a1a1;">////////////////////////////////////////////////////</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">&lt;===================OUTPUT===================&gt; //</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">Some string                                    //</span>
<span style="color: #93a1a1;">////////////////////////////////////////////////////</span>
</pre>
</div>
</li>
<li>ç§»åŠ¨ä¸€ä¸ªiteratoræ˜¯ä¾é "++", æˆ–è€…"&#x2013;"å’Œpointerä¹Ÿç±»ä¼¼
</li>
<li>ä½†æ˜¯ç‰¹åˆ«è¦æ³¨æ„çš„æ˜¯å› ä¸ºend()æ‰€è¿”å›çš„iteratorå¹¶ä¸æŒ‡å‘æŸä¸ªobject,æ‰€ä»¥å¯¹å®ƒè¿›è¡Œ
"++"æˆ–è€…"&#x2013;"éƒ½æ˜¯é€»è¾‘ä¸æ­£ç¡®çš„.
</li>
<li>è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆcppçš„iteratorå¾ªç¯,ä½¿ç”¨çš„æ˜¯'!=' è€Œä¸æ˜¯'&lt;'çš„åŸå› : end()çš„ä½ç½®"é£˜
å¿½"æ— æ³•åˆ¤æ–­å…¶å¤§å°. å¦å¤–çš„åŸå› æ˜¯æŸäº›iteratorå°±æ²¡æœ‰æ”¯æŒoperator&lt;
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #268bd2;">#include</span> <span style="color: #2aa198;">&lt;iostream&gt;</span>
<span style="color: #268bd2;">#include</span> <span style="color: #2aa198;">&lt;vector&gt;</span>

<span style="color: #859900; font-weight: bold;">using</span> <span style="color: #268bd2; font-weight: bold;">std</span>::<span style="color: #b58900; font-style: italic;">cout</span>;
<span style="color: #859900; font-weight: bold;">using</span> <span style="color: #268bd2; font-weight: bold;">std</span>::<span style="color: #b58900; font-style: italic;">endl</span>;
<span style="color: #859900; font-weight: bold;">using</span> <span style="color: #268bd2; font-weight: bold;">std</span>::<span style="color: #b58900; font-style: italic;">string</span>;

<span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">main</span>(<span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">argc</span>, <span style="color: #b58900; font-style: italic;">char</span> *<span style="color: #268bd2;">argv</span>[])
{
    <span style="color: #b58900; font-style: italic;">string</span> <span style="color: #268bd2;">s</span>(<span style="color: #2aa198;">"some string"</span>);
     <span style="color: #859900; font-weight: bold;">for</span> (<span style="color: #859900; font-weight: bold;">auto</span> <span style="color: #b58900; font-style: italic;">it</span> = s.begin(); it != s.end() &amp;&amp; <span style="color: #b58900; font-weight: bold;">!</span>isspace(*it); ++it) {
        *it = toupper(*it);
    }
    cout &lt;&lt; s &lt;&lt; endl;
}

<span style="color: #93a1a1;">////////////////////////////////////////////////////</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">&lt;===================OUTPUT===================&gt; //</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">SOME string                                    //</span>
<span style="color: #93a1a1;">////////////////////////////////////////////////////</span>
</pre>
</div>
</li>
<li>å› ä¸ºiteratorä¹Ÿæ˜¯object,æ‰€ä»¥å®ƒå…¶å®ä¹Ÿæ˜¯æœ‰constæ€§çš„, ä¸€ä¸ªconstçš„iteratoræ˜¯åª
å¯ä»¥è¯»ä¸å¯ä»¥å†™çš„.å°±åƒconst pointerä¸€æ ·:
<ul class="org-ul">
<li>å¦‚æœä¸€ä¸ªå®¹å™¨æ˜¯constçš„,é‚£ä¹ˆ'åªèƒ½'ä½¿ç”¨const_iterator
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #268bd2; font-weight: bold;">vector</span>&lt;<span style="color: #b58900; font-style: italic;">int</span>&gt;::<span style="color: #b58900; font-style: italic;">const_iterator</span> <span style="color: #268bd2;">it</span>;  <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">const iterator</span>
</pre>
</div>
</li>
<li>å¦‚æœä¸€ä¸ªå®¹å™¨ä¸æ˜¯constçš„,é‚£ä¹ˆ'æ—¢'ä½¿ç”¨const_iterator, 'åˆ'å¯ä»¥ä½¿ç”¨æ™®é€šiterator
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #268bd2; font-weight: bold;">vector</span>&lt;<span style="color: #b58900; font-style: italic;">int</span>&gt;::<span style="color: #b58900; font-style: italic;">iterator</span> <span style="color: #268bd2;">it</span>;        <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">common iterator</span>
</pre>
</div>
</li>
</ul>
</li>
<li>begin() end()ä¹Ÿä¼šæ ¹æ®è‡ªå·±å®¹å™¨çš„ç±»å‹æ¥è¿”å›ä¸åŒç±»å‹çš„iterator
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #b58900; font-style: italic;">vector</span>&lt;<span style="color: #b58900; font-style: italic;">int</span>&gt; <span style="color: #268bd2;">v</span>;
<span style="color: #859900; font-weight: bold;">const</span> <span style="color: #b58900; font-style: italic;">vector</span>&lt;<span style="color: #b58900; font-style: italic;">int</span>&gt; <span style="color: #268bd2;">cv</span>;
<span style="color: #859900; font-weight: bold;">auto</span> <span style="color: #b58900; font-style: italic;">it1</span> = v.begin();          <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">it1 has type vector&lt;int&gt;::iterator</span>
<span style="color: #859900; font-weight: bold;">auto</span> <span style="color: #b58900; font-style: italic;">it2</span> = cv.begin();         <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">it2 has type vector&lt;int&gt;::const_iterator</span>
</pre>
</div>
</li>
<li>è¿™ç§è®¾è®¡éå¸¸ä¸äººæ€§,å¾ˆå®¹æ˜“ç”¨é”™. éå†çš„æ—¶å€™,æˆ‘ä»¬é€šçŸ¥éƒ½ä¼šå–œæ¬¢ä½¿ç”¨const iterator,
è€Œæ— è®ºå®¹å™¨æ˜¯å¦const,éƒ½å¯ä»¥ä½¿ç”¨const iterator, æ‰€ä»¥æ–°è§„èŒƒè®¾è®¡äº†æ–°çš„cbeginå’Œcend
æ¥"å¿…å®š"è¿”å›const iterator
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #b58900; font-style: italic;">vector</span>&lt;<span style="color: #b58900; font-style: italic;">int</span>&gt; <span style="color: #268bd2;">v</span>;
<span style="color: #859900; font-weight: bold;">auto</span> <span style="color: #b58900; font-style: italic;">it3</span> = v.cbegin();   <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">it3 has type vector&lt;int&gt;::const_iterator</span>
</pre>
</div>
</li>
<li>è°ƒç”¨iteratoræŒ‡å‘çš„objectçš„å¯¹è±¡çš„å‡½æ•°æœ‰ä¸¤ç§æ–¹æ³•:
<ul class="org-ul">
<li>æŠŠiteratorçœ‹æˆæŒ‡é’ˆ,å¯ä»¥ä½¿ç”¨*iteratoræ¥æ‰¾åˆ°ç›¸åº”object,å¹¶è°ƒç”¨.ä½†æ˜¯è¦è®°å¾—åŠ 
æ‹¬å·
<div class="org-src-container">

<pre class="src src-cpp">(*it).empty()
</pre>
</div>
</li>
<li>å¯ä»¥ä½¿ç”¨-&gt;æ¥ç®€åŒ–è¿™ä¸ªè¿‡ç¨‹
<div class="org-src-container">

<pre class="src src-cpp">it-&gt;empty()
</pre>
</div>
</li>
</ul>
</li>
<li>æˆ‘ä»¬å‰é¢è¯´è¿‡,ä¸è¦å†foré‡Œé¢å¢åŠ æ•°æ®, ç°åœ¨æˆ‘ä»¬è¿˜è¦å‘Šè¯‰å¤§å®¶,ä¸€æ—¦å¢åŠ vectorçš„
size(æ¯”å¦‚é€šè¿‡push_back),æ‰€æœ‰çš„iteratoréƒ½å¤±æ•ˆ.æ‰€ä»¥,æ‰€æœ‰çš„loopä¸€æ—¦ä½¿ç”¨äº†iterator
é‚£ä¹ˆå°±ä¸è¦add element.
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-2-9-2" class="outline-4">
<h4 id="sec-2-9-2">Iterator Arithmetic</h4>
<div class="outline-text-4" id="text-2-9-2">
<ul class="org-ul">
<li>å’ŒæŒ‡é’ˆä¸€æ ·.iteratoræ˜¯å¯ä»¥è¿›è¡ŒåŠ å‡æ³•çš„.
</li>
<li>ä¸€ä¸ªåˆ©ç”¨iteratoræ¥è¿›è¡ŒäºŒåˆ†æŸ¥æ‰¾çš„ä¾‹å­
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">text must be sorted</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">beg and end will denote the range we're searching</span>
<span style="color: #859900; font-weight: bold;">auto</span> <span style="color: #b58900; font-style: italic;">beg</span> = text.begin(), end = text.end();
<span style="color: #859900; font-weight: bold;">auto</span> <span style="color: #b58900; font-style: italic;">mid</span> = text.begin() + (end - beg) / 2;

<span style="color: #859900; font-weight: bold;">while</span> (mid != end &amp;&amp; *mid != sought) {
    <span style="color: #859900; font-weight: bold;">if</span> (sought &lt; *mid) {
        end = mid;
    } <span style="color: #859900; font-weight: bold;">else</span> {
        beg = mid + 1;
    }
    mid = beg + (end - beg) / 2;
}
</pre>
</div>
</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-sec-2-10" class="outline-3">
<h3 id="sec-2-10">Arrays</h3>
<div class="outline-text-3" id="text-2-10">
<ul class="org-ul">
<li>å’Œvectorä¸åŒçš„æ˜¯, arrayæ˜¯fix-sized, å› ä¸ºarrayçš„size fix,æ‰€ä»¥æ€§èƒ½ä¼šæ¯”è¾ƒæœ‰ä¼˜åŠ¿
</li>
</ul>
</div>
<div id="outline-container-sec-2-10-1" class="outline-4">
<h4 id="sec-2-10-1">Defining and Initializing Built-in Arrays</h4>
<div class="outline-text-4" id="text-2-10-1">
<ul class="org-ul">
<li>å’Œreferenceä»¥åŠpointerä¸€æ ·, æ•°ç»„æ˜¯ä¸€ç§compound type,å½¢å¦‚a[d],å…¶ä¸­då¿…é¡»æ˜¯
constant expression
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #b58900; font-style: italic;">unsigned</span> <span style="color: #268bd2;">cnt</span> = 42; <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">not a constant expression</span>
constexpr <span style="color: #b58900; font-style: italic;">unsigned</span> <span style="color: #268bd2;">sz</span> = 42; <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">const expression</span>

<span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">arr</span>[10];       <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">array of ten ints</span>
<span style="color: #b58900; font-style: italic;">int</span> *<span style="color: #268bd2;">parr</span>[sz];     <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">array of 42 pointers to int</span>
<span style="color: #b58900; font-style: italic;">string</span> <span style="color: #268bd2;">bad</span>[cnt];   <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">error: cnt is not a constant expression</span>
<span style="color: #b58900; font-style: italic;">string</span> <span style="color: #268bd2;">strs</span>[get_size()]; <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">ok if get_size is constexpr, error otherwise</span>
</pre>
</div>
</li>
<li>arrayé‡Œé¢çš„æˆå‘˜éƒ½æ˜¯default initializedçš„,æ‰€ä»¥åœ¨functioné‡Œé¢çš„å®šä¹‰çš„built-in
ç±»å‹æ•°ç»„æ˜¯éå¸¸å±é™©çš„,å› ä¸º
<pre class="example">
As with variables of built-in type, a default-initialized array of
built-in type that is defined inside a function will have undefined
values
</pre>
</li>
<li>arrayåŒ…å«çš„å¿…é¡»æ˜¯object,æ‰€ä»¥referenceæ˜¯æ²¡æœ‰æ•°ç»„çš„
</li>
<li>é™¤äº†å­—ç¬¦æ•°ç»„ä»¥å¤–çš„æ•°ç»„åˆå§‹åŒ–æ–¹å¼å¦‚ä¸‹
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #859900; font-weight: bold;">const</span> <span style="color: #b58900; font-style: italic;">unsigned</span> <span style="color: #268bd2;">sz</span> = 3;
<span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">ial</span>[sz] = {0, 1, 2};      <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">array of three ints with values 0, 1, 2</span>
<span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">a2</span>[] = {0, 1, 2};         <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">anarray of dimension 3</span>
<span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">a3</span>[5] = {0, 1, 2};        <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">equivalent to a3[] = {0, 1, 2, 0, 0}</span>
<span style="color: #b58900; font-style: italic;">string</span> <span style="color: #268bd2;">a4</span>[3] = {<span style="color: #2aa198;">"hi"</span>, <span style="color: #2aa198;">"bye"</span>};  <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">same as a4[] = {"hi", "bye", ""}</span>
<span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">a5</span>[2] = {0, 1, 2};        <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">error: too many initializers</span>
</pre>
</div>
</li>
<li>å­—ç¬¦æ•°ç»„çš„åˆå§‹åŒ–æ–¹å¼çš„ä¸€ä¸ªç‰¹åˆ«ä¹‹å¤„æ˜¯string literalsä¼šåœ¨æœ€ååŠ ä¸€ä¸ª'\0'
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #b58900; font-style: italic;">char</span> <span style="color: #268bd2;">a3</span>[] = <span style="color: #2aa198;">"C++"</span>;     <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">null terminator added automatically</span>
<span style="color: #859900; font-weight: bold;">const</span> <span style="color: #b58900; font-style: italic;">char</span> <span style="color: #268bd2;">a4</span>[6] = <span style="color: #2aa198;">"Daniel"</span>;   <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">error:no spaces for the null!</span>
</pre>
</div>
</li>
<li>å­—ç¬¦ä¸²æ•°ç»„éstring literalsçš„è¯,å’Œæ™®é€šæ•°ç»„æ²¡å•¥åŒºåˆ«
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #b58900; font-style: italic;">char</span> <span style="color: #268bd2;">a1</span>[] = {<span style="color: #2aa198;">'c'</span>, <span style="color: #2aa198;">'+'</span>, <span style="color: #2aa198;">'+'</span>};
<span style="color: #b58900; font-style: italic;">char</span> <span style="color: #268bd2;">a2</span>[] = {<span style="color: #2aa198;">'c'</span>, <span style="color: #2aa198;">'+'</span>, <span style="color: #2aa198;">'+'</span>, <span style="color: #2aa198;">'\0'</span>};
</pre>
</div>
</li>
<li>æˆ‘ä»¬ä¸èƒ½é€šè¿‡ä¸€ä¸ªæ•°ç»„æ¥åˆå§‹åŒ–å¦å¤–ä¸€ä¸ªæ•°ç»„, ä¹Ÿä¸èƒ½æ•°ç»„é—´ç›¸äº’èµ‹å€¼
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">a</span>[] = {0, 1, 2};
<span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">a2</span>[] = a;          <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">error: can not initialize one array with another</span>
a2 = a;                <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">error: cannot assign one array to another</span>
</pre>
</div>
</li>
<li>æ•°ç»„çš„declarationæ˜¯éå¸¸éå¸¸çš„å¤šå˜å’Œéš¾ä»¥ç†è§£, æŒ‡é’ˆæ‰€è°“çš„ä»å³åˆ°å·¦å˜å¾—ä¸å†é‚£
ä¹ˆå¥½ç”¨. æ•°ç»„æ˜¯ä»'æ•°ç»„å'å¼€å§‹, ä»é‡Œå‘å¤–è¯»å–æ¯”è¾ƒåˆé€‚:
<ul class="org-ul">
<li>array of pointers
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #b58900; font-style: italic;">int</span> *<span style="color: #268bd2;">ptrs</span>[10];
</pre>
</div>
</li>
<li>NO array of references!
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">error!!</span>
<span style="color: #b58900; font-style: italic;">int</span> &amp;<span style="color: #268bd2;">refs</span>[10] = <span style="color: #93a1a1;">/* </span><span style="color: #93a1a1; font-style: italic;">? */</span>
</pre>
</div>
</li>
<li>Parray pionts to an array of ten ints
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #b58900; font-style: italic;">int</span> (*<span style="color: #268bd2;">Parray</span>)[10] = &amp;arr;
</pre>
</div>
</li>
<li>arrRef refers to an array of ten ints
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #b58900; font-style: italic;">int</span> (&amp;<span style="color: #268bd2;">arrRef</span>)[10] = arr;
</pre>
</div>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-2-10-2" class="outline-4">
<h4 id="sec-2-10-2">Access the Element of Array</h4>
<div class="outline-text-4" id="text-2-10-2">
<ul class="org-ul">
<li>cppæ˜¯ä¸ä¼šå»æ£€æŸ¥æ•°ç»„è¶Šç•Œçš„,è€Œè¿™æ˜¯å¾ˆå¤šé”™è¯¯çš„æºæ³‰.
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-2-10-3" class="outline-4">
<h4 id="sec-2-10-3">Pointers and Arrays</h4>
<div class="outline-text-4" id="text-2-10-3">
<ul class="org-ul">
<li>åœ¨cppä¸­, ç¼–è¯‘å™¨é€šå¸¸æ˜¯å°†arrayè½¬æ¢æˆpointerå»æ“ä½œ, æ¯”å¦‚ä¸‹é¢çš„ä¾‹å­numså³æ˜¯ä¸€ä¸ª
æ•°ç»„å,åŒæ—¶ä¹Ÿæ˜¯ä¸€ä¸ªæŒ‡é’ˆå
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #b58900; font-style: italic;">string</span> <span style="color: #268bd2;">nums</span>[] = {<span style="color: #2aa198;">"one"</span>, <span style="color: #2aa198;">"two"</span>, <span style="color: #2aa198;">"three"</span>};
<span style="color: #b58900; font-style: italic;">string</span> *<span style="color: #268bd2;">p2</span> = nums;     <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">equivalent to p2 = &amp;nums[0]</span>
</pre>
</div>
</li>
<li>åœ¨c++11é‡Œé¢,ä¸‹é¢çš„ä¾‹å­å¯ä»¥çœ‹å‡º,ç¼–è¯‘å™¨å°±æ˜¯æŠŠæ•°ç»„è½¬åŒ–æˆæŒ‡é’ˆå¤„ç†çš„
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">ia</span>[] = {0, 1, 2, 3, 4};    <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">ia is an array of ten ints</span>
<span style="color: #859900; font-weight: bold;">auto</span> <span style="color: #268bd2;">ia2</span>(ia);                  <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">ia2 is an int* that points to the first element in ia</span>
ia2 = 42;                      <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">error: ia2 is a pointer, and we can't assign an int to a pointer</span>
</pre>
</div>
</li>
<li>å€¼å¾—æ³¨æ„çš„æ˜¯decltypeæ˜¯ä¸ä¼šé»˜è®¤æŠŠæ•°ç»„è½¬æ¢æˆæŒ‡é’ˆçš„
<div class="org-src-container">

<pre class="src src-cpp">decltype(ia) ia3 = {0, 1, 2, 3, 4};
ia3 = p;       <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">error: can't assign an int* to an array</span>
ia3[4] = i;    <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">ok: assign the value of i to an element in ia3</span>
</pre>
</div>
</li>
<li>æŒ‡é’ˆè‡³äºæ•°ç»„å°±å¥½åƒiteratorè‡³äºvector
</li>
<li>æ–°è§„èŒƒå¼•å…¥äº†std::beginå’Œstd::endæ¥è¿”å›ä¸€ä¸ªæ•°ç»„çš„begin pointerå’Œend pointer(æœ€åä¸€ä¸ªæ•°ç»„åä¸€ä¸ªä½ç½®)
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #268bd2;">#include</span> <span style="color: #2aa198;">&lt;iostream&gt;</span>

<span style="color: #859900; font-weight: bold;">using</span> <span style="color: #859900; font-weight: bold;">namespace</span> <span style="color: #268bd2; font-weight: bold;">std</span>;

<span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">main</span>(<span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">argc</span>, <span style="color: #b58900; font-style: italic;">char</span> *<span style="color: #268bd2;">argv</span>[])
{
    <span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">arr</span>[] = {0, 1, 2, 3, 4, 5, 6, 7, 8, 9};
    <span style="color: #b58900; font-style: italic;">int</span> *<span style="color: #268bd2;">pbeg</span> = begin(arr);
    <span style="color: #b58900; font-style: italic;">int</span> *<span style="color: #268bd2;">pend</span> = end(arr);
    <span style="color: #859900; font-weight: bold;">while</span> (pbeg != pend &amp;&amp; *pbeg &gt;=0) {
        cout &lt;&lt; *pbeg &lt;&lt; <span style="color: #2aa198;">" "</span>;
        ++pbeg;
    }
    cout &lt;&lt; endl;
}

<span style="color: #93a1a1;">////////////////////////////////////////////////////</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">&lt;===================OUTPUT===================&gt; //</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">$ g++ --std=c++11 13.cc                        //</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">$ ./a.out                                      //</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">0 1 2 3 4 5 6 7 8 9                            //</span>
<span style="color: #93a1a1;">////////////////////////////////////////////////////</span>
</pre>
</div>
</li>
<li>å’Œvectorä»¥åŠstringä¸åŒçš„æ˜¯, å†…ç½®æ•°ç»„çš„indexçš„ç±»å‹ä¸æ˜¯unsigned type
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-2-10-4" class="outline-4">
<h4 id="sec-2-10-4">C-Style Character Strings</h4>
<div class="outline-text-4" id="text-2-10-4">
<ul class="org-ul">
<li>è™½ç„¶c++æ”¯æŒc-style string,ä½†æ˜¯ä»¥åä¸åº”è¯¥å†ä½¿ç”¨è¿™äº›string, å› ä¸ºå®ƒä»¬åŸºæœ¬å°±æ˜¯
bugæœ€å¤šçš„æ¥æº.
</li>
<li>TODO
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-2-10-5" class="outline-4">
<h4 id="sec-2-10-5">Interfacing to Older Code</h4>
<div class="outline-text-4" id="text-2-10-5">
<ul class="org-ul">
<li>æˆ‘ä»¬æ˜¯ä¸å¯ä»¥é€šè¿‡ä¸€ä¸ªarrayæ¥åˆå§‹åŒ–å¦å¤–ä¸€ä¸ªarray, ä½†æ˜¯æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€ä¸ªarrayæ¥
åˆå§‹åŒ–ä¸€ä¸ªvector, è€Œä¸”åœ¨æ–°è§„èŒƒå¼•å…¥äº†begin()å’Œend()ä¹‹å,å˜å¾—æ›´ç®€å•äº†
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #268bd2;">#include</span> <span style="color: #2aa198;">&lt;iostream&gt;</span>
<span style="color: #268bd2;">#include</span> <span style="color: #2aa198;">&lt;vector&gt;</span>

<span style="color: #859900; font-weight: bold;">using</span> <span style="color: #859900; font-weight: bold;">namespace</span> <span style="color: #268bd2; font-weight: bold;">std</span>;

<span style="color: #b58900; font-style: italic;">void</span> <span style="color: #268bd2;">display</span>(<span style="color: #268bd2; font-weight: bold;">std</span>::<span style="color: #b58900; font-style: italic;">vector</span>&lt;<span style="color: #b58900; font-style: italic;">int</span>&gt; <span style="color: #268bd2;">someV</span>) {
    <span style="color: #859900; font-weight: bold;">for</span> (<span style="color: #268bd2; font-weight: bold;">std</span>::<span style="color: #268bd2; font-weight: bold;">vector</span>&lt;<span style="color: #b58900; font-style: italic;">int</span>&gt;::<span style="color: #b58900; font-style: italic;">const_iterator</span> <span style="color: #268bd2;">ite</span> = someV.begin(); ite &lt; someV.cend(); ++ite) {
        <span style="color: #268bd2; font-weight: bold;">std</span>::cout &lt;&lt; *ite &lt;&lt; <span style="color: #2aa198;">"  "</span>;
    }
    <span style="color: #268bd2; font-weight: bold;">std</span>::cout &lt;&lt; <span style="color: #268bd2; font-weight: bold;">std</span>::endl;
}

<span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">main</span>(<span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">argc</span>, <span style="color: #b58900; font-style: italic;">char</span> *<span style="color: #268bd2;">argv</span>[])
{
    <span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">int_arr</span>[] = {0, 1, 2, 3, 4, 5, 6, 7, 8, 9};

    <span style="color: #b58900; font-style: italic;">vector</span>&lt;<span style="color: #b58900; font-style: italic;">int</span>&gt; <span style="color: #268bd2;">ivec</span>(<span style="color: #b58900; font-style: italic;">begin</span>(<span style="color: #268bd2;">int_arr</span>), <span style="color: #b58900; font-style: italic;">end</span>(<span style="color: #268bd2;">int_arr</span>));
    display(ivec);

    <span style="color: #b58900; font-style: italic;">vector</span>&lt;<span style="color: #b58900; font-style: italic;">int</span>&gt; <span style="color: #268bd2;">subVec</span>(int_arr + 1, int_arr + 4);
    display(subVec);
}

<span style="color: #93a1a1;">////////////////////////////////////////////////////</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">&lt;===================OUTPUT===================&gt; //</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">0  1  2  3  4  5  6  7  8  9                   //</span>
<span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">1  2  3                                        //</span>
<span style="color: #93a1a1;">////////////////////////////////////////////////////</span>
</pre>
</div>
</li>
<li>ç”±äºc-style stringå’ŒæŒ‡é’ˆæ˜¯å¦‚æ­¤çš„å®¹æ˜“å‡ºé”™,æ‰€ä»¥æ–°ä»£ç æ¨èä½¿ç”¨vectorå’Œstrings
</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-sec-2-11" class="outline-3">
<h3 id="sec-2-11">Multidimensional Arrays</h3>
<div class="outline-text-3" id="text-2-11">
<ul class="org-ul">
<li>å…¶å®åœ¨cppä¸­æ˜¯ä¸å­˜åœ¨å¤šç»´æ•°ç»„çš„, å¤šç»´æ•°ç»„çš„æœ¬è´¨å°±æ˜¯arrays of arrays
<pre class="example">
What are commonly referred to as multidimensional arrays are actually arrays of arrays
</pre>
</li>
<li>å¯¹äºå¤šç»´æ•°ç»„çš„ç†è§£,ä»ç¬¬ä¸€dimensionå¼€å§‹"è¯»å–"æ¯”è¾ƒå®¹æ˜“, æ¯”å¦‚
<div class="org-src-container">

<pre class="src src-cpp"><span style="color: #b58900; font-style: italic;">int</span> <span style="color: #268bd2;">ia</span>[3][4]; <span style="color: #93a1a1;">// </span><span style="color: #93a1a1; font-style: italic;">array of size 3; each element is an array of ints of size 4</span>
</pre>
</div>
</li>
<li>TODO
</li>
</ul>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">

         <!-- Disqus Comment BEGIN -->
          <div id="disqus_thread"></div>
          <script type="text/javascript">
              var disqus_shortname = 'harrifeng';

              (function() {
                  var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
              })();
          </script>
          <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

         <!-- Disqus Comment END -->
</div>
</body>
</html>
